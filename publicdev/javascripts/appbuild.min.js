!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===a[b-2]?2:"="===a[b-1]?1:0}function e(a){return 3*a.length/4-d(a)}function f(a){var b,c,e,f,g,h,i=a.length;g=d(a),h=new l(3*i/4-g),e=g>0?i-4:i;var j=0;for(b=0,c=0;b<e;b+=4,c+=3)f=k[a.charCodeAt(b)]<<18|k[a.charCodeAt(b+1)]<<12|k[a.charCodeAt(b+2)]<<6|k[a.charCodeAt(b+3)],h[j++]=f>>16&255,h[j++]=f>>8&255,h[j++]=255&f;return 2===g?(f=k[a.charCodeAt(b)]<<2|k[a.charCodeAt(b+1)]>>4,h[j++]=255&f):1===g&&(f=k[a.charCodeAt(b)]<<10|k[a.charCodeAt(b+1)]<<4|k[a.charCodeAt(b+2)]>>2,h[j++]=f>>8&255,h[j++]=255&f),h}function g(a){return j[a>>18&63]+j[a>>12&63]+j[a>>6&63]+j[63&a]}function h(a,b,c){for(var d,e=[],f=b;f<c;f+=3)d=(a[f]<<16)+(a[f+1]<<8)+a[f+2],e.push(g(d));return e.join("")}function i(a){for(var b,c=a.length,d=c%3,e="",f=[],g=0,i=c-d;g<i;g+=16383)f.push(h(a,g,g+16383>i?i:g+16383));return 1===d?(b=a[c-1],e+=j[b>>2],e+=j[b<<4&63],e+="=="):2===d&&(b=(a[c-2]<<8)+a[c-1],e+=j[b>>10],e+=j[b>>4&63],e+=j[b<<2&63],e+="="),f.push(e),f.join("")}c.byteLength=e,c.toByteArray=f,c.fromByteArray=i;for(var j=[],k=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=m.length;n<o;++n)j[n]=m[n],k[m.charCodeAt(n)]=n;k["-".charCodeAt(0)]=62,k["_".charCodeAt(0)]=63},{}],2:[function(a,b,c){"use strict";"use restrict";function d(a){var b=32;return a&=-a,a&&b--,65535&a&&(b-=16),16711935&a&&(b-=8),252645135&a&&(b-=4),858993459&a&&(b-=2),1431655765&a&&(b-=1),b}c.INT_BITS=32,c.INT_MAX=2147483647,c.INT_MIN=-1<<31,c.sign=function(a){return(a>0)-(a<0)},c.abs=function(a){var b=a>>31;return(a^b)-b},c.min=function(a,b){return b^(a^b)&-(a<b)},c.max=function(a,b){return a^(a^b)&-(a<b)},c.isPow2=function(a){return!(a&a-1||!a)},c.log2=function(a){var b,c;return b=(a>65535)<<4,a>>>=b,c=(a>255)<<3,a>>>=c,b|=c,c=(a>15)<<2,a>>>=c,b|=c,c=(a>3)<<1,a>>>=c,(b|=c)|a>>1},c.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},c.popCount=function(a){return a-=a>>>1&1431655765,16843009*((a=(858993459&a)+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},c.countTrailingZeros=d,c.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)+1},c.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},c.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var e=new Array(256);!function(a){for(var b=0;b<256;++b){var c=b,d=b,e=7;for(c>>>=1;c;c>>>=1)d<<=1,d|=1&c,--e;a[b]=d<<e&255}}(e),c.reverse=function(a){return e[255&a]<<24|e[a>>>8&255]<<16|e[a>>>16&255]<<8|e[a>>>24&255]},c.interleave2=function(a,b){return a&=65535,a=16711935&(a|a<<8),a=252645135&(a|a<<4),a=858993459&(a|a<<2),a=1431655765&(a|a<<1),b&=65535,b=16711935&(b|b<<8),b=252645135&(b|b<<4),b=858993459&(b|b<<2),b=1431655765&(b|b<<1),a|b<<1},c.deinterleave2=function(a,b){return a=a>>>b&1431655765,a=858993459&(a|a>>>1),a=252645135&(a|a>>>2),a=16711935&(a|a>>>4),(a=65535&(a|a>>>16))<<16>>16},c.interleave3=function(a,b,c){return a&=1023,a=4278190335&(a|a<<16),a=251719695&(a|a<<8),a=3272356035&(a|a<<4),a=1227133513&(a|a<<2),b&=1023,b=4278190335&(b|b<<16),b=251719695&(b|b<<8),b=3272356035&(b|b<<4),b=1227133513&(b|b<<2),a|=b<<1,c&=1023,c=4278190335&(c|c<<16),c=251719695&(c|c<<8),c=3272356035&(c|c<<4),c=1227133513&(c|c<<2),a|c<<2},c.deinterleave3=function(a,b){return a=a>>>b&1227133513,a=3272356035&(a|a>>>2),a=251719695&(a|a>>>4),a=4278190335&(a|a>>>8),(a=1023&(a|a>>>16))<<22>>22},c.nextCombination=function(a){var b=a|a-1;return b+1|(~b&-~b)-1>>>d(a)+1}},{}],3:[function(a,b,c){},{}],4:[function(a,b,c){(function(b){"use strict";function d(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(a,b){if(d()<b)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=f.prototype):(null===a&&(a=new f(b)),a.length=b),a}function f(a,b,c){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(a,b,c);if("number"==typeof a){if("string"==typeof b)throw new Error("If encoding is specified then the first argument must be a string");return j(this,a)}return g(this,a,b,c)}function g(a,b,c,d){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?m(a,b,c,d):"string"==typeof b?k(a,b,c):n(a,b)}function h(a){if("number"!=typeof a)throw new TypeError('"size" argument must be a number');if(a<0)throw new RangeError('"size" argument must not be negative')}function i(a,b,c,d){return h(b),b<=0?e(a,b):void 0!==c?"string"==typeof d?e(a,b).fill(c,d):e(a,b).fill(c):e(a,b)}function j(a,b){if(h(b),a=e(a,b<0?0:0|o(b)),!f.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;++c)a[c]=0;return a}function k(a,b,c){if("string"==typeof c&&""!==c||(c="utf8"),!f.isEncoding(c))throw new TypeError('"encoding" must be a valid string encoding');var d=0|q(b,c);a=e(a,d);var g=a.write(b,c);return g!==d&&(a=a.slice(0,g)),a}function l(a,b){var c=b.length<0?0:0|o(b.length);a=e(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function m(a,b,c,d){if(b.byteLength,c<0||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");return b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d),f.TYPED_ARRAY_SUPPORT?(a=b,a.__proto__=f.prototype):a=l(a,b),a}function n(a,b){if(f.isBuffer(b)){var c=0|o(b.length);return a=e(a,c),0===a.length?a:(b.copy(a,0,0,c),a)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||X(b.length)?e(a,0):l(a,b);if("Buffer"===b.type&&$(b.data))return l(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function o(a){if(a>=d())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d().toString(16)+" bytes");return 0|a}function p(a){return+a!=a&&(a=0),f.alloc(+a)}function q(a,b){if(f.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":case void 0:return S(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return V(a).length;default:if(d)return S(a).length;b=(""+b).toLowerCase(),d=!0}}function r(a,b,c){var d=!1;if((void 0===b||b<0)&&(b=0),b>this.length)return"";if((void 0===c||c>this.length)&&(c=this.length),c<=0)return"";if(c>>>=0,b>>>=0,c<=b)return"";for(a||(a="utf8");;)switch(a){case"hex":return G(this,b,c);case"utf8":case"utf-8":return C(this,b,c);case"ascii":return E(this,b,c);case"latin1":case"binary":return F(this,b,c);case"base64":return B(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function s(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function t(a,b,c,d,e){if(0===a.length)return-1;if("string"==typeof c?(d=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,isNaN(c)&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return-1;c=a.length-1}else if(c<0){if(!e)return-1;c=0}if("string"==typeof b&&(b=f.from(b,d)),f.isBuffer(b))return 0===b.length?-1:u(a,b,c,d,e);if("number"==typeof b)return b&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):u(a,[b],c,d,e);throw new TypeError("val must be string, number or Buffer")}function u(a,b,c,d,e){function f(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,h=a.length,i=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return-1;g=2,h/=2,i/=2,c/=2}var j;if(e){var k=-1;for(j=c;j<h;j++)if(f(a,j)===f(b,-1===k?0:j-k)){if(-1===k&&(k=j),j-k+1===i)return k*g}else-1!==k&&(j-=j-k),k=-1}else for(c+i>h&&(c=h-i),j=c;j>=0;j--){for(var l=!0,m=0;m<i;m++)if(f(a,j+m)!==f(b,m)){l=!1;break}if(l)return j}return-1}function v(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d))>e&&(d=e):d=e;var f=b.length;if(f%2!=0)throw new TypeError("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;++g){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))return g;a[c+g]=h}return g}function w(a,b,c,d){return W(S(b,a.length-c),a,c,d)}function x(a,b,c,d){return W(T(b),a,c,d)}function y(a,b,c,d){return x(a,b,c,d)}function z(a,b,c,d){return W(V(b),a,c,d)}function A(a,b,c,d){return W(U(b,a.length-c),a,c,d)}function B(a,b,c){return 0===b&&c===a.length?Y.fromByteArray(a):Y.fromByteArray(a.slice(b,c))}function C(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128==(192&i)&&(l=(31&f)<<6|63&i)>127&&(g=l);break;case 3:i=a[e+1],j=a[e+2],128==(192&i)&&128==(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j)>2047&&(l<55296||l>57343)&&(g=l);break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128==(192&i)&&128==(192&j)&&128==(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k)>65535&&l<1114112&&(g=l)}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return D(d)}function D(a){var b=a.length;if(b<=_)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=_));return c}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function F(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function G(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;++f)e+=R(a[f]);return e}function H(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function I(a,b,c){if(a%1!=0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function J(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<g)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range")}function K(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;++e)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function L(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;++e)a[c+e]=b>>>8*(d?e:3-e)&255}function M(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function N(a,b,c,d,e){return e||M(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(a,b,c,d,23,4),c+4}function O(a,b,c,d,e){return e||M(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(a,b,c,d,52,8),c+8}function P(a){if(a=Q(a).replace(aa,""),a.length<2)return"";for(;a.length%4!=0;)a+="=";return a}function Q(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function R(a){return a<16?"0"+a.toString(16):a.toString(16)}function S(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=65536+(e-55296<<10|c-56320)}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function T(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function U(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);++g)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function V(a){return Y.toByteArray(P(a))}function W(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function X(a){return a!==a}var Y=a("base64-js"),Z=a("ieee754"),$=a("isarray");c.Buffer=f,c.SlowBuffer=p,c.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:function(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(a){return!1}}(),c.kMaxLength=d(),f.poolSize=8192,f._augment=function(a){return a.__proto__=f.prototype,a},f.from=function(a,b,c){return g(null,a,b,c)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(a,b,c){return i(null,a,b,c)},f.allocUnsafe=function(a){return j(null,a)},f.allocUnsafeSlow=function(a){return j(null,a)},f.isBuffer=function(a){return!(null==a||!a._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,g=Math.min(c,d);e<g;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:d<c?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,b){if(!$(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return f.alloc(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;var d=f.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){var g=a[c];if(!f.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(d,e),e+=g.length}return d},f.byteLength=q,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var a=this.length;if(a%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)s(this,b,b+1);return this},f.prototype.swap32=function(){var a=this.length;if(a%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)s(this,b,b+3),s(this,b+1,b+2);return this},f.prototype.swap64=function(){var a=this.length;if(a%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)s(this,b,b+7),s(this,b+1,b+6),s(this,b+2,b+5),s(this,b+3,b+4);return this},f.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?C(this,0,a):r.apply(this,arguments)},f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===f.compare(this,a)},f.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},f.prototype.compare=function(a,b,c,d,e){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===e&&(e=this.length),b<0||c>a.length||d<0||e>this.length)throw new RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return-1;if(b>=c)return 1;if(b>>>=0,c>>>=0,d>>>=0,e>>>=0,this===a)return 0;for(var g=e-d,h=c-b,i=Math.min(g,h),j=this.slice(d,e),k=a.slice(b,c),l=0;l<i;++l)if(j[l]!==k[l]){g=j[l],h=k[l];break}return g<h?-1:h<g?1:0},f.prototype.includes=function(a,b,c){return-1!==this.indexOf(a,b,c)},f.prototype.indexOf=function(a,b,c){return t(this,a,b,c,!0)},f.prototype.lastIndexOf=function(a,b,c){return t(this,a,b,c,!1)},f.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0)}var e=this.length-b;if((void 0===c||c>e)&&(c=e),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(var f=!1;;)switch(d){case"hex":return v(this,a,b,c);case"utf8":case"utf-8":return w(this,a,b,c);case"ascii":return x(this,a,b,c);case"latin1":case"binary":return y(this,a,b,c);case"base64":return z(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,a,b,c);default:if(f)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),f=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);var d;if(f.TYPED_ARRAY_SUPPORT)d=this.subarray(a,b),d.__proto__=f.prototype;else{var e=b-a;d=new f(e,void 0);for(var g=0;g<e;++g)d[g]=this[g+a]}return d},f.prototype.readUIntLE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},f.prototype.readUIntBE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},f.prototype.readUInt8=function(a,b){return b||I(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,b){return b||I(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,b){return b||I(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,b){return b||I(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,b){return b||I(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},f.prototype.readIntBE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},f.prototype.readInt8=function(a,b){return b||I(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},f.prototype.readInt16LE=function(a,b){b||I(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt16BE=function(a,b){b||I(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt32LE=function(a,b){return b||I(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,b){return b||I(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,b){return b||I(a,4,this.length),Z.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,b){return b||I(a,4,this.length),Z.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,b){return b||I(a,8,this.length),Z.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,b){return b||I(a,8,this.length),Z.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,b,c,d){if(a=+a,b|=0,c|=0,!d){J(this,a,b,c,Math.pow(2,8*c)-1,0)}var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},f.prototype.writeUIntBE=function(a,b,c,d){if(a=+a,b|=0,c|=0,!d){J(this,a,b,c,Math.pow(2,8*c)-1,0)}var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},f.prototype.writeUInt8=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,1,255,0),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},f.prototype.writeUInt16LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):K(this,a,b,!0),b+2},f.prototype.writeUInt16BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):K(this,a,b,!1),b+2},f.prototype.writeUInt32LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):L(this,a,b,!0),b+4},f.prototype.writeUInt32BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):L(this,a,b,!1),b+4},f.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);J(this,a,b,c,e-1,-e)}var f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);J(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeInt8=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,1,127,-128),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},f.prototype.writeInt16LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):K(this,a,b,!0),b+2},f.prototype.writeInt16BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):K(this,a,b,!1),b+2},f.prototype.writeInt32LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):L(this,a,b,!0),b+4},f.prototype.writeInt32BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):L(this,a,b,!1),b+4},f.prototype.writeFloatLE=function(a,b,c){return N(this,a,b,!0,c)},f.prototype.writeFloatBE=function(a,b,c){return N(this,a,b,!1,c)},f.prototype.writeDoubleLE=function(a,b,c){return O(this,a,b,!0,c)},f.prototype.writeDoubleBE=function(a,b,c){return O(this,a,b,!1,c)},f.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,g=d-c;if(this===a&&c<b&&b<d)for(e=g-1;e>=0;--e)a[e+b]=this[e+c];else if(g<1e3||!f.TYPED_ARRAY_SUPPORT)for(e=0;e<g;++e)a[e+b]=this[e+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+g),b);return g},f.prototype.fill=function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),1===a.length){var e=a.charCodeAt(0);e<256&&(a=e)}if(void 0!==d&&"string"!=typeof d)throw new TypeError("encoding must be a string");if("string"==typeof d&&!f.isEncoding(d))throw new TypeError("Unknown encoding: "+d)}else"number"==typeof a&&(a&=255);if(b<0||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0);var g;if("number"==typeof a)for(g=b;g<c;++g)this[g]=a;else{var h=f.isBuffer(a)?a:S(new f(a,d).toString()),i=h.length;for(g=0;g<c-b;++g)this[g+b]=h[g%i]}return this};var aa=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:10,isarray:13}],5:[function(a,b,c){b.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],6:[function(a,b,c){(function(a){function b(a){return Array.isArray?Array.isArray(a):"[object Array]"===q(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"==typeof a}function j(a){return void 0===a}function k(a){return"[object RegExp]"===q(a)}function l(a){return"object"==typeof a&&null!==a}function m(a){return"[object Date]"===q(a)}function n(a){return"[object Error]"===q(a)||a instanceof Error}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||void 0===a}function q(a){return Object.prototype.toString.call(a)}c.isArray=b,c.isBoolean=d,c.isNull=e,c.isNullOrUndefined=f,c.isNumber=g,c.isString=h,c.isSymbol=i,c.isUndefined=j,c.isRegExp=k,c.isObject=l,c.isDate=m,c.isError=n,c.isFunction=o,c.isPrimitive=p,c.isBuffer=a.isBuffer}).call(this,{isBuffer:a("../../is-buffer/index.js")})},{"../../is-buffer/index.js":12}],7:[function(a,b,c){"use strict";function d(a,b,c){c=c||2;var d=b&&b.length,f=d?b[0]*c:a.length,h=e(a,0,f,c,!0),i=[];if(!h)return i;var j,k,m,n,o,p,q;if(d&&(h=l(a,b,h,c)),a.length>80*c){j=m=a[0],k=n=a[1];for(var r=c;r<f;r+=c)o=a[r],p=a[r+1],o<j&&(j=o),p<k&&(k=p),o>m&&(m=o),p>n&&(n=p);q=Math.max(m-j,n-k)}return g(h,i,c,j,k,q),i}function e(a,b,c,d,e){var f,g;if(e===F(a,b,c,d)>0)for(f=b;f<c;f+=d)g=C(f,a[f],a[f+1],g);else for(f=c-d;f>=b;f-=d)g=C(f,a[f],a[f+1],g);return g&&w(g,g.next)&&(D(g),g=g.next),g}function f(a,b){if(!a)return a;b||(b=a);var c,d=a;do{if(c=!1,d.steiner||!w(d,d.next)&&0!==v(d.prev,d,d.next))d=d.next;else{if(D(d),(d=b=d.prev)===d.next)return null;c=!0}}while(c||d!==b);return b}function g(a,b,c,d,e,l,m){if(a){!m&&l&&p(a,d,e,l);for(var n,o,q=a;a.prev!==a.next;)if(n=a.prev,o=a.next,l?i(a,d,e,l):h(a))b.push(n.i/c),b.push(a.i/c),b.push(o.i/c),D(a),a=o.next,q=o.next;else if((a=o)===q){m?1===m?(a=j(a,b,c),g(a,b,c,d,e,l,2)):2===m&&k(a,b,c,d,e,l):g(f(a),b,c,d,e,l,1);break}}}function h(a){var b=a.prev,c=a,d=a.next;if(v(b,c,d)>=0)return!1;for(var e=a.next.next;e!==a.prev;){if(t(b.x,b.y,c.x,c.y,d.x,d.y,e.x,e.y)&&v(e.prev,e,e.next)>=0)return!1;e=e.next}return!0}function i(a,b,c,d){var e=a.prev,f=a,g=a.next;if(v(e,f,g)>=0)return!1;for(var h=e.x<f.x?e.x<g.x?e.x:g.x:f.x<g.x?f.x:g.x,i=e.y<f.y?e.y<g.y?e.y:g.y:f.y<g.y?f.y:g.y,j=e.x>f.x?e.x>g.x?e.x:g.x:f.x>g.x?f.x:g.x,k=e.y>f.y?e.y>g.y?e.y:g.y:f.y>g.y?f.y:g.y,l=r(h,i,b,c,d),m=r(j,k,b,c,d),n=a.nextZ;n&&n.z<=m;){if(n!==a.prev&&n!==a.next&&t(e.x,e.y,f.x,f.y,g.x,g.y,n.x,n.y)&&v(n.prev,n,n.next)>=0)return!1;n=n.nextZ}for(n=a.prevZ;n&&n.z>=l;){if(n!==a.prev&&n!==a.next&&t(e.x,e.y,f.x,f.y,g.x,g.y,n.x,n.y)&&v(n.prev,n,n.next)>=0)return!1;n=n.prevZ}return!0}function j(a,b,c){var d=a;do{var e=d.prev,f=d.next.next;!w(e,f)&&x(e,d,d.next,f)&&z(e,f)&&z(f,e)&&(b.push(e.i/c),b.push(d.i/c),b.push(f.i/c),D(d),D(d.next),d=a=f),d=d.next}while(d!==a);return d}function k(a,b,c,d,e,h){var i=a;do{for(var j=i.next.next;j!==i.prev;){if(i.i!==j.i&&u(i,j)){var k=B(i,j);return i=f(i,i.next),k=f(k,k.next),g(i,b,c,d,e,h),void g(k,b,c,d,e,h)}j=j.next}i=i.next}while(i!==a)}function l(a,b,c,d){var g,h,i,j,k,l=[];for(g=0,h=b.length;g<h;g++)i=b[g]*d,j=g<h-1?b[g+1]*d:a.length,k=e(a,i,j,d,!1),k===k.next&&(k.steiner=!0),l.push(s(k));for(l.sort(m),g=0;g<l.length;g++)n(l[g],c),c=f(c,c.next);return c}function m(a,b){return a.x-b.x}function n(a,b){if(b=o(a,b)){var c=B(b,a);f(c,c.next)}}function o(a,b){var c,d=b,e=a.x,f=a.y,g=-1/0;do{if(f<=d.y&&f>=d.next.y){var h=d.x+(f-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(h<=e&&h>g){if(g=h,h===e){if(f===d.y)return d;if(f===d.next.y)return d.next}c=d.x<d.next.x?d:d.next}}d=d.next}while(d!==b);if(!c)return null;if(e===g)return c.prev;var i,j=c,k=c.x,l=c.y,m=1/0;for(d=c.next;d!==j;)e>=d.x&&d.x>=k&&t(f<l?e:g,f,k,l,f<l?g:e,f,d.x,d.y)&&((i=Math.abs(f-d.y)/(e-d.x))<m||i===m&&d.x>c.x)&&z(d,a)&&(c=d,m=i),d=d.next;return c}function p(a,b,c,d){var e=a;do{null===e.z&&(e.z=r(e.x,e.y,b,c,d)),e.prevZ=e.prev,e.nextZ=e.next,e=e.next}while(e!==a);e.prevZ.nextZ=null,e.prevZ=null,q(e)}function q(a){var b,c,d,e,f,g,h,i,j=1;do{for(c=a,a=null,f=null,g=0;c;){for(g++,d=c,h=0,b=0;b<j&&(h++,d=d.nextZ);b++);for(i=j;h>0||i>0&&d;)0===h?(e=d,d=d.nextZ,i--):0!==i&&d?c.z<=d.z?(e=c,c=c.nextZ,h--):(e=d,d=d.nextZ,i--):(e=c,c=c.nextZ,h--),f?f.nextZ=e:a=e,e.prevZ=f,f=e;c=d}f.nextZ=null,j*=2}while(g>1);return a}function r(a,b,c,d,e){return a=32767*(a-c)/e,b=32767*(b-d)/e,a=16711935&(a|a<<8),a=252645135&(a|a<<4),a=858993459&(a|a<<2),a=1431655765&(a|a<<1),b=16711935&(b|b<<8),b=252645135&(b|b<<4),b=858993459&(b|b<<2),b=1431655765&(b|b<<1),a|b<<1}function s(a){var b=a,c=a;do{b.x<c.x&&(c=b),b=b.next}while(b!==a);return c}function t(a,b,c,d,e,f,g,h){return(e-g)*(b-h)-(a-g)*(f-h)>=0&&(a-g)*(d-h)-(c-g)*(b-h)>=0&&(c-g)*(f-h)-(e-g)*(d-h)>=0}function u(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!y(a,b)&&z(a,b)&&z(b,a)&&A(a,b)}function v(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function w(a,b){return a.x===b.x&&a.y===b.y}function x(a,b,c,d){return!!(w(a,b)&&w(c,d)||w(a,d)&&w(c,b))||v(a,b,c)>0!=v(a,b,d)>0&&v(c,d,a)>0!=v(c,d,b)>0}function y(a,b){var c=a;do{if(c.i!==a.i&&c.next.i!==a.i&&c.i!==b.i&&c.next.i!==b.i&&x(c,c.next,a,b))return!0;c=c.next}while(c!==a);return!1}function z(a,b){return v(a.prev,a,a.next)<0?v(a,b,a.next)>=0&&v(a,a.prev,b)>=0:v(a,b,a.prev)<0||v(a,a.next,b)<0}function A(a,b){var c=a,d=!1,e=(a.x+b.x)/2,f=(a.y+b.y)/2;do{c.y>f!=c.next.y>f&&e<(c.next.x-c.x)*(f-c.y)/(c.next.y-c.y)+c.x&&(d=!d),c=c.next}while(c!==a);return d}function B(a,b){var c=new E(a.i,a.x,a.y),d=new E(b.i,b.x,b.y),e=a.next,f=b.prev;return a.next=b,b.prev=a,c.next=e,e.prev=c,d.next=c,c.prev=d,f.next=d,d.prev=f,d}function C(a,b,c,d){var e=new E(a,b,c);return d?(e.next=d.next,e.prev=d,d.next.prev=e,d.next=e):(e.prev=e,e.next=e),e}function D(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function E(a,b,c){this.i=a,this.x=b,this.y=c,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function F(a,b,c,d){for(var e=0,f=b,g=c-d;f<c;f+=d)e+=(a[g]-a[f])*(a[f+1]+a[g+1]),g=f;return e}b.exports=d,d.deviation=function(a,b,c,d){var e=b&&b.length,f=e?b[0]*c:a.length,g=Math.abs(F(a,0,f,c));if(e)for(var h=0,i=b.length;h<i;h++){var j=b[h]*c,k=h<i-1?b[h+1]*c:a.length
;g-=Math.abs(F(a,j,k,c))}var l=0;for(h=0;h<d.length;h+=3){var m=d[h]*c,n=d[h+1]*c,o=d[h+2]*c;l+=Math.abs((a[m]-a[o])*(a[n+1]-a[m+1])-(a[m]-a[n])*(a[o+1]-a[m+1]))}return 0===g&&0===l?0:Math.abs((l-g)/g)},d.flatten=function(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0,e=0;e<a.length;e++){for(var f=0;f<a[e].length;f++)for(var g=0;g<b;g++)c.vertices.push(a[e][f][g]);e>0&&(d+=a[e-1].length,c.holes.push(d))}return c}},{}],8:[function(a,b,c){"use strict";function d(){}function e(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function f(){this._events=new d,this._eventsCount=0}var g=Object.prototype.hasOwnProperty,h="~";Object.create&&(d.prototype=Object.create(null),(new d).__proto__||(h=!1)),f.prototype.eventNames=function(){var a,b,c=[];if(0===this._eventsCount)return c;for(b in a=this._events)g.call(a,b)&&c.push(h?b.slice(1):b);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(a)):c},f.prototype.listeners=function(a,b){var c=h?h+a:a,d=this._events[c];if(b)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var e=0,f=d.length,g=new Array(f);e<f;e++)g[e]=d[e].fn;return g},f.prototype.emit=function(a,b,c,d,e,f){var g=h?h+a:a;if(!this._events[g])return!1;var i,j,k=this._events[g],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,e),!0;case 6:return k.fn.call(k.context,b,c,d,e,f),!0}for(j=1,i=new Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;case 4:k[j].fn.call(k[j].context,b,c,d);break;default:if(!i)for(m=1,i=new Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},f.prototype.on=function(a,b,c){var d=new e(b,c||this),f=h?h+a:a;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],d]:this._events[f].push(d):(this._events[f]=d,this._eventsCount++),this},f.prototype.once=function(a,b,c){var d=new e(b,c||this,!0),f=h?h+a:a;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],d]:this._events[f].push(d):(this._events[f]=d,this._eventsCount++),this},f.prototype.removeListener=function(a,b,c,e){var f=h?h+a:a;if(!this._events[f])return this;if(!b)return 0==--this._eventsCount?this._events=new d:delete this._events[f],this;var g=this._events[f];if(g.fn)g.fn!==b||e&&!g.once||c&&g.context!==c||(0==--this._eventsCount?this._events=new d:delete this._events[f]);else{for(var i=0,j=[],k=g.length;i<k;i++)(g[i].fn!==b||e&&!g[i].once||c&&g[i].context!==c)&&j.push(g[i]);j.length?this._events[f]=1===j.length?j[0]:j:0==--this._eventsCount?this._events=new d:delete this._events[f]}return this},f.prototype.removeAllListeners=function(a){var b;return a?(b=h?h+a:a,this._events[b]&&(0==--this._eventsCount?this._events=new d:delete this._events[b])):(this._events=new d,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prototype.setMaxListeners=function(){return this},f.prefixed=h,f.EventEmitter=f,void 0!==b&&(b.exports=f)},{}],9:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if((b=arguments[1])instanceof Error)throw b;var k=new Error('Uncaught, unspecified "error" event. ('+b+")");throw k.context=b,k}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(g(c))for(f=Array.prototype.slice.call(arguments,1),j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f);return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned&&(c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners)&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.trace),this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){return this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(e(b))return 1;if(b)return b.length}return 0},d.listenerCount=function(a,b){return a.listenerCount(b)}},{}],10:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],11:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],12:[function(a,b,c){function d(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function e(a){return"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&d(a.slice(0,0))}b.exports=function(a){return null!=a&&(d(a)||e(a)||!!a._isBuffer)}},{}],13:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],14:[function(a,b,c){!function(a){var c=/iPhone/i,d=/iPod/i,e=/iPad/i,f=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,g=/Android/i,h=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,i=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,j=/Windows Phone/i,k=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,l=/BlackBerry/i,m=/BB10/i,n=/Opera Mini/i,o=/(CriOS|Chrome)(?=.*\bMobile\b)/i,p=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,q=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),r=function(a,b){return a.test(b)},s=function(a){var b=a||navigator.userAgent,s=b.split("[FBAN");if(void 0!==s[1]&&(b=s[0]),s=b.split("Twitter"),void 0!==s[1]&&(b=s[0]),this.apple={phone:r(c,b),ipod:r(d,b),tablet:!r(c,b)&&r(e,b),device:r(c,b)||r(d,b)||r(e,b)},this.amazon={phone:r(h,b),tablet:!r(h,b)&&r(i,b),device:r(h,b)||r(i,b)},this.android={phone:r(h,b)||r(f,b),tablet:!r(h,b)&&!r(f,b)&&(r(i,b)||r(g,b)),device:r(h,b)||r(i,b)||r(f,b)||r(g,b)},this.windows={phone:r(j,b),tablet:r(k,b),device:r(j,b)||r(k,b)},this.other={blackberry:r(l,b),blackberry10:r(m,b),opera:r(n,b),firefox:r(p,b),chrome:r(o,b),device:r(l,b)||r(m,b)||r(n,b)||r(p,b)||r(o,b)},this.seven_inch=r(q,b),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},t=function(){var a=new s;return a.Class=s,a};void 0!==b&&b.exports&&"undefined"==typeof window?b.exports=s:void 0!==b&&b.exports&&"undefined"!=typeof window?b.exports=t():"function"==typeof define&&define.amd?define("isMobile",[],a.isMobile=t()):a.isMobile=t()}(this)},{}],15:[function(a,b,c){!function(a,c){"use strict";"object"==typeof b&&"object"==typeof b.exports?b.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return c(a)}:c(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";function c(a,b){b=b||ca;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}function d(a){var b=!!a&&"length"in a&&a.length,c=oa.type(a);return"function"!==c&&!oa.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function e(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function f(a,b,c){return oa.isFunction(b)?oa.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?oa.grep(a,function(a){return a===b!==c}):"string"!=typeof b?oa.grep(a,function(a){return ha.call(b,a)>-1!==c}):ya.test(b)?oa.filter(b,a,c):(b=oa.filter(b,a),oa.grep(a,function(a){return ha.call(b,a)>-1!==c&&1===a.nodeType}))}function g(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function h(a){var b={};return oa.each(a.match(Da)||[],function(a,c){b[c]=!0}),b}function i(a){return a}function j(a){throw a}function k(a,b,c,d){var e;try{a&&oa.isFunction(e=a.promise)?e.call(a).done(b).fail(c):a&&oa.isFunction(e=a.then)?e.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(a){c.apply(void 0,[a])}}function l(){ca.removeEventListener("DOMContentLoaded",l),a.removeEventListener("load",l),oa.ready()}function m(){this.expando=oa.expando+m.uid++}function n(a){return"true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:Ka.test(a)?JSON.parse(a):a)}function o(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(La,"-$&").toLowerCase(),"string"==typeof(c=a.getAttribute(d))){try{c=n(c)}catch(a){}Ja.set(a,b,c)}else c=void 0;return c}function p(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return oa.css(a,b,"")},i=h(),j=c&&c[3]||(oa.cssNumber[b]?"":"px"),k=(oa.cssNumber[b]||"px"!==j&&+i)&&Na.exec(oa.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do{f=f||".5",k/=f,oa.style(a,b,k+j)}while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function q(a){var b,c=a.ownerDocument,d=a.nodeName,e=Ra[d];return e||(b=c.body.appendChild(c.createElement(d)),e=oa.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),Ra[d]=e,e)}function r(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=Ia.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&Pa(d)&&(e[f]=q(d))):"none"!==c&&(e[f]="none",Ia.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}function s(a,b){var c;return c=void 0!==a.getElementsByTagName?a.getElementsByTagName(b||"*"):void 0!==a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&e(a,b)?oa.merge([a],c):c}function t(a,b){for(var c=0,d=a.length;c<d;c++)Ia.set(a[c],"globalEval",!b||Ia.get(b[c],"globalEval"))}function u(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;n<o;n++)if((f=a[n])||0===f)if("object"===oa.type(f))oa.merge(m,f.nodeType?[f]:f);else if(Wa.test(f)){for(g=g||l.appendChild(b.createElement("div")),h=(Ta.exec(f)||["",""])[1].toLowerCase(),i=Va[h]||Va._default,g.innerHTML=i[1]+oa.htmlPrefilter(f)+i[2],k=i[0];k--;)g=g.lastChild;oa.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));for(l.textContent="",n=0;f=m[n++];)if(d&&oa.inArray(f,d)>-1)e&&e.push(f);else if(j=oa.contains(f.ownerDocument,f),g=s(l.appendChild(f),"script"),j&&t(g),c)for(k=0;f=g[k++];)Ua.test(f.type||"")&&c.push(f);return l}function v(){return!0}function w(){return!1}function x(){try{return ca.activeElement}catch(a){}}function y(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)y(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),!1===e)e=w;else if(!e)return a;return 1===f&&(g=e,e=function(a){return oa().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=oa.guid++)),a.each(function(){oa.event.add(this,b,e,d,c)})}function z(a,b){return e(a,"table")&&e(11!==b.nodeType?b:b.firstChild,"tr")?oa(">tbody",a)[0]||a:a}function A(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function B(a){var b=cb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function C(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(Ia.hasData(a)&&(f=Ia.access(a),g=Ia.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)oa.event.add(b,e,j[e][c])}Ja.hasData(a)&&(h=Ja.access(a),i=oa.extend({},h),Ja.set(b,i))}}function D(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Sa.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function E(a,b,d,e){b=fa.apply([],b);var f,g,h,i,j,k,l=0,m=a.length,n=m-1,o=b[0],p=oa.isFunction(o);if(p||m>1&&"string"==typeof o&&!na.checkClone&&bb.test(o))return a.each(function(c){var f=a.eq(c);p&&(b[0]=o.call(this,c,f.html())),E(f,b,d,e)});if(m&&(f=u(b,a[0].ownerDocument,!1,a,e),g=f.firstChild,1===f.childNodes.length&&(f=g),g||e)){for(h=oa.map(s(f,"script"),A),i=h.length;l<m;l++)j=f,l!==n&&(j=oa.clone(j,!0,!0),i&&oa.merge(h,s(j,"script"))),d.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,oa.map(h,B),l=0;l<i;l++)j=h[l],Ua.test(j.type||"")&&!Ia.access(j,"globalEval")&&oa.contains(k,j)&&(j.src?oa._evalUrl&&oa._evalUrl(j.src):c(j.textContent.replace(db,""),k))}return a}function F(a,b,c){for(var d,e=b?oa.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||oa.cleanData(s(d)),d.parentNode&&(c&&oa.contains(d.ownerDocument,d)&&t(s(d,"script")),d.parentNode.removeChild(d));return a}function G(a,b,c){var d,e,f,g,h=a.style;return c=c||gb(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||oa.contains(a.ownerDocument,a)||(g=oa.style(a,b)),!na.pixelMarginRight()&&fb.test(g)&&eb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function H(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function I(a){if(a in mb)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=lb.length;c--;)if((a=lb[c]+b)in mb)return a}function J(a){var b=oa.cssProps[a];return b||(b=oa.cssProps[a]=I(a)||a),b}function K(a,b,c){var d=Na.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function L(a,b,c,d,e){var f,g=0;for(f=c===(d?"border":"content")?4:"width"===b?1:0;f<4;f+=2)"margin"===c&&(g+=oa.css(a,c+Oa[f],!0,e)),d?("content"===c&&(g-=oa.css(a,"padding"+Oa[f],!0,e)),"margin"!==c&&(g-=oa.css(a,"border"+Oa[f]+"Width",!0,e))):(g+=oa.css(a,"padding"+Oa[f],!0,e),"padding"!==c&&(g+=oa.css(a,"border"+Oa[f]+"Width",!0,e)));return g}function M(a,b,c){var d,e=gb(a),f=G(a,b,e),g="border-box"===oa.css(a,"boxSizing",!1,e);return fb.test(f)?f:(d=g&&(na.boxSizingReliable()||f===a.style[b]),"auto"===f&&(f=a["offset"+b[0].toUpperCase()+b.slice(1)]),(f=parseFloat(f)||0)+L(a,b,c||(g?"border":"content"),d,e)+"px")}function N(a,b,c,d,e){return new N.prototype.init(a,b,c,d,e)}function O(){ob&&(!1===ca.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(O):a.setTimeout(O,oa.fx.interval),oa.fx.tick())}function P(){return a.setTimeout(function(){nb=void 0}),nb=oa.now()}function Q(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=Oa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function R(a,b,c){for(var d,e=(U.tweeners[b]||[]).concat(U.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function S(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&Pa(a),q=Ia.get(a,"fxshow");c.queue||(g=oa._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,oa.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],pb.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||oa.style(a,d)}if((i=!oa.isEmptyObject(b))||!oa.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=Ia.get(a,"display")),k=oa.css(a,"display"),"none"===k&&(j?k=j:(r([a],!0),j=a.style.display||j,k=oa.css(a,"display"),r([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===oa.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=Ia.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&r([a],!0),m.done(function(){p||r([a]),Ia.remove(a,"fxshow");for(d in n)oa.style(a,d,n[d])})),i=R(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function T(a,b){var c,d,e,f,g;for(c in a)if(d=oa.camelCase(c),e=b[d],f=a[c],Array.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=oa.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function U(a,b,c){var d,e,f=0,g=U.prefilters.length,h=oa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=nb||P(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(i||h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:oa.extend({},b),opts:oa.extend(!0,{specialEasing:{},easing:oa.easing._default},c),originalProperties:b,originalOptions:c,startTime:nb||P(),duration:c.duration,tweens:[],createTween:function(b,c){var d=oa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(T(k,j.opts.specialEasing);f<g;f++)if(d=U.prefilters[f].call(j,a,k,j.opts))return oa.isFunction(d.stop)&&(oa._queueHooks(j.elem,j.opts.queue).stop=oa.proxy(d.stop,d)),d;return oa.map(k,R,j),oa.isFunction(j.opts.start)&&j.opts.start.call(a,j),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always),oa.fx.timer(oa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j}function V(a){return(a.match(Da)||[]).join(" ")}function W(a){return a.getAttribute&&a.getAttribute("class")||""}function X(a,b,c,d){var e;if(Array.isArray(b))oa.each(b,function(b,e){c||Ab.test(a)?d(a,e):X(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==oa.type(b))d(a,b);else for(e in b)X(a+"["+e+"]",b[e],c,d)}function Y(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(Da)||[];if(oa.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Z(a,b,c,d){function e(h){var i;return f[h]=!0,oa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Mb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function $(a,b){var c,d,e=oa.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&oa.extend(!0,a,d),a}function _(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function aa(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}var ba=[],ca=a.document,da=Object.getPrototypeOf,ea=ba.slice,fa=ba.concat,ga=ba.push,ha=ba.indexOf,ia={},ja=ia.toString,ka=ia.hasOwnProperty,la=ka.toString,ma=la.call(Object),na={},oa=function(a,b){return new oa.fn.init(a,b)},pa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,qa=/^-ms-/,ra=/-([a-z])/g,sa=function(a,b){return b.toUpperCase()};oa.fn=oa.prototype={jquery:"3.2.1",constructor:oa,length:0,toArray:function(){return ea.call(this)},get:function(a){return null==a?ea.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=oa.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return oa.each(this,a)},map:function(a){return this.pushStack(oa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ea.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:ga,sort:ba.sort,splice:ba.splice},oa.extend=oa.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||oa.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(oa.isPlainObject(d)||(e=Array.isArray(d)))?(e?(e=!1,f=c&&Array.isArray(c)?c:[]):f=c&&oa.isPlainObject(c)?c:{},g[b]=oa.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},oa.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===oa.type(a)},isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=oa.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==ja.call(a))&&(!(b=da(a))||"function"==typeof(c=ka.call(b,"constructor")&&b.constructor)&&la.call(c)===ma)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ia[ja.call(a)]||"object":typeof a},globalEval:function(a){c(a)},camelCase:function(a){return a.replace(qa,"ms-").replace(ra,sa)},each:function(a,b){var c,e=0;if(d(a))for(c=a.length;e<c&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:function(a){return null==a?"":(a+"").replace(pa,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(d(Object(a))?oa.merge(c,"string"==typeof a?[a]:a):ga.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:ha.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d=[],e=0,f=a.length,g=!c;e<f;e++)!b(a[e],e)!==g&&d.push(a[e]);return d},map:function(a,b,c){var e,f,g=0,h=[];if(d(a))for(e=a.length;g<e;g++)null!=(f=b(a[g],g,c))&&h.push(f);else for(g in a)null!=(f=b(a[g],g,c))&&h.push(f);return fa.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),oa.isFunction(a))return d=ea.call(arguments,2),e=function(){return a.apply(b||this,d.concat(ea.call(arguments)))},e.guid=a.guid=a.guid||oa.guid++,e},now:Date.now,support:na}),"function"==typeof Symbol&&(oa.fn[Symbol.iterator]=ba[Symbol.iterator]),oa.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ia["[object "+b+"]"]=b.toLowerCase()});var ta=function(a){function b(a,b,c,d){var e,f,g,h,i,k,m,n=b&&b.ownerDocument,o=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==o&&9!==o&&11!==o)return c;if(!d&&((b?b.ownerDocument||b:N)!==F&&E(b),b=b||F,H)){if(11!==o&&(i=pa.exec(a)))if(e=i[1]){if(9===o){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(n&&(g=n.getElementById(e))&&L(b,g)&&g.id===e)return c.push(g),c}else{if(i[2])return Y.apply(c,b.getElementsByTagName(a)),c;if((e=i[3])&&u.getElementsByClassName&&b.getElementsByClassName)return Y.apply(c,b.getElementsByClassName(e)),c}if(u.qsa&&!S[a+" "]&&(!I||!I.test(a))){if(1!==o)n=b,m=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(ta,ua):b.setAttribute("id",h=M),k=y(a),f=k.length;f--;)k[f]="#"+h+" "+l(k[f]);m=k.join(","),n=qa.test(a)&&j(b.parentNode)||b}if(m)try{return Y.apply(c,n.querySelectorAll(m)),c}catch(a){}finally{h===M&&b.removeAttribute("id")}}}return A(a.replace(fa,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>v.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[M]=!0,a}function e(a){var b=F.createElement("fieldset");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)v.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&wa(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function i(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function j(a){return a&&void 0!==a.getElementsByTagName&&a}function k(){}function l(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function m(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=P++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[O,h];if(i){for(;b=b[d];)if((1===b.nodeType||g)&&a(b,c,i))return!0}else for(;b=b[d];)if(1===b.nodeType||g)if(l=b[M]||(b[M]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===O&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function n(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function o(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function p(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function q(a,b,c,e,f,g){return e&&!e[M]&&(e=q(e)),f&&!f[M]&&(f=q(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],q=g.length,r=d||o(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:p(r,m,a,h,i),t=c?f||(d?a:q||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=p(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?$(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=p(t===g?t.splice(q,t.length):t),f?f(null,g,t,i):Y.apply(g,t)})}function r(a){for(var b,c,d,e=a.length,f=v.relative[a[0].type],g=f||v.relative[" "],h=f?1:0,i=m(function(a){return a===b},g,!0),j=m(function(a){return $(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==B)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=v.relative[a[h].type])k=[m(n(k),c)];else{if(c=v.filter[a[h].type].apply(null,a[h].matches),c[M]){for(d=++h;d<e&&!v.relative[a[d].type];d++);return q(h>1&&n(k),h>1&&l(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(fa,"$1"),c,h<d&&r(a.slice(h,d)),d<e&&r(a=a.slice(d)),d<e&&l(a))}k.push(c)}return n(k)}function s(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",q=d&&[],r=[],s=B,t=d||f&&v.find.TAG("*",j),u=O+=null==s?1:Math.random()||.1,w=t.length;for(j&&(B=g===F||g||j);o!==w&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===F||(E(k),h=!H);m=a[l++];)if(m(k,g||F,h)){i.push(k);break}j&&(O=u)}e&&((k=!m&&k)&&n--,d&&q.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(q,r,g,h);if(d){if(n>0)for(;o--;)q[o]||r[o]||(r[o]=W.call(i));r=p(r)}Y.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(O=u,B=s),q};return e?d(g):g}var t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M="sizzle"+1*new Date,N=a.document,O=0,P=0,Q=c(),R=c(),S=c(),T=function(a,b){return a===b&&(D=!0),0},U={}.hasOwnProperty,V=[],W=V.pop,X=V.push,Y=V.push,Z=V.slice,$=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},_="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",aa="[\\x20\\t\\r\\n\\f]",ba="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ca="\\["+aa+"*("+ba+")(?:"+aa+"*([*^$|!~]?=)"+aa+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ba+"))|)"+aa+"*\\]",da=":("+ba+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ca+")*)|.*)\\)|)",ea=new RegExp(aa+"+","g"),fa=new RegExp("^"+aa+"+|((?:^|[^\\\\])(?:\\\\.)*)"+aa+"+$","g"),ga=new RegExp("^"+aa+"*,"+aa+"*"),ha=new RegExp("^"+aa+"*([>+~]|"+aa+")"+aa+"*"),ia=new RegExp("="+aa+"*([^\\]'\"]*?)"+aa+"*\\]","g"),ja=new RegExp(da),ka=new RegExp("^"+ba+"$"),la={ID:new RegExp("^#("+ba+")"),CLASS:new RegExp("^\\.("+ba+")"),TAG:new RegExp("^("+ba+"|[*])"),ATTR:new RegExp("^"+ca),PSEUDO:new RegExp("^"+da),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+aa+"*(even|odd|(([+-]|)(\\d*)n|)"+aa+"*(?:([+-]|)"+aa+"*(\\d+)|))"+aa+"*\\)|)","i"),bool:new RegExp("^(?:"+_+")$","i"),
needsContext:new RegExp("^"+aa+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+aa+"*((?:-\\d)?\\d*)"+aa+"*\\)|)(?=[^-]|$)","i")},ma=/^(?:input|select|textarea|button)$/i,na=/^h\d$/i,oa=/^[^{]+\{\s*\[native \w/,pa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qa=/[+~]/,ra=new RegExp("\\\\([\\da-f]{1,6}"+aa+"?|("+aa+")|.)","ig"),sa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ta=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ua=function(a,b){return b?"\0"===a?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},va=function(){E()},wa=m(function(a){return!0===a.disabled&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{Y.apply(V=Z.call(N.childNodes),N.childNodes),V[N.childNodes.length].nodeType}catch(a){Y={apply:V.length?function(a,b){X.apply(a,Z.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}u=b.support={},x=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},E=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:N;return d!==F&&9===d.nodeType&&d.documentElement?(F=d,G=F.documentElement,H=!x(F),N!==F&&(c=F.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",va,!1):c.attachEvent&&c.attachEvent("onunload",va)),u.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),u.getElementsByTagName=e(function(a){return a.appendChild(F.createComment("")),!a.getElementsByTagName("*").length}),u.getElementsByClassName=oa.test(F.getElementsByClassName),u.getById=e(function(a){return G.appendChild(a).id=M,!F.getElementsByName||!F.getElementsByName(M).length}),u.getById?(v.filter.ID=function(a){var b=a.replace(ra,sa);return function(a){return a.getAttribute("id")===b}},v.find.ID=function(a,b){if(void 0!==b.getElementById&&H){var c=b.getElementById(a);return c?[c]:[]}}):(v.filter.ID=function(a){var b=a.replace(ra,sa);return function(a){var c=void 0!==a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},v.find.ID=function(a,b){if(void 0!==b.getElementById&&H){var c,d,e,f=b.getElementById(a);if(f){if((c=f.getAttributeNode("id"))&&c.value===a)return[f];for(e=b.getElementsByName(a),d=0;f=e[d++];)if((c=f.getAttributeNode("id"))&&c.value===a)return[f]}return[]}}),v.find.TAG=u.getElementsByTagName?function(a,b){return void 0!==b.getElementsByTagName?b.getElementsByTagName(a):u.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},v.find.CLASS=u.getElementsByClassName&&function(a,b){if(void 0!==b.getElementsByClassName&&H)return b.getElementsByClassName(a)},J=[],I=[],(u.qsa=oa.test(F.querySelectorAll))&&(e(function(a){G.appendChild(a).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+aa+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||I.push("\\["+aa+"*(?:value|"+_+")"),a.querySelectorAll("[id~="+M+"-]").length||I.push("~="),a.querySelectorAll(":checked").length||I.push(":checked"),a.querySelectorAll("a#"+M+"+*").length||I.push(".#.+[+~]")}),e(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=F.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&I.push("name"+aa+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&I.push(":enabled",":disabled"),G.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&I.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),I.push(",.*:")})),(u.matchesSelector=oa.test(K=G.matches||G.webkitMatchesSelector||G.mozMatchesSelector||G.oMatchesSelector||G.msMatchesSelector))&&e(function(a){u.disconnectedMatch=K.call(a,"*"),K.call(a,"[s!='']:x"),J.push("!=",da)}),I=I.length&&new RegExp(I.join("|")),J=J.length&&new RegExp(J.join("|")),b=oa.test(G.compareDocumentPosition),L=b||oa.test(G.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},T=b?function(a,b){if(a===b)return D=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c||(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!u.sortDetached&&b.compareDocumentPosition(a)===c?a===F||a.ownerDocument===N&&L(N,a)?-1:b===F||b.ownerDocument===N&&L(N,b)?1:C?$(C,a)-$(C,b):0:4&c?-1:1)}:function(a,b){if(a===b)return D=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===F?-1:b===F?1:e?-1:f?1:C?$(C,a)-$(C,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===N?-1:i[d]===N?1:0},F):F},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==F&&E(a),c=c.replace(ia,"='$1']"),u.matchesSelector&&H&&!S[c+" "]&&(!J||!J.test(c))&&(!I||!I.test(c)))try{var d=K.call(a,c);if(d||u.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,F,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==F&&E(a),L(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==F&&E(a);var c=v.attrHandle[b.toLowerCase()],d=c&&U.call(v.attrHandle,b.toLowerCase())?c(a,b,!H):void 0;return void 0!==d?d:u.attributes||!H?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.escape=function(a){return(a+"").replace(ta,ua)},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(D=!u.detectDuplicates,C=!u.sortStable&&a.slice(0),a.sort(T),D){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return C=null,a},w=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=w(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=w(b);return c},v=b.selectors={cacheLength:50,createPseudo:d,match:la,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ra,sa),a[3]=(a[3]||a[4]||a[5]||"").replace(ra,sa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return la.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ja.test(c)&&(b=y(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ra,sa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=Q[a+" "];return b||(b=new RegExp("(^|"+aa+")"+a+"("+aa+"|$)"))&&Q(a,function(a){return b.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ea," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[M]||(m[M]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===O&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[O,n,t];break}}else if(s&&(m=b,l=m[M]||(m[M]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===O&&j[1],t=n),!1===t)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[M]||(m[M]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[O,t]),m!==b)););return(t-=e)===d||t%d==0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=v.pseudos[a]||v.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[M]?f(c):f.length>1?(e=[a,a,"",c],v.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=$(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=z(a.replace(fa,"$1"));return e[M]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ra,sa),function(b){return(b.textContent||b.innerText||w(b)).indexOf(a)>-1}}),lang:d(function(a){return ka.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ra,sa).toLowerCase(),function(b){var c;do{if(c=H?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===G},focus:function(a){return a===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:h(!1),disabled:h(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!v.pseudos.empty(a)},header:function(a){return na.test(a.nodeName)},input:function(a){return ma.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:i(function(){return[0]}),last:i(function(a,b){return[b-1]}),eq:i(function(a,b,c){return[c<0?c+b:c]}),even:i(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:i(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:i(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:i(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},v.pseudos.nth=v.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[t]=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}(t);for(t in{submit:!0,reset:!0})v.pseudos[t]=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}(t);return k.prototype=v.filters=v.pseudos,v.setFilters=new k,y=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=R[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=v.preFilter;h;){d&&!(e=ga.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ha.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(fa," ")}),h=h.slice(d.length));for(g in v.filter)!(e=la[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):R(a,i).slice(0)},z=b.compile=function(a,b){var c,d=[],e=[],f=S[a+" "];if(!f){for(b||(b=y(a)),c=b.length;c--;)f=r(b[c]),f[M]?d.push(f):e.push(f);f=S(a,s(e,d)),f.selector=a}return f},A=b.select=function(a,b,c,d){var e,f,g,h,i,k="function"==typeof a&&a,m=!d&&y(a=k.selector||a);if(c=c||[],1===m.length){if(f=m[0]=m[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&9===b.nodeType&&H&&v.relative[f[1].type]){if(!(b=(v.find.ID(g.matches[0].replace(ra,sa),b)||[])[0]))return c;k&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=la.needsContext.test(a)?0:f.length;e--&&(g=f[e],!v.relative[h=g.type]);)if((i=v.find[h])&&(d=i(g.matches[0].replace(ra,sa),qa.test(f[0].type)&&j(b.parentNode)||b))){if(f.splice(e,1),!(a=d.length&&l(f)))return Y.apply(c,d),c;break}}return(k||z(a,m))(d,b,!H,c,!b||qa.test(a)&&j(b.parentNode)||b),c},u.sortStable=M.split("").sort(T).join("")===M,u.detectDuplicates=!!D,E(),u.sortDetached=e(function(a){return 1&a.compareDocumentPosition(F.createElement("fieldset"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),u.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(_,function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);oa.find=ta,oa.expr=ta.selectors,oa.expr[":"]=oa.expr.pseudos,oa.uniqueSort=oa.unique=ta.uniqueSort,oa.text=ta.getText,oa.isXMLDoc=ta.isXML,oa.contains=ta.contains,oa.escapeSelector=ta.escape;var ua=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&oa(a).is(c))break;d.push(a)}return d},va=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},wa=oa.expr.match.needsContext,xa=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,ya=/^.[^:#\[\.,]*$/;oa.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?oa.find.matchesSelector(d,a)?[d]:[]:oa.find.matches(a,oa.grep(b,function(a){return 1===a.nodeType}))},oa.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(oa(a).filter(function(){for(b=0;b<d;b++)if(oa.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)oa.find(a,e[b],c);return d>1?oa.uniqueSort(c):c},filter:function(a){return this.pushStack(f(this,a||[],!1))},not:function(a){return this.pushStack(f(this,a||[],!0))},is:function(a){return!!f(this,"string"==typeof a&&wa.test(a)?oa(a):a||[],!1).length}});var za,Aa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(oa.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||za,"string"==typeof a){if(!(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:Aa.exec(a))||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof oa?b[0]:b,oa.merge(this,oa.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:ca,!0)),xa.test(d[1])&&oa.isPlainObject(b))for(d in b)oa.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=ca.getElementById(d[2]),e&&(this[0]=e,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):oa.isFunction(a)?void 0!==c.ready?c.ready(a):a(oa):oa.makeArray(a,this)}).prototype=oa.fn,za=oa(ca);var Ba=/^(?:parents|prev(?:Until|All))/,Ca={children:!0,contents:!0,next:!0,prev:!0};oa.fn.extend({has:function(a){var b=oa(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(oa.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&oa(a);if(!wa.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&oa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?oa.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?ha.call(oa(a),this[0]):ha.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(oa.uniqueSort(oa.merge(this.get(),oa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),oa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ua(a,"parentNode")},parentsUntil:function(a,b,c){return ua(a,"parentNode",c)},next:function(a){return g(a,"nextSibling")},prev:function(a){return g(a,"previousSibling")},nextAll:function(a){return ua(a,"nextSibling")},prevAll:function(a){return ua(a,"previousSibling")},nextUntil:function(a,b,c){return ua(a,"nextSibling",c)},prevUntil:function(a,b,c){return ua(a,"previousSibling",c)},siblings:function(a){return va((a.parentNode||{}).firstChild,a)},children:function(a){return va(a.firstChild)},contents:function(a){return e(a,"iframe")?a.contentDocument:(e(a,"template")&&(a=a.content||a),oa.merge([],a.childNodes))}},function(a,b){oa.fn[a]=function(c,d){var e=oa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=oa.filter(d,e)),this.length>1&&(Ca[a]||oa.uniqueSort(e),Ba.test(a)&&e.reverse()),this.pushStack(e)}});var Da=/[^\x20\t\r\n\f]+/g;oa.Callbacks=function(a){a="string"==typeof a?h(a):oa.extend({},a);var b,c,d,e,f=[],g=[],i=-1,j=function(){for(e=e||a.once,d=b=!0;g.length;i=-1)for(c=g.shift();++i<f.length;)!1===f[i].apply(c[0],c[1])&&a.stopOnFalse&&(i=f.length,c=!1);a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},k={add:function(){return f&&(c&&!b&&(i=f.length-1,g.push(c)),function b(c){oa.each(c,function(c,d){oa.isFunction(d)?a.unique&&k.has(d)||f.push(d):d&&d.length&&"string"!==oa.type(d)&&b(d)})}(arguments),c&&!b&&j()),this},remove:function(){return oa.each(arguments,function(a,b){for(var c;(c=oa.inArray(b,f,c))>-1;)f.splice(c,1),c<=i&&i--}),this},has:function(a){return a?oa.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},oa.extend({Deferred:function(b){var c=[["notify","progress",oa.Callbacks("memory"),oa.Callbacks("memory"),2],["resolve","done",oa.Callbacks("once memory"),oa.Callbacks("once memory"),0,"resolved"],["reject","fail",oa.Callbacks("once memory"),oa.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},catch:function(a){return e.then(null,a)},pipe:function(){var a=arguments;return oa.Deferred(function(b){oa.each(c,function(c,d){var e=oa.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&oa.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){function f(b,c,d,e){return function(){var h=this,k=arguments,l=function(){var a,l;if(!(b<g)){if((a=d.apply(h,k))===c.promise())throw new TypeError("Thenable self-resolution");l=a&&("object"==typeof a||"function"==typeof a)&&a.then,oa.isFunction(l)?e?l.call(a,f(g,c,i,e),f(g,c,j,e)):(g++,l.call(a,f(g,c,i,e),f(g,c,j,e),f(g,c,i,c.notifyWith))):(d!==i&&(h=void 0,k=[a]),(e||c.resolveWith)(h,k))}},m=e?l:function(){try{l()}catch(a){oa.Deferred.exceptionHook&&oa.Deferred.exceptionHook(a,m.stackTrace),b+1>=g&&(d!==j&&(h=void 0,k=[a]),c.rejectWith(h,k))}};b?m():(oa.Deferred.getStackHook&&(m.stackTrace=oa.Deferred.getStackHook()),a.setTimeout(m))}}var g=0;return oa.Deferred(function(a){c[0][3].add(f(0,a,oa.isFunction(e)?e:i,a.notifyWith)),c[1][3].add(f(0,a,oa.isFunction(b)?b:i)),c[2][3].add(f(0,a,oa.isFunction(d)?d:j))}).promise()},promise:function(a){return null!=a?oa.extend(a,e):e}},f={};return oa.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=ea.call(arguments),f=oa.Deferred(),g=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?ea.call(arguments):c,--b||f.resolveWith(d,e)}};if(b<=1&&(k(a,f.done(g(c)).resolve,f.reject,!b),"pending"===f.state()||oa.isFunction(e[c]&&e[c].then)))return f.then();for(;c--;)k(e[c],g(c),f.reject);return f.promise()}});var Ea=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;oa.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Ea.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},oa.readyException=function(b){a.setTimeout(function(){throw b})};var Fa=oa.Deferred();oa.fn.ready=function(a){return Fa.then(a).catch(function(a){oa.readyException(a)}),this},oa.extend({isReady:!1,readyWait:1,ready:function(a){(!0===a?--oa.readyWait:oa.isReady)||(oa.isReady=!0,!0!==a&&--oa.readyWait>0||Fa.resolveWith(ca,[oa]))}}),oa.ready.then=Fa.then,"complete"===ca.readyState||"loading"!==ca.readyState&&!ca.documentElement.doScroll?a.setTimeout(oa.ready):(ca.addEventListener("DOMContentLoaded",l),a.addEventListener("load",l));var Ga=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===oa.type(c)){e=!0;for(h in c)Ga(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,oa.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(oa(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Ha=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};m.uid=1,m.prototype={cache:function(a){var b=a[this.expando];return b||(b={},Ha(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[oa.camelCase(b)]=c;else for(d in b)e[oa.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][oa.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){Array.isArray(b)?b=b.map(oa.camelCase):(b=oa.camelCase(b),b=b in d?[b]:b.match(Da)||[]),c=b.length;for(;c--;)delete d[b[c]]}(void 0===b||oa.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!oa.isEmptyObject(b)}};var Ia=new m,Ja=new m,Ka=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,La=/[A-Z]/g;oa.extend({hasData:function(a){return Ja.hasData(a)||Ia.hasData(a)},data:function(a,b,c){return Ja.access(a,b,c)},removeData:function(a,b){Ja.remove(a,b)},_data:function(a,b,c){return Ia.access(a,b,c)},_removeData:function(a,b){Ia.remove(a,b)}}),oa.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=Ja.get(f),1===f.nodeType&&!Ia.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=oa.camelCase(d.slice(5)),o(f,d,e[d])));Ia.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){Ja.set(this,a)}):Ga(this,function(b){var c;if(f&&void 0===b){if(void 0!==(c=Ja.get(f,a)))return c;if(void 0!==(c=o(f,a)))return c}else this.each(function(){Ja.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Ja.remove(this,a)})}}),oa.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=Ia.get(a,b),c&&(!d||Array.isArray(c)?d=Ia.access(a,b,oa.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=oa.queue(a,b),d=c.length,e=c.shift(),f=oa._queueHooks(a,b),g=function(){oa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return Ia.get(a,c)||Ia.access(a,c,{empty:oa.Callbacks("once memory").add(function(){Ia.remove(a,[b+"queue",c])})})}}),oa.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?oa.queue(this[0],a):void 0===b?this:this.each(function(){var c=oa.queue(this,a,b);oa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&oa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){oa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=oa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=Ia.get(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Ma=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Na=new RegExp("^(?:([+-])=|)("+Ma+")([a-z%]*)$","i"),Oa=["Top","Right","Bottom","Left"],Pa=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&oa.contains(a.ownerDocument,a)&&"none"===oa.css(a,"display")},Qa=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ra={};oa.fn.extend({show:function(){return r(this,!0)},hide:function(){return r(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Pa(this)?oa(this).show():oa(this).hide()})}});var Sa=/^(?:checkbox|radio)$/i,Ta=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ua=/^$|\/(?:java|ecma)script/i,Va={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Va.optgroup=Va.option,Va.tbody=Va.tfoot=Va.colgroup=Va.caption=Va.thead,Va.th=Va.td;var Wa=/<|&#?\w+;/;!function(){var a=ca.createDocumentFragment(),b=a.appendChild(ca.createElement("div")),c=ca.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),na.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",na.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var Xa=ca.documentElement,Ya=/^key/,Za=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,$a=/^([^.]*)(?:\.(.+)|)/;oa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Ia.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),e&&oa.find.matchesSelector(Xa,e),c.guid||(c.guid=oa.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return void 0!==oa&&oa.event.triggered!==b.type?oa.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(Da)||[""],j=b.length;j--;)h=$a.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=oa.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=oa.event.special[n]||{},k=oa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&oa.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&!1!==l.setup.call(a,d,o,g)||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),oa.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Ia.hasData(a)&&Ia.get(a);if(q&&(i=q.events)){for(b=(b||"").match(Da)||[""],j=b.length;j--;)if(h=$a.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=oa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,o,q.handle)||oa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)oa.event.remove(a,n+b[j],c,d,!0);oa.isEmptyObject(i)&&Ia.remove(a,"handle events")}},dispatch:function(a){var b,c,d,e,f,g,h=oa.event.fix(a),i=new Array(arguments.length),j=(Ia.get(this,"events")||{})[h.type]||[],k=oa.event.special[h.type]||{};for(i[0]=h,b=1;b<arguments.length;b++)i[b]=arguments[b];if(h.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,h)){for(g=oa.event.handlers.call(this,h,j),b=0;(e=g[b++])&&!h.isPropagationStopped();)for(h.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!h.isImmediatePropagationStopped();)h.rnamespace&&!h.rnamespace.test(f.namespace)||(h.handleObj=f,h.data=f.data,void 0!==(d=((oa.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,i))&&!1===(h.result=d)&&(h.preventDefault(),h.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,h),h.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||!0!==j.disabled)){for(f=[],g={},c=0;c<i;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?oa(e,this).index(j)>-1:oa.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(oa.Event.prototype,a,{enumerable:!0,configurable:!0,get:oa.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[oa.expando]?a:new oa.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==x()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===x()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&e(this,"input"))return this.click(),!1},_default:function(a){return e(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},oa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},oa.Event=function(a,b){if(!(this instanceof oa.Event))return new oa.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?v:w,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&oa.extend(this,b),this.timeStamp=a&&a.timeStamp||oa.now(),this[oa.expando]=!0},oa.Event.prototype={constructor:oa.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=v,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=v,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=v,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},oa.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button
;return null==a.which&&Ya.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&Za.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},oa.event.addProp),oa.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){oa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||oa.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),oa.fn.extend({on:function(a,b,c,d){return y(this,a,b,c,d)},one:function(a,b,c,d){return y(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,oa(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=w),this.each(function(){oa.event.remove(this,a,c,b)})}});var _a=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ab=/<script|<style|<link/i,bb=/checked\s*(?:[^=]|=\s*.checked.)/i,cb=/^true\/(.*)/,db=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oa.extend({htmlPrefilter:function(a){return a.replace(_a,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=oa.contains(a.ownerDocument,a);if(!(na.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||oa.isXMLDoc(a)))for(g=s(h),f=s(a),d=0,e=f.length;d<e;d++)D(f[d],g[d]);if(b)if(c)for(f=f||s(a),g=g||s(h),d=0,e=f.length;d<e;d++)C(f[d],g[d]);else C(a,h);return g=s(h,"script"),g.length>0&&t(g,!i&&s(a,"script")),h},cleanData:function(a){for(var b,c,d,e=oa.event.special,f=0;void 0!==(c=a[f]);f++)if(Ha(c)){if(b=c[Ia.expando]){if(b.events)for(d in b.events)e[d]?oa.event.remove(c,d):oa.removeEvent(c,d,b.handle);c[Ia.expando]=void 0}c[Ja.expando]&&(c[Ja.expando]=void 0)}}}),oa.fn.extend({detach:function(a){return F(this,a,!0)},remove:function(a){return F(this,a)},text:function(a){return Ga(this,function(a){return void 0===a?oa.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return E(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){z(this,a).appendChild(a)}})},prepend:function(){return E(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=z(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return E(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return E(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(oa.cleanData(s(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return oa.clone(this,a,b)})},html:function(a){return Ga(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!ab.test(a)&&!Va[(Ta.exec(a)||["",""])[1].toLowerCase()]){a=oa.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(oa.cleanData(s(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return E(this,arguments,function(b){var c=this.parentNode;oa.inArray(this,a)<0&&(oa.cleanData(s(this)),c&&c.replaceChild(b,this))},a)}}),oa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){oa.fn[a]=function(a){for(var c,d=[],e=oa(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),oa(e[g])[b](c),ga.apply(d,c.get());return this.pushStack(d)}});var eb=/^margin/,fb=new RegExp("^("+Ma+")(?!px)[a-z%]+$","i"),gb=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(h){h.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Xa.appendChild(g);var b=a.getComputedStyle(h);c="1%"!==b.top,f="2px"===b.marginLeft,d="4px"===b.width,h.style.marginRight="50%",e="4px"===b.marginRight,Xa.removeChild(g),h=null}}var c,d,e,f,g=ca.createElement("div"),h=ca.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",na.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),oa.extend(na,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),d},pixelMarginRight:function(){return b(),e},reliableMarginLeft:function(){return b(),f}}))}();var hb=/^(none|table(?!-c[ea]).+)/,ib=/^--/,jb={position:"absolute",visibility:"hidden",display:"block"},kb={letterSpacing:"0",fontWeight:"400"},lb=["Webkit","Moz","ms"],mb=ca.createElement("div").style;oa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=G(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=oa.camelCase(b),i=ib.test(b),j=a.style;if(i||(b=J(h)),g=oa.cssHooks[b]||oa.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:j[b];f=typeof c,"string"===f&&(e=Na.exec(c))&&e[1]&&(c=p(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(oa.cssNumber[h]?"":"px")),na.clearCloneStyle||""!==c||0!==b.indexOf("background")||(j[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i?j.setProperty(b,c):j[b]=c))}},css:function(a,b,c,d){var e,f,g,h=oa.camelCase(b);return ib.test(b)||(b=J(h)),g=oa.cssHooks[b]||oa.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=G(a,b,d)),"normal"===e&&b in kb&&(e=kb[b]),""===c||c?(f=parseFloat(e),!0===c||isFinite(f)?f||0:e):e}}),oa.each(["height","width"],function(a,b){oa.cssHooks[b]={get:function(a,c,d){if(c)return!hb.test(oa.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?M(a,b,d):Qa(a,jb,function(){return M(a,b,d)})},set:function(a,c,d){var e,f=d&&gb(a),g=d&&L(a,b,d,"border-box"===oa.css(a,"boxSizing",!1,f),f);return g&&(e=Na.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=oa.css(a,b)),K(a,c,g)}}}),oa.cssHooks.marginLeft=H(na.reliableMarginLeft,function(a,b){if(b)return(parseFloat(G(a,"marginLeft"))||a.getBoundingClientRect().left-Qa(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),oa.each({margin:"",padding:"",border:"Width"},function(a,b){oa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+Oa[d]+b]=f[d]||f[d-2]||f[0];return e}},eb.test(a)||(oa.cssHooks[a+b].set=K)}),oa.fn.extend({css:function(a,b){return Ga(this,function(a,b,c){var d,e,f={},g=0;if(Array.isArray(b)){for(d=gb(a),e=b.length;g<e;g++)f[b[g]]=oa.css(a,b[g],!1,d);return f}return void 0!==c?oa.style(a,b,c):oa.css(a,b)},a,b,arguments.length>1)}}),oa.Tween=N,N.prototype={constructor:N,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||oa.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(oa.cssNumber[c]?"":"px")},cur:function(){var a=N.propHooks[this.prop];return a&&a.get?a.get(this):N.propHooks._default.get(this)},run:function(a){var b,c=N.propHooks[this.prop];return this.options.duration?this.pos=b=oa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=oa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){oa.fx.step[a.prop]?oa.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[oa.cssProps[a.prop]]&&!oa.cssHooks[a.prop]?a.elem[a.prop]=a.now:oa.style(a.elem,a.prop,a.now+a.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},oa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},oa.fx=N.prototype.init,oa.fx.step={};var nb,ob,pb=/^(?:toggle|show|hide)$/,qb=/queueHooks$/;oa.Animation=oa.extend(U,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return p(c.elem,a,Na.exec(b),c),c}]},tweener:function(a,b){oa.isFunction(a)?(b=a,a=["*"]):a=a.match(Da);for(var c,d=0,e=a.length;d<e;d++)c=a[d],U.tweeners[c]=U.tweeners[c]||[],U.tweeners[c].unshift(b)},prefilters:[S],prefilter:function(a,b){b?U.prefilters.unshift(a):U.prefilters.push(a)}}),oa.speed=function(a,b,c){var d=a&&"object"==typeof a?oa.extend({},a):{complete:c||!c&&b||oa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!oa.isFunction(b)&&b};return oa.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in oa.fx.speeds?d.duration=oa.fx.speeds[d.duration]:d.duration=oa.fx.speeds._default),null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){oa.isFunction(d.old)&&d.old.call(this),d.queue&&oa.dequeue(this,d.queue)},d},oa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Pa).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=oa.isEmptyObject(a),f=oa.speed(b,c,d),g=function(){var b=U(this,oa.extend({},a),f);(e||Ia.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=oa.timers,g=Ia.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&qb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||oa.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=Ia.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=oa.timers,g=d?d.length:0;for(c.finish=!0,oa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),oa.each(["toggle","show","hide"],function(a,b){var c=oa.fn[b];oa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Q(b,!0),a,d,e)}}),oa.each({slideDown:Q("show"),slideUp:Q("hide"),slideToggle:Q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){oa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),oa.timers=[],oa.fx.tick=function(){var a,b=0,c=oa.timers;for(nb=oa.now();b<c.length;b++)(a=c[b])()||c[b]!==a||c.splice(b--,1);c.length||oa.fx.stop(),nb=void 0},oa.fx.timer=function(a){oa.timers.push(a),oa.fx.start()},oa.fx.interval=13,oa.fx.start=function(){ob||(ob=!0,O())},oa.fx.stop=function(){ob=null},oa.fx.speeds={slow:600,fast:200,_default:400},oa.fn.delay=function(b,c){return b=oa.fx?oa.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=ca.createElement("input"),b=ca.createElement("select"),c=b.appendChild(ca.createElement("option"));a.type="checkbox",na.checkOn=""!==a.value,na.optSelected=c.selected,a=ca.createElement("input"),a.value="t",a.type="radio",na.radioValue="t"===a.value}();var rb,sb=oa.expr.attrHandle;oa.fn.extend({attr:function(a,b){return Ga(this,oa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){oa.removeAttr(this,a)})}}),oa.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return void 0===a.getAttribute?oa.prop(a,b,c):(1===f&&oa.isXMLDoc(a)||(e=oa.attrHooks[b.toLowerCase()]||(oa.expr.match.bool.test(b)?rb:void 0)),void 0!==c?null===c?void oa.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=oa.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!na.radioValue&&"radio"===b&&e(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(Da);if(e&&1===a.nodeType)for(;c=e[d++];)a.removeAttribute(c)}}),rb={set:function(a,b,c){return!1===b?oa.removeAttr(a,c):a.setAttribute(c,c),c}},oa.each(oa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=sb[b]||oa.find.attr;sb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=sb[g],sb[g]=e,e=null!=c(a,b,d)?g:null,sb[g]=f),e}});var tb=/^(?:input|select|textarea|button)$/i,ub=/^(?:a|area)$/i;oa.fn.extend({prop:function(a,b){return Ga(this,oa.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[oa.propFix[a]||a]})}}),oa.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&oa.isXMLDoc(a)||(b=oa.propFix[b]||b,e=oa.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=oa.find.attr(a,"tabindex");return b?parseInt(b,10):tb.test(a.nodeName)||ub.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),na.optSelected||(oa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),oa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oa.propFix[this.toLowerCase()]=this}),oa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(oa.isFunction(a))return this.each(function(b){oa(this).addClass(a.call(this,b,W(this)))});if("string"==typeof a&&a)for(b=a.match(Da)||[];c=this[i++];)if(e=W(c),d=1===c.nodeType&&" "+V(e)+" "){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=V(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(oa.isFunction(a))return this.each(function(b){oa(this).removeClass(a.call(this,b,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(Da)||[];c=this[i++];)if(e=W(c),d=1===c.nodeType&&" "+V(e)+" "){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=V(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):oa.isFunction(a)?this.each(function(c){oa(this).toggleClass(a.call(this,c,W(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=oa(this),f=a.match(Da)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||(b=W(this),b&&Ia.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":Ia.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+V(W(c))+" ").indexOf(b)>-1)return!0;return!1}});var vb=/\r/g;oa.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=oa.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,oa(this).val()):a,null==e?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=oa.map(e,function(a){return null==a?"":a+""})),(b=oa.valHooks[this.type]||oa.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return(b=oa.valHooks[e.type]||oa.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(vb,""):null==c?"":c)}}}),oa.extend({valHooks:{option:{get:function(a){var b=oa.find.attr(a,"value");return null!=b?b:V(oa.text(a))}},select:{get:function(a){var b,c,d,f=a.options,g=a.selectedIndex,h="select-one"===a.type,i=h?null:[],j=h?g+1:f.length;for(d=g<0?j:h?g:0;d<j;d++)if(c=f[d],(c.selected||d===g)&&!c.disabled&&(!c.parentNode.disabled||!e(c.parentNode,"optgroup"))){if(b=oa(c).val(),h)return b;i.push(b)}return i},set:function(a,b){for(var c,d,e=a.options,f=oa.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=oa.inArray(oa.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),oa.each(["radio","checkbox"],function(){oa.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=oa.inArray(oa(a).val(),b)>-1}},na.checkOn||(oa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var wb=/^(?:focusinfocus|focusoutblur)$/;oa.extend(oa.event,{trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||ca],n=ka.call(b,"type")?b.type:b,o=ka.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||ca,3!==d.nodeType&&8!==d.nodeType&&!wb.test(n+oa.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[oa.expando]?b:new oa.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:oa.makeArray(c,[b]),l=oa.event.special[n]||{},e||!l.trigger||!1!==l.trigger.apply(d,c))){if(!e&&!l.noBubble&&!oa.isWindow(d)){for(i=l.delegateType||n,wb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||ca)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(Ia.get(g,"events")||{})[b.type]&&Ia.get(g,"handle"),k&&k.apply(g,c),(k=j&&g[j])&&k.apply&&Ha(g)&&(b.result=k.apply(g,c),!1===b.result&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&!1!==l._default.apply(m.pop(),c)||!Ha(d)||j&&oa.isFunction(d[n])&&!oa.isWindow(d)&&(h=d[j],h&&(d[j]=null),oa.event.triggered=n,d[n](),oa.event.triggered=void 0,h&&(d[j]=h)),b.result}},simulate:function(a,b,c){var d=oa.extend(new oa.Event,c,{type:a,isSimulated:!0});oa.event.trigger(d,null,b)}}),oa.fn.extend({trigger:function(a,b){return this.each(function(){oa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return oa.event.trigger(a,b,c,!0)}}),oa.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){oa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),oa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),na.focusin="onfocusin"in a,na.focusin||oa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){oa.event.simulate(b,a.target,oa.event.fix(a))};oa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=Ia.access(d,b);e||d.addEventListener(a,c,!0),Ia.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=Ia.access(d,b)-1;e?Ia.access(d,b,e):(d.removeEventListener(a,c,!0),Ia.remove(d,b))}}});var xb=a.location,yb=oa.now(),zb=/\?/;oa.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(a){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||oa.error("Invalid XML: "+b),c};var Ab=/\[\]$/,Bb=/\r?\n/g,Cb=/^(?:submit|button|image|reset|file)$/i,Db=/^(?:input|select|textarea|keygen)/i;oa.param=function(a,b){var c,d=[],e=function(a,b){var c=oa.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(Array.isArray(a)||a.jquery&&!oa.isPlainObject(a))oa.each(a,function(){e(this.name,this.value)});else for(c in a)X(c,a[c],b,e);return d.join("&")},oa.fn.extend({serialize:function(){return oa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=oa.prop(this,"elements");return a?oa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!oa(this).is(":disabled")&&Db.test(this.nodeName)&&!Cb.test(a)&&(this.checked||!Sa.test(a))}).map(function(a,b){var c=oa(this).val();return null==c?null:Array.isArray(c)?oa.map(c,function(a){return{name:b.name,value:a.replace(Bb,"\r\n")}}):{name:b.name,value:c.replace(Bb,"\r\n")}}).get()}});var Eb=/%20/g,Fb=/#.*$/,Gb=/([?&])_=[^&]*/,Hb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ib=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Jb=/^(?:GET|HEAD)$/,Kb=/^\/\//,Lb={},Mb={},Nb="*/".concat("*"),Ob=ca.createElement("a");Ob.href=xb.href,oa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xb.href,type:"GET",isLocal:Ib.test(xb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":oa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?$($(a,oa.ajaxSettings),b):$(oa.ajaxSettings,a)},ajaxPrefilter:Y(Lb),ajaxTransport:Y(Mb),ajax:function(b,c){function d(b,c,d,h){var j,m,n,u,v,w=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(u=_(o,x,d)),u=aa(o,u,x,j),j?(o.ifModified&&(v=x.getResponseHeader("Last-Modified"),v&&(oa.lastModified[f]=v),(v=x.getResponseHeader("etag"))&&(oa.etag[f]=v)),204===b||"HEAD"===o.type?w="nocontent":304===b?w="notmodified":(w=u.state,m=u.data,n=u.error,j=!n)):(n=w,!b&&w||(w="error",b<0&&(b=0))),x.status=b,x.statusText=(c||w)+"",j?r.resolveWith(p,[m,w,x]):r.rejectWith(p,[x,w,n]),x.statusCode(t),t=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[x,o,j?m:n]),s.fireWith(p,[x,w]),l&&(q.trigger("ajaxComplete",[x,o]),--oa.active||oa.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=oa.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?oa(p):oa.event,r=oa.Deferred(),s=oa.Callbacks("once memory"),t=o.statusCode||{},u={},v={},w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h)for(h={};b=Hb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=v[a.toLowerCase()]=v[a.toLowerCase()]||a,u[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)x.always(a[x.status]);else for(b in a)t[b]=[t[b],a[b]];return this},abort:function(a){var b=a||w;return e&&e.abort(b),d(0,b),this}};if(r.promise(x),o.url=((b||o.url||xb.href)+"").replace(Kb,xb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(Da)||[""],null==o.crossDomain){j=ca.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Ob.protocol+"//"+Ob.host!=j.protocol+"//"+j.host}catch(a){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=oa.param(o.data,o.traditional)),Z(Lb,o,c,x),k)return x;l=oa.event&&o.global,l&&0==oa.active++&&oa.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Jb.test(o.type),f=o.url.replace(Fb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Eb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(zb.test(f)?"&":"?")+o.data,delete o.data),!1===o.cache&&(f=f.replace(Gb,"$1"),n=(zb.test(f)?"&":"?")+"_="+yb+++n),o.url=f+n),o.ifModified&&(oa.lastModified[f]&&x.setRequestHeader("If-Modified-Since",oa.lastModified[f]),oa.etag[f]&&x.setRequestHeader("If-None-Match",oa.etag[f])),(o.data&&o.hasContent&&!1!==o.contentType||c.contentType)&&x.setRequestHeader("Content-Type",o.contentType),x.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Nb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)x.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(!1===o.beforeSend.call(p,x,o)||k))return x.abort();if(w="abort",s.add(o.complete),x.done(o.success),x.fail(o.error),e=Z(Mb,o,c,x)){if(x.readyState=1,l&&q.trigger("ajaxSend",[x,o]),k)return x;o.async&&o.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},o.timeout));try{k=!1,e.send(u,d)}catch(a){if(k)throw a;d(-1,a)}}else d(-1,"No Transport");return x},getJSON:function(a,b,c){return oa.get(a,b,c,"json")},getScript:function(a,b){return oa.get(a,void 0,b,"script")}}),oa.each(["get","post"],function(a,b){oa[b]=function(a,c,d,e){return oa.isFunction(c)&&(e=e||d,d=c,c=void 0),oa.ajax(oa.extend({url:a,type:b,dataType:e,data:c,success:d},oa.isPlainObject(a)&&a))}}),oa._evalUrl=function(a){return oa.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},oa.fn.extend({wrapAll:function(a){var b;return this[0]&&(oa.isFunction(a)&&(a=a.call(this[0])),b=oa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return oa.isFunction(a)?this.each(function(b){oa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=oa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=oa.isFunction(a);return this.each(function(c){oa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){oa(this).replaceWith(this.childNodes)}),this}}),oa.expr.pseudos.hidden=function(a){return!oa.expr.pseudos.visible(a)},oa.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},oa.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(a){}};var Pb={0:200,1223:204},Qb=oa.ajaxSettings.xhr();na.cors=!!Qb&&"withCredentials"in Qb,na.ajax=Qb=!!Qb,oa.ajaxTransport(function(b){var c,d;if(na.cors||Qb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Pb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(a){if(c)throw a}},abort:function(){c&&c()}}}),oa.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),oa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return oa.globalEval(a),a}}}),oa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),oa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=oa("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),ca.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Rb=[],Sb=/(=)\?(?=&|$)|\?\?/;oa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Rb.pop()||oa.expando+"_"+yb++;return this[a]=!0,a}}),oa.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(Sb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Sb.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=oa.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Sb,"$1"+e):!1!==b.jsonp&&(b.url+=(zb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||oa.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?oa(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Rb.push(e)),g&&oa.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),na.createHTMLDocument=function(){var a=ca.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),oa.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var d,e,f;return b||(na.createHTMLDocument?(b=ca.implementation.createHTMLDocument(""),d=b.createElement("base"),d.href=ca.location.href,b.head.appendChild(d)):b=ca),e=xa.exec(a),f=!c&&[],e?[b.createElement(e[1])]:(e=u([a],b,f),f&&f.length&&oa(f).remove(),oa.merge([],e.childNodes))},oa.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=V(a.slice(h)),a=a.slice(0,h)),oa.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&oa.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?oa("<div>").append(oa.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},oa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){oa.fn[b]=function(a){return this.on(b,a)}}),oa.expr.pseudos.animated=function(a){return oa.grep(oa.timers,function(b){return a===b.elem}).length},oa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=oa.css(a,"position"),l=oa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=oa.css(a,"top"),i=oa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),oa.isFunction(b)&&(b=b.call(a,c,oa.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},oa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){oa.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),b=f.ownerDocument,c=b.documentElement,e=b.defaultView,{top:d.top+e.pageYOffset-c.clientTop,left:d.left+e.pageXOffset-c.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===oa.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),e(a[0],"html")||(d=a.offset()),d={top:d.top+oa.css(a[0],"borderTopWidth",!0),left:d.left+oa.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-oa.css(c,"marginTop",!0),left:b.left-d.left-oa.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===oa.css(a,"position");)a=a.offsetParent;return a||Xa})}}),oa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;oa.fn[a]=function(d){return Ga(this,function(a,d,e){var f;if(oa.isWindow(a)?f=a:9===a.nodeType&&(f=a.defaultView),void 0===e)return f?f[b]:a[d];f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e},a,d,arguments.length)}}),oa.each(["top","left"],function(a,b){oa.cssHooks[b]=H(na.pixelPosition,function(a,c){if(c)return c=G(a,b),
fb.test(c)?oa(a).position()[b]+"px":c})}),oa.each({Height:"height",Width:"width"},function(a,b){oa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){oa.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(!0===e||!0===f?"margin":"border");return Ga(this,function(b,c,e){var f;return oa.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?oa.css(b,c,h):oa.style(b,c,e,h)},b,g?e:void 0,g)}})}),oa.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),oa.holdReady=function(a){a?oa.readyWait++:oa.ready(!0)},oa.isArray=Array.isArray,oa.parseJSON=JSON.parse,oa.nodeName=e,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oa});var Tb=a.jQuery,Ub=a.$;return oa.noConflict=function(b){return a.$===oa&&(a.$=Ub),b&&a.jQuery===oa&&(a.jQuery=Tb),oa},b||(a.jQuery=a.$=oa),oa})},{}],16:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){return a._head?(a._tail._next=b,b._prev=a._tail,a._tail=b):(a._head=b,a._tail=b),b._owner=a,b}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(){function a(b,c,e){void 0===c&&(c=!1),d(this,a),this._fn=b,this._once=c,this._thisArg=e,this._next=this._prev=this._owner=null}return f(a,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),a}(),h=function(){function a(){d(this,a),this._head=this._tail=void 0}return f(a,[{key:"handlers",value:function(){var a=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],b=this._head;if(a)return!!b;for(var c=[];b;)c.push(b),b=b._next;return c}},{key:"has",value:function(a){if(!(a instanceof g))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return a._owner===this}},{key:"dispatch",value:function(){var a=this._head;if(!a)return!1;for(;a;)a._once&&this.detach(a),a._fn.apply(a._thisArg,arguments),a=a._next;return!0}},{key:"add",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof a)throw new Error("MiniSignal#add(): First arg must be a Function.");return e(this,new g(a,!1,b))}},{key:"once",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof a)throw new Error("MiniSignal#once(): First arg must be a Function.");return e(this,new g(a,!0,b))}},{key:"detach",value:function(a){if(!(a instanceof g))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return a._owner!==this?this:(a._prev&&(a._prev._next=a._next),a._next&&(a._next._prev=a._prev),a===this._head?(this._head=a._next,null===a._next&&(this._tail=null)):a===this._tail&&(this._tail=a._prev,this._tail._next=null),a._owner=null,this)}},{key:"detachAll",value:function(){var a=this._head;if(!a)return this;for(this._head=this._tail=null;a;)a._owner=null,a=a._next;return this}}]),a}();h.MiniSignalBinding=g,c.default=h,b.exports=c.default},{}],17:[function(a,b,c){"use strict";function d(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}var e=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;b.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;c<10;c++)b["_"+String.fromCharCode(c)]=c;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(a){return!1}}()?Object.assign:function(a,b){for(var c,h,i=d(a),j=1;j<arguments.length;j++){c=Object(arguments[j]);for(var k in c)f.call(c,k)&&(i[k]=c[k]);if(e){h=e(c);for(var l=0;l<h.length;l++)g.call(c,h[l])&&(i[h[l]]=c[h[l]])}}return i}},{}],18:[function(a,b,c){"use strict";b.exports=function(a,b){b=b||{};for(var c={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},d=c.parser[b.strictMode?"strict":"loose"].exec(a),e={},f=14;f--;)e[c.key[f]]=d[f]||"";return e[c.q.name]={},e[c.key[12]].replace(c.q.parser,function(a,b,d){b&&(e[c.q.name][b]=d)}),e}},{}],19:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;i<g;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return b<0&&(b=a.length+b),a.substr(b,c)}}).call(this,a("_process"))},{_process:182}],20:[function(a,b,c){PIXI.DISPLAY_FLAG={AUTO_CHILDREN:0,AUTO_CONTAINER:1,AUTO_OBJECT:2,MANUAL_CONTAINER:3};var d=PIXI.WebGLRenderer,e=PIXI.CanvasRenderer;Object.assign(PIXI.Container.prototype,{displayList:null,displayChildren:null,displayParent:null,updateTransform:function(){this.visible&&(this.containerUpdateTransform(),this.displayList&&this.displayList.update(this))},renderCanvas:function(a){return this.visible?(this.displayOrder=a.incDisplayOrder(),this.worldAlpha<=0||!this.renderable?void 0:this.displayList?void this.displayList.renderCanvas(this,a):void this.containerRenderCanvas(a)):void(this.displayOrder=0)},renderWebGL:function(a){return this.visible?(this.displayOrder=a.incDisplayOrder(),this.worldAlpha<=0||!this.renderable?void 0:this.displayList?void this.displayList.renderWebGL(this,a):void this.containerRenderWebGL(a)):void(this.displayOrder=0)},containerRenderWebGL:PIXI.Container.prototype.renderWebGL,containerRenderCanvas:PIXI.Container.prototype.renderCanvas});var f,g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};!function(a){var b=PIXI.utils,c=function(a){function b(b,c){a.call(this),this.currentIndex=0,this.zIndex=0,this.enableSort=!1,this.computedChildren=[],this.currentDisplayList=null,this.currentIndex=0,this.zIndex=b||0,this.enableSort=!!c,"function"==typeof c&&this.on("add",c)}return g(b,a),b.compareZOrder=function(a,b){return a.zOrder<b.zOrder?1:a.zOrder>b.zOrder?-1:a.updateOrder-b.updateOrder},b.prototype.clear=function(){for(var a=this.computedChildren,b=0;b<a.length;b++){var c=a[b].displayChildren;if(c&&c.length>0){for(var d=0;d<c.length;d++)c[d].displayParent=null;c.length=0}a[b].displayParent=null}a.length=0,this.currentDisplayList=null,this.currentIndex=0},b.prototype.add=function(a){a.displayOrder=this.computedChildren.length,this.emit("add",a),this.computedChildren.push(a)},b.prototype.update=function(){this.emit("update"),this.enableSort&&this.computedChildren.length>1&&this.computedChildren.sort(b.compareZOrder)},b.prototype.renderWebGL=function(a,b){for(var c=this.computedChildren,d=0;d<c.length;d++){var e=c[d];if(e.displayFlag)e.renderWebGL(b);else{e.displayOrder=b.incDisplayOrder(),e._renderWebGL(b);var f=e.displayChildren;if(f&&f.length)for(var g=0;g<f.length;g++){var h=f[g];h.displayOrder=b.incDisplayOrder(),h.displayFlag?h.renderWebGL(b):h._renderWebGL(b)}}}},b.prototype.renderCanvas=function(a,b){for(var c=this.computedChildren,d=0;d<c.length;d++){var e=c[d];if(e.displayFlag)e.renderCanvas(b);else{e.displayOrder=b.incDisplayOrder(),e._renderCanvas(b);var f=e.displayChildren;if(f&&f.length)for(var g=0;g<f.length;g++){var h=f[g];h.displayOrder=b.incDisplayOrder(),h.displayFlag?h.renderCanvas(b):h._renderCanvas(b)}}}},b}(b.EventEmitter);a.DisplayGroup=c}(f||(f={}));var f;!function(a){var b=PIXI.utils,c=function(b){function c(){b.call(this),this.container=null,this.totalElements=0,this.displayGroups=[],this.defaultDisplayGroup=new a.DisplayGroup(0,!1)}return g(c,b),c.prototype.clear=function(){for(var a=this.displayGroups,b=0;b<a.length;b++)a[b].clear();a.length=0,this.totalElements=0,this.container=null},c.prototype.destroy=function(){this.clear()},c.compareZIndex=function(a,b){return a.zIndex!==b.zIndex?a.zIndex-b.zIndex:a.currentIndex-b.currentIndex},c.prototype._addRecursive=function(a,b){var c=a;if(c.visible&&c.renderable){var d=this.displayGroups,e=b.displayGroup;if(c.updateOrder=this.totalElements++,c.displayGroup?(e=c.displayGroup,e.currentDisplayList||(e.currentDisplayList=this,e.currentIndex=d.length,d.push(e)),e.add(c),c.displayParent=c):(c.displayParent=b,b.displayChildren||(b.displayChildren=[]),b.displayChildren.push(c)),c.displayFlag!==PIXI.DISPLAY_FLAG.MANUAL_CONTAINER){var f=c.children;if(f&&f.length>0)if(c._mask||c._filters&&c._filters.length||c.displayList)c.displayFlag=PIXI.DISPLAY_FLAG.AUTO_CONTAINER;else{c.displayFlag=PIXI.DISPLAY_FLAG.AUTO_CHILDREN;for(var g=0;g<f.length;g++)this._addRecursive(f[g],c.displayParent)}else c.displayFlag=PIXI.DISPLAY_FLAG.AUTO_OBJECT}}},c.prototype.update=function(a){this.clear();a.displayGroup;this.displayGroups.push(this.defaultDisplayGroup),this.defaultDisplayGroup.add(a),this.container=a;var b=a.children,d=0;for(d=0;d<b.length;d++)this._addRecursive(b[d],a);var e=this.displayGroups;for(e.sort(c.compareZIndex),d=0;d<e.length;d++)e[d].currentIndex=d,e[d].update();this.emit("afterUpdate")},c.prototype.renderWebGL=function(a,b){a.displayFlag=PIXI.DISPLAY_FLAG.AUTO_CHILDREN;for(var c=this.displayGroups,d=0;d<c.length;d++){c[d].renderWebGL(a,b)}},c.prototype.renderCanvas=function(a,b){for(var c=this.displayGroups,d=0;d<c.length;d++){c[d].renderCanvas(a,b)}},c}(b.EventEmitter);a.DisplayList=c}(f||(f={})),Object.assign(PIXI.DisplayObject.prototype,{displayGroup:null,displayFlag:PIXI.DISPLAY_FLAG.AUTO_CHILDREN,displayParent:null,zOrder:0,updateOrder:0,displayOrder:0});var f;!function(a){var b=PIXI.interaction.InteractionManager;Object.assign(b.prototype,{_queue:[[],[]],_displayProcessInteractive:function(a,b,c,d){if(!b||!b.visible)return 0;var e=0,f=d=b.interactive||d;b.hitArea&&(f=!1);var g=b._mask;c<1/0&&g&&(g.containsPoint(a)||(c=1/0)),c<1/0&&b.filterArea&&(b.filterArea.contains(a.x,a.y)||(c=1/0));var h=b.children;if(b.interactiveChildren&&h)for(var i=h.length-1;i>=0;i--){var j=h[i],k=this._displayProcessInteractive(a,j,c,f);if(k){if(!j.parent)continue;e=k,c=k}}return d&&(c<b.displayOrder&&(b.hitArea?(b.worldTransform.applyInverse(a,this._tempPoint),b.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(e=b.displayOrder)):b.containsPoint&&b.containsPoint(a)&&(e=b.displayOrder)),b.interactive&&this._queueAdd(b,e)),e},processInteractive:function(a,b,c,d,e){var f=null,g=null;a.data&&a.data.global?(f=a,g=f.data.global):g=a,this._startInteractionProcess(),this._displayProcessInteractive(g,b,d?0:1/0,!1),this._finishInteractionProcess(f,c)},_startInteractionProcess:function(){this._eventDisplayOrder=1,this._queue||(this._queue=[[],[]]),this._queue[0].length=0,this._queue[1].length=0},_queueAdd:function(a,b){var c=this._queue;if(b<this._eventDisplayOrder)c[0].push(a);else{if(b>this._eventDisplayOrder){this._eventDisplayOrder=b;for(var d=c[1],e=0;e<d.length;e++)c[0].push(d[e]);c[1].length=0}c[1].push(a)}},_finishInteractionProcess:function(a,b){for(var c=this._queue,d=c[0],e=0;e<d.length;e++)a?b(a,d[e],!1):b(d[e],!1);for(d=c[1],e=0;e<d.length;e++)a?(a.target||(a.target=d[e]),b(a,d[e],!0)):b(d[e],!0)}})}(f||(f={})),Object.assign(d.prototype,{_lastDisplayOrder:0,incDisplayOrder:function(){return++this._lastDisplayOrder},_oldRender:d.prototype.render,render:function(a,b,c,d,e){b||(this._lastDisplayOrder=0),this._oldRender(a,b,c,d,e)}}),Object.assign(e.prototype,{_lastDisplayOrder:0,incDisplayOrder:function(){return++this._lastDisplayOrder},_oldRender:e.prototype.render,render:function(a,b,c,d,e){b||(this._lastDisplayOrder=0),this._oldRender(a,b,c,d,e)}}),Object.assign(PIXI,{display:f,DisplayGroup:f.DisplayGroup,DisplayList:f.DisplayList})},{}],21:[function(a,b,c){function d(){PIXI.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n","#define GLSLIFY 1\nuniform float radius;\nuniform float strength;\nuniform vec2 center;\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nvarying vec2 vTextureCoord;\nvoid main()\n{\n    vec2 coord = vTextureCoord * dimensions.xy;\n    coord -= center;\n    float distance = length(coord);\n    if (distance < radius) {\n        float percent = distance / radius;\n        if (strength > 0.0) {\n            coord *= mix(1.0, smoothstep(0.0, radius /     distance, percent), strength * 0.75);\n        } else {\n            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\n        }\n    }\n    coord += center;\n    gl_FragColor = texture2D(uSampler, coord / dimensions.xy);\n    vec2 clampedCoord = clamp(coord, vec2(0.0), dimensions.xy);\n    if (coord != clampedCoord) {\n    gl_FragColor.a *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n}\n")}d.prototype=Object.create(PIXI.Filter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{radius:{get:function(){return this.uniforms.radius},set:function(a){this.uniforms.radius=a}},strength:{get:function(){return this.uniforms.strength},set:function(a){this.uniforms.strength=a}},center:{get:function(){return this.uniforms.center},set:function(a){this.uniforms.center=a}}})},{}],22:[function(a,b,c){function d(a,b,c){PIXI.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n","#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec3 originalColor;\nuniform vec3 newColor;\nuniform float epsilon;\nvoid main(void) {\n    vec4 currentColor = texture2D(texture, vTextureCoord);\n    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));\n    float colorDistance = length(colorDiff);\n    float doReplace = step(colorDistance, epsilon);\n    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);\n}\n"),this.uniforms.originalColor=a,this.uniforms.newColor=b,this.uniforms.epsilon=c}d.prototype=Object.create(PIXI.Filter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperty(d.prototype,"originalColor",{set:function(a){var b=((16711680&a)>>16)/255,c=((65280&a)>>8)/255,d=(255&a)/255;this.uniforms.originalColor={x:b,y:c,z:d}}}),Object.defineProperty(d.prototype,"newColor",{set:function(a){var b=((16711680&a)>>16)/255,c=((65280&a)>>8)/255,d=(255&a)/255;this.uniforms.newColor={x:b,y:c,z:d}}}),Object.defineProperty(d.prototype,"epsilon",{set:function(a){this.uniforms.epsilon=a}})},{}],23:[function(a,b,c){function d(a,b,c,d,e){PIXI.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n","#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nuniform float distance;\nuniform float outerStrength;\nuniform float innerStrength;\nuniform vec4 glowColor;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nvec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\n\nvoid main(void) {\n    const float PI = 3.14159265358979323846264;\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float totalAlpha = 0.0;\n    float maxTotalAlpha = 0.0;\n    float cosAngle;\n    float sinAngle;\n    vec2 displaced;\n    for (float angle = 0.0; angle <= PI * 2.0; angle += %QUALITY_DIST%) {\n       cosAngle = cos(angle);\n       sinAngle = sin(angle);\n       for (float curDistance = 1.0; curDistance <= %DIST%; curDistance++) {\n           displaced.x = vTextureCoord.x + cosAngle * curDistance * px.x;\n           displaced.y = vTextureCoord.y + sinAngle * curDistance * px.y;\n           curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\n           totalAlpha += (distance - curDistance) * curColor.a;\n           maxTotalAlpha += (distance - curDistance);\n       }\n    }\n    maxTotalAlpha = max(maxTotalAlpha, 0.0001);\n\n    ownColor.a = max(ownColor.a, 0.0001);\n    ownColor.rgb = ownColor.rgb / ownColor.a;\n    float outerGlowAlpha = (totalAlpha / maxTotalAlpha)  * outerStrength * (1. - ownColor.a);\n    float innerGlowAlpha = ((maxTotalAlpha - totalAlpha) / maxTotalAlpha) * innerStrength * ownColor.a;\n    float resultAlpha = (ownColor.a + outerGlowAlpha);\n    gl_FragColor = vec4(mix(mix(ownColor.rgb, glowColor.rgb, innerGlowAlpha / ownColor.a), glowColor.rgb, outerGlowAlpha / resultAlpha) * resultAlpha, resultAlpha);\n}\n".replace(/%QUALITY_DIST%/gi,""+(1/e/a).toFixed(7)).replace(/%DIST%/gi,""+a.toFixed(7))),this.uniforms.distance=a,this.uniforms.glowColor=new Float32Array([0,0,0,1]),e=Math.pow(e,1/3),this.quality=e,this.uniforms.distance.value*=e,this.color=d,this.outerStrength=b,this.innerStrength=c}d.prototype=Object.create(PIXI.Filter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{color:{get:function(){return PIXI.utils.rgb2hex(this.uniforms.glowColor)},set:function(a){PIXI.utils.hex2rgb(a,this.uniforms.glowColor)}},outerStrength:{get:function(){return this.uniforms.outerStrength},set:function(a){this.uniforms.outerStrength=a}}})},{}],24:[function(a,b,c){function d(a,b){a=a||1,PIXI.Filter.call(this,"#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n","#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float thickness;\nuniform vec4 outlineColor;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nvec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\n\nvoid main(void) {\n    const float PI = 3.14159265358979323846264;\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float maxAlpha = 0.;\n    vec2 displaced;\n    for (float angle = 0.; angle < PI * 2.; angle += %THICKNESS% ) {\n        displaced.x = vTextureCoord.x + thickness * px.x * cos(angle);\n        displaced.y = vTextureCoord.y + thickness * px.y * sin(angle);\n        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\n        maxAlpha = max(maxAlpha, curColor.a);\n    }\n    float resultAlpha = max(maxAlpha, ownColor.a);\n    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);\n}\n".replace(/%THICKNESS%/gi,(1/a).toFixed(7))),this.uniforms.thickness=a,this.uniforms.outlineColor=new Float32Array([0,0,0,1]),b&&(this.color=b)}d.prototype=Object.create(PIXI.Filter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{color:{get:function(){return PIXI.utils.rgb2hex(this.uniforms.outlineColor)},set:function(a){PIXI.utils.hex2rgb(a,this.uniforms.outlineColor)}}})},{}],25:[function(a,b,c){function d(a,b,c){PIXI.Filter.call(this,"precision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float thickness;\nuniform vec4 outlineColor;\nuniform float pixelWidth;\nuniform float pixelHeight;\nvec2 px = vec2(pixelWidth, pixelHeight);\n\nvoid main(void) {\n    const float PI = 3.14159265358979323846264;\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float maxAlpha = 0.;\n    for (float angle = 0.; angle < PI * 2.; angle +=  + (1 / thickness).toFixed(7) + ) {\n        curColor = texture2D(uSampler, vec2(vTextureCoord.x + thickness * px.x * cos(angle), vTextureCoord.y + thickness * px.y * sin(angle)));\n        maxAlpha = max(maxAlpha, curColor.a);\n    }\n    float resultAlpha = max(maxAlpha, ownColor.a);\n    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);\n}\n","#define GLSLIFY 1\nvarying vec4 vColor;\nvarying vec2 vTextureCoord;\nuniform sampler2D u_texture; //diffuse map\nuniform sampler2D u_lightmap;   //light map\nuniform vec2 resolution; //resolution of screen\nuniform vec4 ambientColor; //ambient RGB, alpha channel is intensity\nvoid main() {\n    vec4 diffuseColor = texture2D(u_texture, vTextureCoord);\n    vec2 lighCoord = (gl_FragCoord.xy / resolution.xy);\n    vec4 light = texture2D(u_lightmap, vTextureCoord);\n    vec3 ambient = ambientColor.rgb * ambientColor.a;\n    vec3 intensity = ambient + light.rgb;\n    vec3 finalColor = diffuseColor.rgb * intensity;\n    gl_FragColor = vColor * vec4(finalColor, diffuseColor.a);\n}\n"),this.uniforms.u_lightmap=a,this.uniforms.resolution=new Float32Array(c||[1,1]),this.uniforms.ambientColor=new Float32Array(b)}d.prototype=Object.create(PIXI.Filter.prototype),d.prototype.constructor=d,Object.defineProperties(d.prototype,{texture:{get:function(){return this.uniforms.u_lightmap},set:function(a){this.uniforms.u_lightmap=a}},color:{get:function(){return this.uniforms.ambientColor},set:function(a){this.uniforms.ambientColor=new Float32Array(a)}},resolution:{get:function(){return this.uniforms.resolution},set:function(a){this.uniforms.resolution=new Float32Array(a)}}}),b.exports=d},{}],26:[function(a,b,c){b.exports={GlowFilter:a("./filters/glow/GlowFilter"),OutlineFilter:a("./filters/outline/OutlineFilter"),BulgePinchFilter:a("./filters/bulgepinch/BulgePinchFilter"),ColorReplaceFilter:a("./filters/colorreplace/ColorReplaceFilter"),SimpleLightmapFilter:a("./filters/simplelightmap/SimpleLightmapFilter")};for(var d in b.exports)PIXI.filters[d]=b.exports[d]},{"./filters/bulgepinch/BulgePinchFilter":21,"./filters/colorreplace/ColorReplaceFilter":22,"./filters/glow/GlowFilter":23,"./filters/outline/OutlineFilter":24,"./filters/simplelightmap/SimpleLightmapFilter":25}],27:[function(a,b,c){var d=new ArrayBuffer(0),e=function(a,b,c,e){this.gl=a,this.buffer=a.createBuffer(),this.type=b||a.ARRAY_BUFFER,this.drawType=e||a.STATIC_DRAW,this.data=d,c&&this.upload(c),this._updateID=0};e.prototype.upload=function(a,b,c){c||this.bind();var d=this.gl;a=a||this.data,b=b||0,this.data.byteLength>=a.byteLength?d.bufferSubData(this.type,b,a):d.bufferData(this.type,a,this.drawType),this.data=a},e.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},e.createVertexBuffer=function(a,b,c){return new e(a,a.ARRAY_BUFFER,b,c)},e.createIndexBuffer=function(a,b,c){return new e(a,a.ELEMENT_ARRAY_BUFFER,b,c)},e.create=function(a,b,c,d){return new e(a,b,c,d)},e.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},b.exports=e},{}],28:[function(a,b,c){var d=a("./GLTexture"),e=function(a,b,c){this.gl=a,this.framebuffer=a.createFramebuffer(),this.stencil=null,this.texture=null,this.width=b||100,this.height=c||100};e.prototype.enableTexture=function(a){var b=this.gl;this.texture=a||new d(b),this.texture.bind(),this.bind(),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.texture.texture,0)},e.prototype.enableStencil=function(){if(!this.stencil){var a=this.gl;this.stencil=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,this.stencil),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,this.stencil),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,this.width,this.height)}},e.prototype.clear=function(a,b,c,d){this.bind();var e=this.gl;e.clearColor(a,b,c,d),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)},e.prototype.bind=function(){var a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer)},e.prototype.unbind=function(){var a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,null)},e.prototype.resize=function(a,b){var c=this.gl;this.width=a,this.height=b,this.texture&&this.texture.uploadData(null,a,b),this.stencil&&(c.bindRenderbuffer(c.RENDERBUFFER,this.stencil),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,a,b))},e.prototype.destroy=function(){var a=this.gl;this.texture&&this.texture.destroy(),a.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},e.createRGBA=function(a,b,c,f){var g=d.fromData(a,null,b,c);g.enableNearestScaling(),g.enableWrapClamp();var h=new e(a,b,c);return h.enableTexture(g),h.unbind(),h},e.createFloat32=function(a,b,c,f){var g=new d.fromData(a,f,b,c);g.enableNearestScaling(),g.enableWrapClamp();var h=new e(a,b,c);return h.enableTexture(g),h.unbind(),h},b.exports=e},{"./GLTexture":30}],29:[function(a,b,c){var d=a("./shader/compileProgram"),e=a("./shader/extractAttributes"),f=a("./shader/extractUniforms"),g=a("./shader/setPrecision"),h=a("./shader/generateUniformAccessObject"),i=function(a,b,c,i,j){this.gl=a,i&&(b=g(b,i),c=g(c,i)),this.program=d(a,b,c,j),this.attributes=e(a,this.program),this.uniformData=f(a,this.program),this.uniforms=h(a,this.uniformData)};i.prototype.bind=function(){this.gl.useProgram(this.program)},i.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},b.exports=i},{"./shader/compileProgram":35,"./shader/extractAttributes":37,"./shader/extractUniforms":38,"./shader/generateUniformAccessObject":39,"./shader/setPrecision":43}],30:[function(a,b,c){var d=function(a,b,c,d,e){this.gl=a,this.texture=a.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=b||-1,this.height=c||-1,this.format=d||a.RGBA,this.type=e||a.UNSIGNED_BYTE};d.prototype.upload=function(a){this.bind();var b=this.gl;b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var c=a.videoWidth||a.width,d=a.videoHeight||a.height;d!==this.height||c!==this.width?b.texImage2D(b.TEXTURE_2D,0,this.format,this.format,this.type,a):b.texSubImage2D(b.TEXTURE_2D,0,0,0,this.format,this.type,a),this.width=c,this.height=d};var e=!1;d.prototype.uploadData=function(a,b,c){this.bind();var d=this.gl;if(a instanceof Float32Array){if(!e){if(!d.getExtension("OES_texture_float"))throw new Error("floating point textures not available");e=!0}this.type=d.FLOAT}else this.type=this.type||d.UNSIGNED_BYTE;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),b!==this.width||c!==this.height?d.texImage2D(d.TEXTURE_2D,0,this.format,b,c,0,this.format,this.type,a||null):d.texSubImage2D(d.TEXTURE_2D,0,0,0,b,c,this.format,this.type,a||null),this.width=b,this.height=c},d.prototype.bind=function(a){var b=this.gl;void 0!==a&&b.activeTexture(b.TEXTURE0+a),b.bindTexture(b.TEXTURE_2D,this.texture)},d.prototype.unbind=function(){var a=this.gl;a.bindTexture(a.TEXTURE_2D,null)},d.prototype.minFilter=function(a){var b=this.gl;this.bind(),this.mipmap?b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a?b.LINEAR_MIPMAP_LINEAR:b.NEAREST_MIPMAP_NEAREST):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a?b.LINEAR:b.NEAREST)},d.prototype.magFilter=function(a){var b=this.gl;this.bind(),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,a?b.LINEAR:b.NEAREST)},d.prototype.enableMipmap=function(){var a=this.gl;this.bind(),this.mipmap=!0,a.generateMipmap(a.TEXTURE_2D)},d.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},d.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},d.prototype.enableWrapClamp=function(){var a=this.gl;this.bind(),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)},d.prototype.enableWrapRepeat=function(){var a=this.gl;this.bind(),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.REPEAT)},d.prototype.enableWrapMirrorRepeat=function(){var a=this.gl;this.bind(),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.MIRRORED_REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.MIRRORED_REPEAT)},d.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},d.fromSource=function(a,b,c){var e=new d(a);return e.premultiplyAlpha=c||!1,e.upload(b),e},d.fromData=function(a,b,c,e){var f=new d(a);return f.uploadData(b,c,e),f},b.exports=d},{}],31:[function(a,b,c){function d(a,b){if(this.nativeVaoExtension=null,d.FORCE_NATIVE||(this.nativeVaoExtension=a.getExtension("OES_vertex_array_object")||a.getExtension("MOZ_OES_vertex_array_object")||a.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=b,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var c=a.getParameter(a.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(c),attribState:new Array(c)}}this.gl=a,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var e=a("./setVertexAttribArrays");d.prototype.constructor=d,b.exports=d,d.FORCE_NATIVE=!1,d.prototype.bind=function(){return this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate(),this},d.prototype.unbind=function(){
return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},d.prototype.activate=function(){for(var a=this.gl,b=null,c=0;c<this.attributes.length;c++){var d=this.attributes[c];b!==d.buffer&&(d.buffer.bind(),b=d.buffer),a.vertexAttribPointer(d.attribute.location,d.attribute.size,d.type||a.FLOAT,d.normalized||!1,d.stride||0,d.start||0)}return e(a,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},d.prototype.addAttribute=function(a,b,c,d,e,f){return this.attributes.push({buffer:a,attribute:b,location:b.location,type:c||this.gl.FLOAT,normalized:d||!1,stride:e||0,start:f||0}),this.dirty=!0,this},d.prototype.addIndex=function(a){return this.indexBuffer=a,this.dirty=!0,this},d.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},d.prototype.draw=function(a,b,c){var d=this.gl;return this.indexBuffer?d.drawElements(a,b||this.indexBuffer.data.length,d.UNSIGNED_SHORT,2*(c||0)):d.drawArrays(a,c,b||this.getSize()),this},d.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},d.prototype.getSize=function(){var a=this.attributes[0];return a.buffer.data.length/(a.stride/4||a.attribute.size)}},{"./setVertexAttribArrays":34}],32:[function(a,b,c){var d=function(a,b){var c=a.getContext("webgl",b)||a.getContext("experimental-webgl",b);if(!c)throw new Error("This browser does not support webGL. Try using the canvas renderer");return c};b.exports=d},{}],33:[function(a,b,c){var d={createContext:a("./createContext"),setVertexAttribArrays:a("./setVertexAttribArrays"),GLBuffer:a("./GLBuffer"),GLFramebuffer:a("./GLFramebuffer"),GLShader:a("./GLShader"),GLTexture:a("./GLTexture"),VertexArrayObject:a("./VertexArrayObject"),shader:a("./shader")};void 0!==b&&b.exports&&(b.exports=d),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=d)},{"./GLBuffer":27,"./GLFramebuffer":28,"./GLShader":29,"./GLTexture":30,"./VertexArrayObject":31,"./createContext":32,"./setVertexAttribArrays":34,"./shader":40}],34:[function(a,b,c){var d=function(a,b,c){var d;if(c){var e=c.tempAttribState,f=c.attribState;for(d=0;d<e.length;d++)e[d]=!1;for(d=0;d<b.length;d++)e[b[d].attribute.location]=!0;for(d=0;d<f.length;d++)f[d]!==e[d]&&(f[d]=e[d],c.attribState[d]?a.enableVertexAttribArray(d):a.disableVertexAttribArray(d))}else for(d=0;d<b.length;d++){var g=b[d];a.enableVertexAttribArray(g.attribute.location)}};b.exports=d},{}],35:[function(a,b,c){var d=function(a,b,c,d){var f=e(a,a.VERTEX_SHADER,b),g=e(a,a.FRAGMENT_SHADER,c),h=a.createProgram();if(a.attachShader(h,f),a.attachShader(h,g),d)for(var i in d)a.bindAttribLocation(h,d[i],i);return a.linkProgram(h),a.getProgramParameter(h,a.LINK_STATUS)||(a.getProgramInfoLog(h),a.deleteProgram(h),h=null),a.deleteShader(f),a.deleteShader(g),h},e=function(a,b,c){var d=a.createShader(b);return a.shaderSource(d,c),a.compileShader(d),a.getShaderParameter(d,a.COMPILE_STATUS)?d:null};b.exports=d},{}],36:[function(a,b,c){var d=function(a,b){switch(a){case"float":return 0;case"vec2":return new Float32Array(2*b);case"vec3":return new Float32Array(3*b);case"vec4":return new Float32Array(4*b);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*b);case"ivec3":return new Int32Array(3*b);case"ivec4":return new Int32Array(4*b);case"bool":return!1;case"bvec2":return e(2*b);case"bvec3":return e(3*b);case"bvec4":return e(4*b);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},e=function(a){for(var b=new Array(a),c=0;c<b.length;c++)b[c]=!1;return b};b.exports=d},{}],37:[function(a,b,c){var d=a("./mapType"),e=a("./mapSize"),f=function(a,b){for(var c={},f=a.getProgramParameter(b,a.ACTIVE_ATTRIBUTES),h=0;h<f;h++){var i=a.getActiveAttrib(b,h),j=d(a,i.type);c[i.name]={type:j,size:e(j),location:a.getAttribLocation(b,i.name),pointer:g}}return c},g=function(a,b,c,d){gl.vertexAttribPointer(this.location,this.size,a||gl.FLOAT,b||!1,c||0,d||0)};b.exports=f},{"./mapSize":41,"./mapType":42}],38:[function(a,b,c){var d=a("./mapType"),e=a("./defaultValue"),f=function(a,b){for(var c={},f=a.getProgramParameter(b,a.ACTIVE_UNIFORMS),g=0;g<f;g++){var h=a.getActiveUniform(b,g),i=h.name.replace(/\[.*?\]/,""),j=d(a,h.type);c[i]={type:j,size:h.size,location:a.getUniformLocation(b,i),value:e(j,h.size)}}return c};b.exports=f},{"./defaultValue":36,"./mapType":42}],39:[function(a,b,c){var d=function(a,b){var c={data:{}};c.gl=a;for(var d=Object.keys(b),h=0;h<d.length;h++){var i=d[h],j=i.split("."),k=j[j.length-1],l=g(j,c),m=b[i];l.data[k]=m,l.gl=a,Object.defineProperty(l,k,{get:e(k),set:f(k,m)})}return c},e=function(a){var b=h.replace("%%",a);return new Function(b)},f=function(a,b){var c,d=i.replace(/%%/g,a);return c=1===b.size?j[b.type]:k[b.type],c&&(d+="\nthis.gl."+c+";"),new Function("value",d)},g=function(a,b){for(var c=b,d=0;d<a.length-1;d++){var e=c[a[d]]||{data:{}};c[a[d]]=e,c=e}return c},h=["return this.data.%%.value;"].join("\n"),i=["this.data.%%.value = value;","var location = this.data.%%.location;"].join("\n"),j={float:"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])",int:"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},k={float:"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)",int:"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};b.exports=d},{}],40:[function(a,b,c){b.exports={compileProgram:a("./compileProgram"),defaultValue:a("./defaultValue"),extractAttributes:a("./extractAttributes"),extractUniforms:a("./extractUniforms"),generateUniformAccessObject:a("./generateUniformAccessObject"),setPrecision:a("./setPrecision"),mapSize:a("./mapSize"),mapType:a("./mapType")}},{"./compileProgram":35,"./defaultValue":36,"./extractAttributes":37,"./extractUniforms":38,"./generateUniformAccessObject":39,"./mapSize":41,"./mapType":42,"./setPrecision":43}],41:[function(a,b,c){var d=function(a){return e[a]},e={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};b.exports=d},{}],42:[function(a,b,c){var d=function(a,b){if(!e){var c=Object.keys(f);e={};for(var d=0;d<c.length;++d){var g=c[d];e[a[g]]=f[g]}}return e[b]},e=null,f={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};b.exports=d},{}],43:[function(a,b,c){var d=function(a,b){return"precision"!==a.substring(0,9)?"precision "+b+" float;\n"+a:a};b.exports=d},{}],44:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var f=a("../core"),g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(f),h=a("ismobilejs"),i=d(h),j=a("./accessibleTarget"),k=d(j);g.utils.mixins.delayMixin(g.DisplayObject.prototype,k.default);var l=100,m=0,n=0,o=2,p=function(){function a(b){e(this,a),!i.default.tablet&&!i.default.phone||navigator.isCocoonJS||this.createTouchHook();var c=document.createElement("div");c.style.width=l+"px",c.style.height=l+"px",c.style.position="absolute",c.style.top=m+"px",c.style.left=n+"px",c.style.zIndex=o,this.div=c,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=b,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return a.prototype.createTouchHook=function(){var a=this,b=document.createElement("button");b.style.width="1px",b.style.height="1px",b.style.position="absolute",b.style.top="-1000px",b.style.left="-1000px",b.style.zIndex=2,b.style.backgroundColor="#FF0000",b.title="HOOK DIV",b.addEventListener("focus",function(){a.isMobileAccessabillity=!0,a.activate(),document.body.removeChild(b)}),document.body.appendChild(b)},a.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},a.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},a.prototype.updateAccessibleObjects=function(a){if(a.visible){a.accessible&&a.interactive&&(a._accessibleActive||this.addChild(a),a.renderId=this.renderId);for(var b=a.children,c=b.length-1;c>=0;c--)this.updateAccessibleObjects(b[c])}},a.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var a=this.renderer.view.getBoundingClientRect(),b=a.width/this.renderer.width,c=a.height/this.renderer.height,d=this.div;d.style.left=a.left+"px",d.style.top=a.top+"px",d.style.width=this.renderer.width+"px",d.style.height=this.renderer.height+"px";for(var e=0;e<this.children.length;e++){var f=this.children[e];if(f.renderId!==this.renderId)f._accessibleActive=!1,g.utils.removeItems(this.children,e,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,e--,0===this.children.length&&this.deactivate();else{d=f._accessibleDiv;var h=f.hitArea,i=f.worldTransform;f.hitArea?(d.style.left=(i.tx+h.x*i.a)*b+"px",d.style.top=(i.ty+h.y*i.d)*c+"px",d.style.width=h.width*i.a*b+"px",d.style.height=h.height*i.d*c+"px"):(h=f.getBounds(),this.capHitArea(h),d.style.left=h.x*b+"px",d.style.top=h.y*c+"px",d.style.width=h.width*b+"px",d.style.height=h.height*c+"px")}}this.renderId++}},a.prototype.capHitArea=function(a){a.x<0&&(a.width+=a.x,a.x=0),a.y<0&&(a.height+=a.y,a.y=0),a.x+a.width>this.renderer.width&&(a.width=this.renderer.width-a.x),a.y+a.height>this.renderer.height&&(a.height=this.renderer.height-a.y)},a.prototype.addChild=function(a){var b=this.pool.pop();b||(b=document.createElement("button"),b.style.width=l+"px",b.style.height=l+"px",b.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",b.style.position="absolute",b.style.zIndex=o,b.style.borderStyle="none",b.addEventListener("click",this._onClick.bind(this)),b.addEventListener("focus",this._onFocus.bind(this)),b.addEventListener("focusout",this._onFocusOut.bind(this))),a.accessibleTitle?b.title=a.accessibleTitle:a.accessibleTitle||a.accessibleHint||(b.title="displayObject "+this.tabIndex),a.accessibleHint&&b.setAttribute("aria-label",a.accessibleHint),a._accessibleActive=!0,a._accessibleDiv=b,b.displayObject=a,this.children.push(a),this.div.appendChild(a._accessibleDiv),a._accessibleDiv.tabIndex=a.tabIndex},a.prototype._onClick=function(a){var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"click",b.eventData)},a.prototype._onFocus=function(a){var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"mouseover",b.eventData)},a.prototype._onFocusOut=function(a){var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"mouseout",b.eventData)},a.prototype._onKeyDown=function(a){9===a.keyCode&&this.activate()},a.prototype._onMouseMove=function(){this.deactivate()},a.prototype.destroy=function(){this.div=null;for(var a=0;a<this.children.length;a++)this.children[a].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},a}();c.default=p,g.WebGLRenderer.registerPlugin("accessibility",p),g.CanvasRenderer.registerPlugin("accessibility",p)},{"../core":69,"./accessibleTarget":45,ismobilejs:14}],45:[function(a,b,c){"use strict";c.__esModule=!0,c.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],46:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("./accessibleTarget");Object.defineProperty(c,"accessibleTarget",{enumerable:!0,get:function(){return d(e).default}});var f=a("./AccessibilityManager");Object.defineProperty(c,"AccessibilityManager",{enumerable:!0,get:function(){return d(f).default}})},{"./AccessibilityManager":44,"./accessibleTarget":45}],47:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./autoDetectRenderer"),h=a("./display/Container"),i=d(h),j=a("./ticker"),k=a("./settings"),l=d(k),m=a("./const"),n=function(){function a(b,c,d,f,h){e(this,a),"number"==typeof b&&(b=Object.assign({width:b,height:c||l.default.RENDER_OPTIONS.height,forceCanvas:!!f,sharedTicker:!!h},d)),this._options=b=Object.assign({sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},b),this.renderer=(0,g.autoDetectRenderer)(b),this.stage=new i.default,this._ticker=null,this.ticker=b.sharedTicker?j.shared:new j.Ticker,this.start()}return a.prototype.render=function(){this.renderer.render(this.stage)},a.prototype.stop=function(){this._ticker.stop()},a.prototype.start=function(){this._ticker.start()},a.prototype.destroy=function(a){var b=this._ticker;this.ticker=null,b.destroy(),this.stage.destroy(),this.stage=null,this.renderer.destroy(a),this.renderer=null,this._options=null},f(a,[{key:"ticker",set:function(a){this._ticker&&this._ticker.remove(this.render,this),this._ticker=a,a&&a.add(this.render,this,m.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),a}();c.default=n},{"./autoDetectRenderer":49,"./const":50,"./display/Container":52,"./settings":105,"./ticker":124}],48:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function g(a,b){if(a instanceof Array){if("precision"!==a[0].substring(0,9)){var c=a.slice(0);return c.unshift("precision "+b+" float;"),c}}else if("precision"!==a.substring(0,9))return"precision "+b+" float;\n"+a;return a}c.__esModule=!0;var h=a("pixi-gl-core"),i=a("./settings"),j=function(a){return a&&a.__esModule?a:{default:a}}(i),k=function(a){function b(c,f,h){return d(this,b),e(this,a.call(this,c,g(f,j.default.PRECISION_VERTEX),g(h,j.default.PRECISION_FRAGMENT)))}return f(b,a),b}(h.GLShader);c.default=k},{"./settings":105,"pixi-gl-core":33}],49:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c,d){var e=a&&a.forceCanvas;return void 0!==d&&(e=d),!e&&g.isWebGLSupported()?new k.default(a,b,c):new i.default(a,b,c)}c.__esModule=!0,c.autoDetectRenderer=e;var f=a("./utils"),g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(f),h=a("./renderers/canvas/CanvasRenderer"),i=d(h),j=a("./renderers/webgl/WebGLRenderer"),k=d(j)},{"./renderers/canvas/CanvasRenderer":81,"./renderers/webgl/WebGLRenderer":88,"./utils":128}],50:[function(a,b,c){"use strict";c.__esModule=!0;c.VERSION="4.5.3",c.PI_2=2*Math.PI,c.RAD_TO_DEG=180/Math.PI,c.DEG_TO_RAD=Math.PI/180,c.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},c.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},c.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},c.SCALE_MODES={LINEAR:0,NEAREST:1},c.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},c.GC_MODES={AUTO:0,MANUAL:1},c.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,c.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,c.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,c.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},c.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},c.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},c.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},c.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},{}],51:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("../math"),f=function(){function a(){d(this,a),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return a.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},a.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},a.prototype.getRectangle=function(a){return this.minX>this.maxX||this.minY>this.maxY?e.Rectangle.EMPTY:(a=a||new e.Rectangle(0,0,1,1),a.x=this.minX,a.y=this.minY,a.width=this.maxX-this.minX,a.height=this.maxY-this.minY,a)},a.prototype.addPoint=function(a){this.minX=Math.min(this.minX,a.x),this.maxX=Math.max(this.maxX,a.x),this.minY=Math.min(this.minY,a.y),this.maxY=Math.max(this.maxY,a.y)},a.prototype.addQuad=function(a){var b=this.minX,c=this.minY,d=this.maxX,e=this.maxY,f=a[0],g=a[1];b=f<b?f:b,c=g<c?g:c,d=f>d?f:d,e=g>e?g:e,f=a[2],g=a[3],b=f<b?f:b,c=g<c?g:c,d=f>d?f:d,e=g>e?g:e,f=a[4],g=a[5],b=f<b?f:b,c=g<c?g:c,d=f>d?f:d,e=g>e?g:e,f=a[6],g=a[7],b=f<b?f:b,c=g<c?g:c,d=f>d?f:d,e=g>e?g:e,this.minX=b,this.minY=c,this.maxX=d,this.maxY=e},a.prototype.addFrame=function(a,b,c,d,e){var f=a.worldTransform,g=f.a,h=f.b,i=f.c,j=f.d,k=f.tx,l=f.ty,m=this.minX,n=this.minY,o=this.maxX,p=this.maxY,q=g*b+i*c+k,r=h*b+j*c+l;m=q<m?q:m,n=r<n?r:n,o=q>o?q:o,p=r>p?r:p,q=g*d+i*c+k,r=h*d+j*c+l,m=q<m?q:m,n=r<n?r:n,o=q>o?q:o,p=r>p?r:p,q=g*b+i*e+k,r=h*b+j*e+l,m=q<m?q:m,n=r<n?r:n,o=q>o?q:o,p=r>p?r:p,q=g*d+i*e+k,r=h*d+j*e+l,m=q<m?q:m,n=r<n?r:n,o=q>o?q:o,p=r>p?r:p,this.minX=m,this.minY=n,this.maxX=o,this.maxY=p},a.prototype.addVertices=function(a,b,c,d){for(var e=a.worldTransform,f=e.a,g=e.b,h=e.c,i=e.d,j=e.tx,k=e.ty,l=this.minX,m=this.minY,n=this.maxX,o=this.maxY,p=c;p<d;p+=2){var q=b[p],r=b[p+1],s=f*q+h*r+j,t=i*r+g*q+k;l=s<l?s:l,m=t<m?t:m,n=s>n?s:n,o=t>o?t:o}this.minX=l,this.minY=m,this.maxX=n,this.maxY=o},a.prototype.addBounds=function(a){var b=this.minX,c=this.minY,d=this.maxX,e=this.maxY;this.minX=a.minX<b?a.minX:b,this.minY=a.minY<c?a.minY:c,this.maxX=a.maxX>d?a.maxX:d,this.maxY=a.maxY>e?a.maxY:e},a.prototype.addBoundsMask=function(a,b){var c=a.minX>b.minX?a.minX:b.minX,d=a.minY>b.minY?a.minY:b.minY,e=a.maxX<b.maxX?a.maxX:b.maxX,f=a.maxY<b.maxY?a.maxY:b.maxY;if(c<=e&&d<=f){var g=this.minX,h=this.minY,i=this.maxX,j=this.maxY;this.minX=c<g?c:g,this.minY=d<h?d:h,this.maxX=e>i?e:i,this.maxY=f>j?f:j}},a.prototype.addBoundsArea=function(a,b){var c=a.minX>b.x?a.minX:b.x,d=a.minY>b.y?a.minY:b.y,e=a.maxX<b.x+b.width?a.maxX:b.x+b.width,f=a.maxY<b.y+b.height?a.maxY:b.y+b.height;if(c<=e&&d<=f){var g=this.minX,h=this.minY,i=this.maxX,j=this.maxY;this.minX=c<g?c:g,this.minY=d<h?d:h,this.maxX=e>i?e:i,this.maxY=f>j?f:j}},a}();c.default=f},{"../math":74}],52:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("../utils"),i=a("./DisplayObject"),j=function(a){return a&&a.__esModule?a:{default:a}}(i),k=function(a){function b(){d(this,b);var c=e(this,a.call(this));return c.children=[],c}return f(b,a),b.prototype.onChildrenChange=function(){},b.prototype.addChild=function(a){var b=arguments.length;if(b>1)for(var c=0;c<b;c++)this.addChild(arguments[c]);else a.parent&&a.parent.removeChild(a),a.parent=this,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),a.emit("added",this);return a},b.prototype.addChildAt=function(a,b){if(b<0||b>this.children.length)throw new Error(a+"addChildAt: The index "+b+" supplied is out of bounds "+this.children.length);return a.parent&&a.parent.removeChild(a),a.parent=this,a.transform._parentID=-1,this.children.splice(b,0,a),this._boundsID++,this.onChildrenChange(b),a.emit("added",this),a},b.prototype.swapChildren=function(a,b){if(a!==b){var c=this.getChildIndex(a),d=this.getChildIndex(b);this.children[c]=b,this.children[d]=a,this.onChildrenChange(c<d?c:d)}},b.prototype.getChildIndex=function(a){var b=this.children.indexOf(a);if(-1===b)throw new Error("The supplied DisplayObject must be a child of the caller");return b},b.prototype.setChildIndex=function(a,b){if(b<0||b>=this.children.length)throw new Error("The supplied index is out of bounds");var c=this.getChildIndex(a);(0,h.removeItems)(this.children,c,1),this.children.splice(b,0,a),this.onChildrenChange(b)},b.prototype.getChildAt=function(a){if(a<0||a>=this.children.length)throw new Error("getChildAt: Index ("+a+") does not exist.");return this.children[a]},b.prototype.removeChild=function(a){var b=arguments.length;if(b>1)for(var c=0;c<b;c++)this.removeChild(arguments[c]);else{var d=this.children.indexOf(a);if(-1===d)return null;a.parent=null,a.transform._parentID=-1,(0,h.removeItems)(this.children,d,1),this._boundsID++,this.onChildrenChange(d),a.emit("removed",this)}return a},b.prototype.removeChildAt=function(a){var b=this.getChildAt(a);return b.parent=null,b.transform._parentID=-1,(0,h.removeItems)(this.children,a,1),this._boundsID++,this.onChildrenChange(a),b.emit("removed",this),b},b.prototype.removeChildren=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments[1],c=a,d="number"==typeof b?b:this.children.length,e=d-c,f=void 0;if(e>0&&e<=d){f=this.children.splice(c,e);for(var g=0;g<f.length;++g)f[g].parent=null,f[g].transform&&(f[g].transform._parentID=-1);this._boundsID++,this.onChildrenChange(a);for(var h=0;h<f.length;++h)f[h].emit("removed",this);return f}if(0===e&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},b.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var a=0,b=this.children.length;a<b;++a){var c=this.children[a];c.visible&&c.updateTransform()}},b.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var a=0;a<this.children.length;a++){var b=this.children[a];b.visible&&b.renderable&&(b.calculateBounds(),b._mask?(b._mask.calculateBounds(),this._bounds.addBoundsMask(b._bounds,b._mask._bounds)):b.filterArea?this._bounds.addBoundsArea(b._bounds,b.filterArea):this._bounds.addBounds(b._bounds))}this._lastBoundsID=this._boundsID},b.prototype._calculateBounds=function(){},b.prototype.renderWebGL=function(a){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(a);else{this._renderWebGL(a);for(var b=0,c=this.children.length;b<c;++b)this.children[b].renderWebGL(a)}},b.prototype.renderAdvancedWebGL=function(a){a.flush();var b=this._filters,c=this._mask;if(b){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var d=0;d<b.length;d++)b[d].enabled&&this._enabledFilters.push(b[d]);this._enabledFilters.length&&a.filterManager.pushFilter(this,this._enabledFilters)}c&&a.maskManager.pushMask(this,this._mask),this._renderWebGL(a);for(var e=0,f=this.children.length;e<f;e++)this.children[e].renderWebGL(a);a.flush(),c&&a.maskManager.popMask(this,this._mask),b&&this._enabledFilters&&this._enabledFilters.length&&a.filterManager.popFilter()},b.prototype._renderWebGL=function(a){},b.prototype._renderCanvas=function(a){},b.prototype.renderCanvas=function(a){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&a.maskManager.pushMask(this._mask),this._renderCanvas(a);for(var b=0,c=this.children.length;b<c;++b)this.children[b].renderCanvas(a);this._mask&&a.maskManager.popMask(a)}},b.prototype.destroy=function(b){a.prototype.destroy.call(this);var c="boolean"==typeof b?b:b&&b.children,d=this.removeChildren(0,this.children.length);if(c)for(var e=0;e<d.length;++e)d[e].destroy(b)},g(b,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(a){var b=this.getLocalBounds().width;this.scale.x=0!==b?a/b:1,this._width=a}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var b=this.getLocalBounds().height;this.scale.y=0!==b?a/b:1,this._height=a}}]),b}(j.default);c.default=k,k.prototype.containerUpdateTransform=k.prototype.updateTransform},{"../utils":128,"./DisplayObject":53}],53:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("eventemitter3"),j=d(i),k=a("../const"),l=a("../settings"),m=d(l),n=a("./TransformStatic"),o=d(n),p=a("./Transform"),q=d(p),r=a("./Bounds"),s=d(r),t=a("../math"),u=function(a){function b(){e(this,b);var c=f(this,a.call(this)),d=m.default.TRANSFORM_MODE===k.TRANSFORM_MODE.STATIC?o.default:q.default;return c.tempDisplayObjectParent=null,c.transform=new d,c.alpha=1,c.visible=!0,c.renderable=!0,c.parent=null,c.worldAlpha=1,c.filterArea=null,c._filters=null,c._enabledFilters=null,c._bounds=new s.default,c._boundsID=0,c._lastBoundsID=-1,c._boundsRect=null,c._localBoundsRect=null,c._mask=null,c._destroyed=!1,c}return g(b,a),b.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},b.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},b.prototype.getBounds=function(a,b){return a||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),b||(this._boundsRect||(this._boundsRect=new t.Rectangle),b=this._boundsRect),this._bounds.getRectangle(b)},b.prototype.getLocalBounds=function(a){var b=this.transform,c=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,a||(this._localBoundsRect||(this._localBoundsRect=new t.Rectangle),a=this._localBoundsRect);var d=this.getBounds(!1,a);return this.parent=c,this.transform=b,d},b.prototype.toGlobal=function(a,b){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(a,b)},b.prototype.toLocal=function(a,b,c,d){return b&&(a=b.toGlobal(a,c,d)),d||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(a,c)},b.prototype.renderWebGL=function(a){},b.prototype.renderCanvas=function(a){},b.prototype.setParent=function(a){if(!a||!a.addChild)throw new Error("setParent: Argument must be a Container");return a.addChild(this),a},b.prototype.setTransform=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,i=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=a,this.position.y=b,this.scale.x=c||1,this.scale.y=d||1,this.rotation=e,this.skew.x=f,this.skew.y=g,this.pivot.x=h,this.pivot.y=i,this},b.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,
this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},h(b,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new b),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(a){this.transform.position.x=a}},{key:"y",get:function(){return this.position.y},set:function(a){this.transform.position.y=a}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(a){this.transform.position.copy(a)}},{key:"scale",get:function(){return this.transform.scale},set:function(a){this.transform.scale.copy(a)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(a){this.transform.pivot.copy(a)}},{key:"skew",get:function(){return this.transform.skew},set:function(a){this.transform.skew.copy(a)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(a){this.transform.rotation=a}},{key:"worldVisible",get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}},{key:"mask",get:function(){return this._mask},set:function(a){this._mask&&(this._mask.renderable=!0),this._mask=a,this._mask&&(this._mask.renderable=!1)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(a){this._filters=a&&a.slice()}}]),b}(j.default);c.default=u,u.prototype.displayObjectUpdateTransform=u.prototype.updateTransform},{"../const":50,"../math":74,"../settings":105,"./Bounds":51,"./Transform":54,"./TransformStatic":56,eventemitter3:8}],54:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("../math"),i=a("./TransformBase"),j=function(a){return a&&a.__esModule?a:{default:a}}(i),k=function(a){function b(){d(this,b);var c=e(this,a.call(this));return c.position=new h.Point(0,0),c.scale=new h.Point(1,1),c.skew=new h.ObservablePoint(c.updateSkew,c,0,0),c.pivot=new h.Point(0,0),c._rotation=0,c._cx=1,c._sx=0,c._cy=0,c._sy=1,c}return f(b,a),b.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},b.prototype.updateLocalTransform=function(){var a=this.localTransform;a.a=this._cx*this.scale.x,a.b=this._sx*this.scale.x,a.c=this._cy*this.scale.y,a.d=this._sy*this.scale.y,a.tx=this.position.x-(this.pivot.x*a.a+this.pivot.y*a.c),a.ty=this.position.y-(this.pivot.x*a.b+this.pivot.y*a.d)},b.prototype.updateTransform=function(a){var b=this.localTransform;b.a=this._cx*this.scale.x,b.b=this._sx*this.scale.x,b.c=this._cy*this.scale.y,b.d=this._sy*this.scale.y,b.tx=this.position.x-(this.pivot.x*b.a+this.pivot.y*b.c),b.ty=this.position.y-(this.pivot.x*b.b+this.pivot.y*b.d);var c=a.worldTransform,d=this.worldTransform;d.a=b.a*c.a+b.b*c.c,d.b=b.a*c.b+b.b*c.d,d.c=b.c*c.a+b.d*c.c,d.d=b.c*c.b+b.d*c.d,d.tx=b.tx*c.a+b.ty*c.c+c.tx,d.ty=b.tx*c.b+b.ty*c.d+c.ty,this._worldID++},b.prototype.setFromMatrix=function(a){a.decompose(this)},g(b,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a,this.updateSkew()}}]),b}(j.default);c.default=k},{"../math":74,"./TransformBase":55}],55:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("../math"),f=function(){function a(){d(this,a),this.worldTransform=new e.Matrix,this.localTransform=new e.Matrix,this._worldID=0,this._parentID=0}return a.prototype.updateLocalTransform=function(){},a.prototype.updateTransform=function(a){var b=a.worldTransform,c=this.worldTransform,d=this.localTransform;c.a=d.a*b.a+d.b*b.c,c.b=d.a*b.b+d.b*b.d,c.c=d.c*b.a+d.d*b.c,c.d=d.c*b.b+d.d*b.d,c.tx=d.tx*b.a+d.ty*b.c+b.tx,c.ty=d.tx*b.b+d.ty*b.d+b.ty,this._worldID++},a}();c.default=f,f.prototype.updateWorldTransform=f.prototype.updateTransform,f.IDENTITY=new f},{"../math":74}],56:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("../math"),i=a("./TransformBase"),j=function(a){return a&&a.__esModule?a:{default:a}}(i),k=function(a){function b(){d(this,b);var c=e(this,a.call(this));return c.position=new h.ObservablePoint(c.onChange,c,0,0),c.scale=new h.ObservablePoint(c.onChange,c,1,1),c.pivot=new h.ObservablePoint(c.onChange,c,0,0),c.skew=new h.ObservablePoint(c.updateSkew,c,0,0),c._rotation=0,c._cx=1,c._sx=0,c._cy=0,c._sy=1,c._localID=0,c._currentLocalID=0,c}return f(b,a),b.prototype.onChange=function(){this._localID++},b.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},b.prototype.updateLocalTransform=function(){var a=this.localTransform;this._localID!==this._currentLocalID&&(a.a=this._cx*this.scale._x,a.b=this._sx*this.scale._x,a.c=this._cy*this.scale._y,a.d=this._sy*this.scale._y,a.tx=this.position._x-(this.pivot._x*a.a+this.pivot._y*a.c),a.ty=this.position._y-(this.pivot._x*a.b+this.pivot._y*a.d),this._currentLocalID=this._localID,this._parentID=-1)},b.prototype.updateTransform=function(a){var b=this.localTransform;if(this._localID!==this._currentLocalID&&(b.a=this._cx*this.scale._x,b.b=this._sx*this.scale._x,b.c=this._cy*this.scale._y,b.d=this._sy*this.scale._y,b.tx=this.position._x-(this.pivot._x*b.a+this.pivot._y*b.c),b.ty=this.position._y-(this.pivot._x*b.b+this.pivot._y*b.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==a._worldID){var c=a.worldTransform,d=this.worldTransform;d.a=b.a*c.a+b.b*c.c,d.b=b.a*c.b+b.b*c.d,d.c=b.c*c.a+b.d*c.c,d.d=b.c*c.b+b.d*c.d,d.tx=b.tx*c.a+b.ty*c.c+c.tx,d.ty=b.tx*c.b+b.ty*c.d+c.ty,this._parentID=a._worldID,this._worldID++}},b.prototype.setFromMatrix=function(a){a.decompose(this),this._localID++},g(b,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a,this.updateSkew()}}]),b}(j.default);c.default=k},{"../math":74,"./TransformBase":55}],57:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=a("../display/Container"),i=d(h),j=a("../textures/RenderTexture"),k=d(j),l=a("../textures/Texture"),m=d(l),n=a("./GraphicsData"),o=d(n),p=a("../sprites/Sprite"),q=d(p),r=a("../math"),s=a("../utils"),t=a("../const"),u=a("../display/Bounds"),v=d(u),w=a("./utils/bezierCurveTo"),x=d(w),y=a("../renderers/canvas/CanvasRenderer"),z=d(y),A=void 0,B=new r.Matrix,C=new r.Point,D=new Float32Array(4),E=new Float32Array(4),F=function(a){function b(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(this,b);var d=f(this,a.call(this));return d.fillAlpha=1,d.lineWidth=0,d.nativeLines=c,d.lineColor=0,d.graphicsData=[],d.tint=16777215,d._prevTint=16777215,d.blendMode=t.BLEND_MODES.NORMAL,d.currentPath=null,d._webGL={},d.isMask=!1,d.boundsPadding=0,d._localBounds=new v.default,d.dirty=0,d.fastRectDirty=-1,d.clearDirty=0,d.boundsDirty=-1,d.cachedSpriteDirty=!1,d._spriteRect=null,d._fastRect=!1,d}return g(b,a),b.prototype.clone=function(){var a=new b;a.renderable=this.renderable,a.fillAlpha=this.fillAlpha,a.lineWidth=this.lineWidth,a.lineColor=this.lineColor,a.tint=this.tint,a.blendMode=this.blendMode,a.isMask=this.isMask,a.boundsPadding=this.boundsPadding,a.dirty=0,a.cachedSpriteDirty=this.cachedSpriteDirty;for(var c=0;c<this.graphicsData.length;++c)a.graphicsData.push(this.graphicsData[c].clone());return a.currentPath=a.graphicsData[a.graphicsData.length-1],a.updateLocalBounds(),a},b.prototype.lineStyle=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=a,this.lineColor=b,this.lineAlpha=c,this.currentPath)if(this.currentPath.shape.points.length){var d=new r.Polygon(this.currentPath.shape.points.slice(-2));d.closed=!1,this.drawShape(d)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},b.prototype.moveTo=function(a,b){var c=new r.Polygon([a,b]);return c.closed=!1,this.drawShape(c),this},b.prototype.lineTo=function(a,b){return this.currentPath.shape.points.push(a,b),this.dirty++,this},b.prototype.quadraticCurveTo=function(a,b,c,d){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var e=this.currentPath.shape.points,f=0,g=0;0===e.length&&this.moveTo(0,0);for(var h=e[e.length-2],i=e[e.length-1],j=1;j<=20;++j){var k=j/20;f=h+(a-h)*k,g=i+(b-i)*k,e.push(f+(a+(c-a)*k-f)*k,g+(b+(d-b)*k-g)*k)}return this.dirty++,this},b.prototype.bezierCurveTo=function(a,b,c,d,e,f){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var g=this.currentPath.shape.points,h=g[g.length-2],i=g[g.length-1];return g.length-=2,(0,x.default)(h,i,a,b,c,d,e,f,g),this.dirty++,this},b.prototype.arcTo=function(a,b,c,d,e){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(a,b):this.moveTo(a,b);var f=this.currentPath.shape.points,g=f[f.length-2],h=f[f.length-1],i=h-b,j=g-a,k=d-b,l=c-a,m=Math.abs(i*l-j*k);if(m<1e-8||0===e)f[f.length-2]===a&&f[f.length-1]===b||f.push(a,b);else{var n=i*i+j*j,o=k*k+l*l,p=i*k+j*l,q=e*Math.sqrt(n)/m,r=e*Math.sqrt(o)/m,s=q*p/n,t=r*p/o,u=q*l+r*j,v=q*k+r*i,w=j*(r+s),x=i*(r+s),y=l*(q+t),z=k*(q+t),A=Math.atan2(x-v,w-u),B=Math.atan2(z-v,y-u);this.arc(u+a,v+b,e,A,B,j*k>l*i)}return this.dirty++,this},b.prototype.arc=function(a,b,c,d,e){var f=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(d===e)return this;!f&&e<=d?e+=2*Math.PI:f&&d<=e&&(d+=2*Math.PI);var g=e-d,h=40*Math.ceil(Math.abs(g)/(2*Math.PI));if(0===g)return this;var i=a+Math.cos(d)*c,j=b+Math.sin(d)*c,k=this.currentPath?this.currentPath.shape.points:null;k?k[k.length-2]===i&&k[k.length-1]===j||k.push(i,j):(this.moveTo(i,j),k=this.currentPath.shape.points);for(var l=g/(2*h),m=2*l,n=Math.cos(l),o=Math.sin(l),p=h-1,q=p%1/p,r=0;r<=p;++r){var s=r+q*r,t=l+d+m*s,u=Math.cos(t),v=-Math.sin(t);k.push((n*u+o*v)*c+a,(n*-v+o*u)*c+b)}return this.dirty++,this},b.prototype.beginFill=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=a,this.fillAlpha=b,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},b.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},b.prototype.drawRect=function(a,b,c,d){return this.drawShape(new r.Rectangle(a,b,c,d)),this},b.prototype.drawRoundedRect=function(a,b,c,d,e){return this.drawShape(new r.RoundedRectangle(a,b,c,d,e)),this},b.prototype.drawCircle=function(a,b,c){return this.drawShape(new r.Circle(a,b,c)),this},b.prototype.drawEllipse=function(a,b,c,d){return this.drawShape(new r.Ellipse(a,b,c,d)),this},b.prototype.drawPolygon=function(a){var b=a,c=!0;if(b instanceof r.Polygon&&(c=b.closed,b=b.points),!Array.isArray(b)){b=new Array(arguments.length);for(var d=0;d<b.length;++d)b[d]=arguments[d]}var e=new r.Polygon(b);return e.closed=c,this.drawShape(e),this},b.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},b.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===t.SHAPES.RECT&&!this.graphicsData[0].lineWidth},b.prototype._renderWebGL=function(a){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(a):(a.setObjectRenderer(a.plugins.graphics),a.plugins.graphics.render(this))},b.prototype._renderSpriteRect=function(a){var b=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new q.default(new m.default(m.default.WHITE)));var c=this._spriteRect;if(16777215===this.tint)c.tint=this.graphicsData[0].fillColor;else{var d=D,e=E;(0,s.hex2rgb)(this.graphicsData[0].fillColor,d),(0,s.hex2rgb)(this.tint,e),d[0]*=e[0],d[1]*=e[1],d[2]*=e[2],c.tint=(0,s.rgb2hex)(d)}c.alpha=this.graphicsData[0].fillAlpha,c.worldAlpha=this.worldAlpha*c.alpha,c.blendMode=this.blendMode,c._texture._frame.width=b.width,c._texture._frame.height=b.height,c.transform.worldTransform=this.transform.worldTransform,c.anchor.set(-b.x/b.width,-b.y/b.height),c._onAnchorUpdate(),c._renderWebGL(a)},b.prototype._renderCanvas=function(a){!0!==this.isMask&&a.plugins.graphics.render(this)},b.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var a=this._localBounds;this._bounds.addFrame(this.transform,a.minX,a.minY,a.maxX,a.maxY)},b.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,C);for(var b=this.graphicsData,c=0;c<b.length;++c){var d=b[c];if(d.fill&&(d.shape&&d.shape.contains(C.x,C.y))){if(d.holes)for(var e=0;e<d.holes.length;e++){var f=d.holes[e];if(f.contains(C.x,C.y))return!1}return!0}}return!1},b.prototype.updateLocalBounds=function(){var a=1/0,b=-1/0,c=1/0,d=-1/0;if(this.graphicsData.length)for(var e=0,f=0,g=0,h=0,i=0,j=0;j<this.graphicsData.length;j++){var k=this.graphicsData[j],l=k.type,m=k.lineWidth;if(e=k.shape,l===t.SHAPES.RECT||l===t.SHAPES.RREC)f=e.x-m/2,g=e.y-m/2,h=e.width+m,i=e.height+m,a=f<a?f:a,b=f+h>b?f+h:b,c=g<c?g:c,d=g+i>d?g+i:d;else if(l===t.SHAPES.CIRC)f=e.x,g=e.y,h=e.radius+m/2,i=e.radius+m/2,a=f-h<a?f-h:a,b=f+h>b?f+h:b,c=g-i<c?g-i:c,d=g+i>d?g+i:d;else if(l===t.SHAPES.ELIP)f=e.x,g=e.y,h=e.width+m/2,i=e.height+m/2,a=f-h<a?f-h:a,b=f+h>b?f+h:b,c=g-i<c?g-i:c,d=g+i>d?g+i:d;else for(var n=e.points,o=0,p=0,q=0,r=0,s=0,u=0,v=0,w=0,x=0;x+2<n.length;x+=2)f=n[x],g=n[x+1],o=n[x+2],p=n[x+3],q=Math.abs(o-f),r=Math.abs(p-g),i=m,(h=Math.sqrt(q*q+r*r))<1e-9||(s=(i/h*r+q)/2,u=(i/h*q+r)/2,v=(o+f)/2,w=(p+g)/2,a=v-s<a?v-s:a,b=v+s>b?v+s:b,c=w-u<c?w-u:c,d=w+u>d?w+u:d)}else a=0,b=0,c=0,d=0;var y=this.boundsPadding;this._localBounds.minX=a-y,this._localBounds.maxX=b+y,this._localBounds.minY=c-y,this._localBounds.maxY=d+y},b.prototype.drawShape=function(a){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var b=new o.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,a);return this.graphicsData.push(b),b.type===t.SHAPES.POLY&&(b.shape.closed=b.shape.closed||this.filling,this.currentPath=b),this.dirty++,b},b.prototype.generateCanvasTexture=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=this.getLocalBounds(),d=k.default.create(c.width,c.height,a,b);A||(A=new z.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(B),B.invert(),B.tx-=c.x,B.ty-=c.y,A.render(this,d,!0,B);var e=m.default.fromCanvas(d.baseTexture._canvasRenderTarget.canvas,a,"graphics");return e.baseTexture.resolution=b,e.baseTexture.update(),e},b.prototype.closePath=function(){var a=this.currentPath;return a&&a.shape&&a.shape.close(),this},b.prototype.addHole=function(){var a=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(a.shape),this.currentPath=null,this},b.prototype.destroy=function(b){a.prototype.destroy.call(this,b);for(var c=0;c<this.graphicsData.length;++c)this.graphicsData[c].destroy();for(var d in this._webgl)for(var e=0;e<this._webgl[d].data.length;++e)this._webgl[d].data[e].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},b}(i.default);c.default=F,F._SPRITE_TEXTURE=null},{"../const":50,"../display/Bounds":51,"../display/Container":52,"../math":74,"../renderers/canvas/CanvasRenderer":81,"../sprites/Sprite":106,"../textures/RenderTexture":117,"../textures/Texture":119,"../utils":128,"./GraphicsData":58,"./utils/bezierCurveTo":60}],58:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(b,c,e,f,g,h,i,j){d(this,a),this.lineWidth=b,this.nativeLines=i,this.lineColor=c,this.lineAlpha=e,this._lineTint=c,this.fillColor=f,this.fillAlpha=g,this._fillTint=f,this.fill=h,this.holes=[],this.shape=j,this.type=j.type}return a.prototype.clone=function(){return new a(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},a.prototype.addHole=function(a){this.holes.push(a)},a.prototype.destroy=function(){this.shape=null,this.holes=null},a}();c.default=e},{}],59:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("../../renderers/canvas/CanvasRenderer"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=a("../../const"),h=function(){function a(b){d(this,a),this.renderer=b}return a.prototype.render=function(a){var b=this.renderer,c=b.context,d=a.worldAlpha,e=a.transform.worldTransform,f=b.resolution;this._prevTint!==this.tint&&(this.dirty=!0),c.setTransform(e.a*f,e.b*f,e.c*f,e.d*f,e.tx*f,e.ty*f),a.dirty&&(this.updateGraphicsTint(a),a.dirty=!1),b.setBlendMode(a.blendMode);for(var h=0;h<a.graphicsData.length;h++){var i=a.graphicsData[h],j=i.shape,k=i._fillTint,l=i._lineTint;if(c.lineWidth=i.lineWidth,i.type===g.SHAPES.POLY){c.beginPath(),this.renderPolygon(j.points,j.closed,c);for(var m=0;m<i.holes.length;m++)this.renderPolygon(i.holes[m].points,!0,c);i.fill&&(c.globalAlpha=i.fillAlpha*d,c.fillStyle="#"+("00000"+(0|k).toString(16)).substr(-6),c.fill()),i.lineWidth&&(c.globalAlpha=i.lineAlpha*d,c.strokeStyle="#"+("00000"+(0|l).toString(16)).substr(-6),c.stroke())}else if(i.type===g.SHAPES.RECT)(i.fillColor||0===i.fillColor)&&(c.globalAlpha=i.fillAlpha*d,c.fillStyle="#"+("00000"+(0|k).toString(16)).substr(-6),c.fillRect(j.x,j.y,j.width,j.height)),i.lineWidth&&(c.globalAlpha=i.lineAlpha*d,c.strokeStyle="#"+("00000"+(0|l).toString(16)).substr(-6),c.strokeRect(j.x,j.y,j.width,j.height));else if(i.type===g.SHAPES.CIRC)c.beginPath(),c.arc(j.x,j.y,j.radius,0,2*Math.PI),c.closePath(),i.fill&&(c.globalAlpha=i.fillAlpha*d,c.fillStyle="#"+("00000"+(0|k).toString(16)).substr(-6),c.fill()),i.lineWidth&&(c.globalAlpha=i.lineAlpha*d,c.strokeStyle="#"+("00000"+(0|l).toString(16)).substr(-6),c.stroke());else if(i.type===g.SHAPES.ELIP){var n=2*j.width,o=2*j.height,p=j.x-n/2,q=j.y-o/2;c.beginPath();var r=n/2*.5522848,s=o/2*.5522848,t=p+n,u=q+o,v=p+n/2,w=q+o/2;c.moveTo(p,w),c.bezierCurveTo(p,w-s,v-r,q,v,q),c.bezierCurveTo(v+r,q,t,w-s,t,w),c.bezierCurveTo(t,w+s,v+r,u,v,u),c.bezierCurveTo(v-r,u,p,w+s,p,w),c.closePath(),i.fill&&(c.globalAlpha=i.fillAlpha*d,c.fillStyle="#"+("00000"+(0|k).toString(16)).substr(-6),c.fill()),i.lineWidth&&(c.globalAlpha=i.lineAlpha*d,c.strokeStyle="#"+("00000"+(0|l).toString(16)).substr(-6),c.stroke())}else if(i.type===g.SHAPES.RREC){var x=j.x,y=j.y,z=j.width,A=j.height,B=j.radius,C=Math.min(z,A)/2|0;B=B>C?C:B,c.beginPath(),c.moveTo(x,y+B),c.lineTo(x,y+A-B),c.quadraticCurveTo(x,y+A,x+B,y+A),c.lineTo(x+z-B,y+A),c.quadraticCurveTo(x+z,y+A,x+z,y+A-B),c.lineTo(x+z,y+B),c.quadraticCurveTo(x+z,y,x+z-B,y),c.lineTo(x+B,y),c.quadraticCurveTo(x,y,x,y+B),c.closePath(),(i.fillColor||0===i.fillColor)&&(c.globalAlpha=i.fillAlpha*d,c.fillStyle="#"+("00000"+(0|k).toString(16)).substr(-6),c.fill()),i.lineWidth&&(c.globalAlpha=i.lineAlpha*d,c.strokeStyle="#"+("00000"+(0|l).toString(16)).substr(-6),c.stroke())}}},a.prototype.updateGraphicsTint=function(a){a._prevTint=a.tint;for(var b=(a.tint>>16&255)/255,c=(a.tint>>8&255)/255,d=(255&a.tint)/255,e=0;e<a.graphicsData.length;++e){var f=a.graphicsData[e],g=0|f.fillColor,h=0|f.lineColor;f._fillTint=((g>>16&255)/255*b*255<<16)+((g>>8&255)/255*c*255<<8)+(255&g)/255*d*255,f._lineTint=((h>>16&255)/255*b*255<<16)+((h>>8&255)/255*c*255<<8)+(255&h)/255*d*255}},a.prototype.renderPolygon=function(a,b,c){c.moveTo(a[0],a[1]);for(var d=1;d<a.length/2;++d)c.lineTo(a[2*d],a[2*d+1]);b&&c.closePath()},a.prototype.destroy=function(){this.renderer=null},a}();c.default=h,f.default.registerPlugin("graphics",h)},{"../../const":50,"../../renderers/canvas/CanvasRenderer":81}],60:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g,h){var i=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],j=0,k=0,l=0,m=0,n=0;i.push(a,b);for(var o=1,p=0;o<=20;++o)p=o/20,j=1-p,k=j*j,l=k*j,m=p*p,n=m*p,i.push(l*a+3*k*p*c+3*j*m*e+n*g,l*b+3*k*p*d+3*j*m*f+n*h);return i}c.__esModule=!0,c.default=d},{}],61:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=a("../../utils"),i=a("../../const"),j=a("../../renderers/webgl/utils/ObjectRenderer"),k=d(j),l=a("../../renderers/webgl/WebGLRenderer"),m=d(l),n=a("./WebGLGraphicsData"),o=d(n),p=a("./shaders/PrimitiveShader"),q=d(p),r=a("./utils/buildPoly"),s=d(r),t=a("./utils/buildRectangle"),u=d(t),v=a("./utils/buildRoundedRectangle"),w=d(v),x=a("./utils/buildCircle"),y=d(x),z=function(a){function b(c){e(this,b);var d=f(this,a.call(this,c));return d.graphicsDataPool=[],d.primitiveShader=null,d.gl=c.gl,d.CONTEXT_UID=0,d}return g(b,a),b.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new q.default(this.gl)},b.prototype.destroy=function(){k.default.prototype.destroy.call(this);for(var a=0;a<this.graphicsDataPool.length;++a)this.graphicsDataPool[a].destroy();this.graphicsDataPool=null},b.prototype.render=function(a){var b=this.renderer,c=b.gl,d=void 0,e=a._webGL[this.CONTEXT_UID];e&&a.dirty===e.dirty||(this.updateGraphics(a),e=a._webGL[this.CONTEXT_UID]);var f=this.primitiveShader;b.bindShader(f),b.state.setBlendMode(a.blendMode);for(var g=0,i=e.data.length;g<i;g++){d=e.data[g];var j=d.shader;b.bindShader(j),j.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0),j.uniforms.tint=(0,h.hex2rgb)(a.tint),j.uniforms.alpha=a.worldAlpha,b.bindVao(d.vao),d.nativeLines?c.drawArrays(c.LINES,0,d.points.length/6):d.vao.draw(c.TRIANGLE_STRIP,d.indices.length)}},b.prototype.updateGraphics=function(a){var b=this.renderer.gl,c=a._webGL[this.CONTEXT_UID];if(c||(c=a._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:b,clearDirty:-1,dirty:-1}),c.dirty=a.dirty,a.clearDirty!==c.clearDirty){c.clearDirty=a.clearDirty;for(var d=0;d<c.data.length;d++)this.graphicsDataPool.push(c.data[d]);c.data.length=0,c.lastIndex=0}for(var e=void 0,f=void 0,g=c.lastIndex;g<a.graphicsData.length;g++){var h=a.graphicsData[g];e=this.getWebGLData(c,0),h.nativeLines&&h.lineWidth&&(f=this.getWebGLData(c,0,!0),c.lastIndex++),h.type===i.SHAPES.POLY&&(0,s.default)(h,e,f),h.type===i.SHAPES.RECT?(0,u.default)(h,e,f):h.type===i.SHAPES.CIRC||h.type===i.SHAPES.ELIP?(0,y.default)(h,e,f):h.type===i.SHAPES.RREC&&(0,w.default)(h,e,f),c.lastIndex++}this.renderer.bindVao(null);for(var j=0;j<c.data.length;j++)e=c.data[j],e.dirty&&e.upload()},b.prototype.getWebGLData=function(a,b,c){var d=a.data[a.data.length-1];return(!d||d.nativeLines!==c||d.points.length>32e4)&&(d=this.graphicsDataPool.pop()||new o.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),d.nativeLines=c,d.reset(b),a.data.push(d)),d.dirty=!0,d},b}(k.default);c.default=z,m.default.registerPlugin("graphics",z)},{"../../const":50,"../../renderers/webgl/WebGLRenderer":88,"../../renderers/webgl/utils/ObjectRenderer":98,"../../utils":128,"./WebGLGraphicsData":62,"./shaders/PrimitiveShader":63,"./utils/buildCircle":64,"./utils/buildPoly":66,"./utils/buildRectangle":67,"./utils/buildRoundedRectangle":68}],62:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("pixi-gl-core"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=function(){function a(b,c,e){d(this,a),this.gl=b,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=f.default.GLBuffer.createVertexBuffer(b),this.indexBuffer=f.default.GLBuffer.createIndexBuffer(b),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=c,this.vao=new f.default.VertexArrayObject(b,e).addIndex(this.indexBuffer).addAttribute(this.buffer,c.attributes.aVertexPosition,b.FLOAT,!1,24,0).addAttribute(this.buffer,c.attributes.aColor,b.FLOAT,!1,24,8)}return a.prototype.reset=function(){this.points.length=0,this.indices.length=0},a.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},a.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},a}();c.default=g},{"pixi-gl-core":33}],63:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=a("../../../Shader"),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=function(a){function b(c){return d(this,b),e(this,a.call(this,c,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return f(b,a),b}(h.default);c.default=i},{"../../../Shader":48}],64:[function(a,b,c){"use strict";function d(a,b,c){var d=a.shape,e=d.x,i=d.y,j=void 0,k=void 0;if(a.type===g.SHAPES.CIRC?(j=d.radius,k=d.radius):(j=d.width,k=d.height),0!==j&&0!==k){var l=Math.floor(30*Math.sqrt(d.radius))||Math.floor(15*Math.sqrt(d.width+d.height)),m=2*Math.PI/l;if(a.fill){var n=(0,h.hex2rgb)(a.fillColor),o=a.fillAlpha,p=n[0]*o,q=n[1]*o,r=n[2]*o,s=b.points,t=b.indices,u=s.length/6;t.push(u);for(var v=0;v<l+1;v++)s.push(e,i,p,q,r,o),s.push(e+Math.sin(m*v)*j,i+Math.cos(m*v)*k,p,q,r,o),t.push(u++,u++);t.push(u-1)}if(a.lineWidth){var w=a.points;a.points=[];for(var x=0;x<l+1;x++)a.points.push(e+Math.sin(m*x)*j,i+Math.cos(m*x)*k);(0,f.default)(a,b,c),a.points=w}}}c.__esModule=!0,c.default=d;var e=a("./buildLine"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=a("../../../const"),h=a("../../../utils")},{"../../../const":50,"../../../utils":128,"./buildLine":65}],65:[function(a,b,c){"use strict";function d(a,b){var c=a.points;if(0!==c.length){var d=new f.Point(c[0],c[1]),e=new f.Point(c[c.length-2],c[c.length-1]);if(d.x===e.x&&d.y===e.y){c=c.slice(),c.pop(),c.pop(),e=new f.Point(c[c.length-2],c[c.length-1]);var h=e.x+.5*(d.x-e.x),i=e.y+.5*(d.y-e.y);c.unshift(h,i),c.push(h,i)}var j=b.points,k=b.indices,l=c.length/2,m=c.length,n=j.length/6,o=a.lineWidth/2,p=(0,g.hex2rgb)(a.lineColor),q=a.lineAlpha,r=p[0]*q,s=p[1]*q,t=p[2]*q,u=c[0],v=c[1],w=c[2],x=c[3],y=0,z=0,A=-(v-x),B=u-w,C=0,D=0,E=0,F=0,G=Math.sqrt(A*A+B*B);A/=G,B/=G,A*=o,B*=o,j.push(u-A,v-B,r,s,t,q),j.push(u+A,v+B,r,s,t,q);for(var H=1;H<l-1;++H){u=c[2*(H-1)],v=c[2*(H-1)+1],w=c[2*H],x=c[2*H+1],y=c[2*(H+1)],z=c[2*(H+1)+1],A=-(v-x),B=u-w,G=Math.sqrt(A*A+B*B),A/=G,B/=G,A*=o,B*=o,C=-(x-z),D=w-y,G=Math.sqrt(C*C+D*D),C/=G,D/=G,C*=o,D*=o;var I=-B+v-(-B+x),J=-A+w-(-A+u),K=(-A+u)*(-B+x)-(-A+w)*(-B+v),L=-D+z-(-D+x),M=-C+w-(-C+y),N=(-C+y)*(-D+x)-(-C+w)*(-D+z),O=I*M-L*J;if(Math.abs(O)<.1)O+=10.1,j.push(w-A,x-B,r,s,t,q),j.push(w+A,x+B,r,s,t,q);else{var P=(J*N-M*K)/O,Q=(L*K-I*N)/O;(P-w)*(P-w)+(Q-x)*(Q-x)>196*o*o?(E=A-C,F=B-D,G=Math.sqrt(E*E+F*F),E/=G,F/=G,E*=o,F*=o,j.push(w-E,x-F),j.push(r,s,t,q),j.push(w+E,x+F),j.push(r,s,t,q),j.push(w-E,x-F),j.push(r,s,t,q),m++):(j.push(P,Q),j.push(r,s,t,q),j.push(w-(P-w),x-(Q-x)),j.push(r,s,t,q))}}u=c[2*(l-2)],v=c[2*(l-2)+1],w=c[2*(l-1)],x=c[2*(l-1)+1],A=-(v-x),B=u-w,G=Math.sqrt(A*A+B*B),A/=G,B/=G,A*=o,B*=o,j.push(w-A,x-B),j.push(r,s,t,q),j.push(w+A,x+B),j.push(r,s,t,q),k.push(n);for(var R=0;R<m;++R)k.push(n++);k.push(n-1)}}function e(a,b){var c=0,d=a.points;if(0!==d.length){var e=b.points,f=d.length/2,h=(0,
g.hex2rgb)(a.lineColor),i=a.lineAlpha,j=h[0]*i,k=h[1]*i,l=h[2]*i;for(c=1;c<f;c++){var m=d[2*(c-1)],n=d[2*(c-1)+1],o=d[2*c],p=d[2*c+1];e.push(m,n),e.push(j,k,l,i),e.push(o,p),e.push(j,k,l,i)}}}c.__esModule=!0,c.default=function(a,b,c){a.nativeLines?e(a,c):d(a,b)};var f=a("../../../math"),g=a("../../../utils")},{"../../../math":74,"../../../utils":128}],66:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){a.points=a.shape.points.slice();var d=a.points;if(a.fill&&d.length>=6){for(var e=[],f=a.holes,i=0;i<f.length;i++){var k=f[i];e.push(d.length/2),d=d.concat(k.points)}var l=b.points,m=b.indices,n=d.length/2,o=(0,h.hex2rgb)(a.fillColor),p=a.fillAlpha,q=o[0]*p,r=o[1]*p,s=o[2]*p,t=(0,j.default)(d,e,2);if(!t)return;for(var u=l.length/6,v=0;v<t.length;v+=3)m.push(t[v]+u),m.push(t[v]+u),m.push(t[v+1]+u),m.push(t[v+2]+u),m.push(t[v+2]+u);for(var w=0;w<n;w++)l.push(d[2*w],d[2*w+1],q,r,s,p)}a.lineWidth>0&&(0,g.default)(a,b,c)}c.__esModule=!0,c.default=e;var f=a("./buildLine"),g=d(f),h=a("../../../utils"),i=a("earcut"),j=d(i)},{"../../../utils":128,"./buildLine":65,earcut:7}],67:[function(a,b,c){"use strict";function d(a,b,c){var d=a.shape,e=d.x,h=d.y,i=d.width,j=d.height;if(a.fill){var k=(0,g.hex2rgb)(a.fillColor),l=a.fillAlpha,m=k[0]*l,n=k[1]*l,o=k[2]*l,p=b.points,q=b.indices,r=p.length/6;p.push(e,h),p.push(m,n,o,l),p.push(e+i,h),p.push(m,n,o,l),p.push(e,h+j),p.push(m,n,o,l),p.push(e+i,h+j),p.push(m,n,o,l),q.push(r,r,r+1,r+2,r+3,r+3)}if(a.lineWidth){var s=a.points;a.points=[e,h,e+i,h,e+i,h+j,e,h+j,e,h],(0,f.default)(a,b,c),a.points=s}}c.__esModule=!0,c.default=d;var e=a("./buildLine"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=a("../../../utils")},{"../../../utils":128,"./buildLine":65}],68:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){var d=a.shape,e=d.x,f=d.y,h=d.width,j=d.height,m=d.radius,n=[];if(n.push(e,f+m),g(e,f+j-m,e,f+j,e+m,f+j,n),g(e+h-m,f+j,e+h,f+j,e+h,f+j-m,n),g(e+h,f+m,e+h,f,e+h-m,f,n),g(e+m,f,e,f,e,f+m+1e-10,n),a.fill){for(var o=(0,l.hex2rgb)(a.fillColor),p=a.fillAlpha,q=o[0]*p,r=o[1]*p,s=o[2]*p,t=b.points,u=b.indices,v=t.length/6,w=(0,i.default)(n,null,2),x=0,y=w.length;x<y;x+=3)u.push(w[x]+v),u.push(w[x]+v),u.push(w[x+1]+v),u.push(w[x+2]+v),u.push(w[x+2]+v);for(var z=0,A=n.length;z<A;z++)t.push(n[z],n[++z],q,r,s,p)}if(a.lineWidth){var B=a.points;a.points=n,(0,k.default)(a,b,c),a.points=B}}function f(a,b,c){return a+(b-a)*c}function g(a,b,c,d,e,g){for(var h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],i=h,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0;p<=20;++p)q=p/20,j=f(a,c,q),k=f(b,d,q),l=f(c,e,q),m=f(d,g,q),n=f(j,l,q),o=f(k,m,q),i.push(n,o);return i}c.__esModule=!0,c.default=e;var h=a("earcut"),i=d(h),j=a("./buildLine"),k=d(j),l=a("../../../utils")},{"../../../utils":128,"./buildLine":65,earcut:7}],69:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0,c.autoDetectRenderer=c.Application=c.Filter=c.SpriteMaskFilter=c.Quad=c.RenderTarget=c.ObjectRenderer=c.WebGLManager=c.Shader=c.CanvasRenderTarget=c.TextureUvs=c.VideoBaseTexture=c.BaseRenderTexture=c.RenderTexture=c.BaseTexture=c.Texture=c.Spritesheet=c.CanvasGraphicsRenderer=c.GraphicsRenderer=c.GraphicsData=c.Graphics=c.TextMetrics=c.TextStyle=c.Text=c.SpriteRenderer=c.CanvasTinter=c.CanvasSpriteRenderer=c.Sprite=c.TransformBase=c.TransformStatic=c.Transform=c.Container=c.DisplayObject=c.Bounds=c.glCore=c.WebGLRenderer=c.CanvasRenderer=c.ticker=c.utils=c.settings=void 0;var f=a("./const");Object.keys(f).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(c,a,{enumerable:!0,get:function(){return f[a]}})});var g=a("./math");Object.keys(g).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(c,a,{enumerable:!0,get:function(){return g[a]}})});var h=a("pixi-gl-core");Object.defineProperty(c,"glCore",{enumerable:!0,get:function(){return e(h).default}});var i=a("./display/Bounds");Object.defineProperty(c,"Bounds",{enumerable:!0,get:function(){return e(i).default}});var j=a("./display/DisplayObject");Object.defineProperty(c,"DisplayObject",{enumerable:!0,get:function(){return e(j).default}});var k=a("./display/Container");Object.defineProperty(c,"Container",{enumerable:!0,get:function(){return e(k).default}});var l=a("./display/Transform");Object.defineProperty(c,"Transform",{enumerable:!0,get:function(){return e(l).default}});var m=a("./display/TransformStatic");Object.defineProperty(c,"TransformStatic",{enumerable:!0,get:function(){return e(m).default}});var n=a("./display/TransformBase");Object.defineProperty(c,"TransformBase",{enumerable:!0,get:function(){return e(n).default}});var o=a("./sprites/Sprite");Object.defineProperty(c,"Sprite",{enumerable:!0,get:function(){return e(o).default}});var p=a("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(c,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return e(p).default}});var q=a("./sprites/canvas/CanvasTinter");Object.defineProperty(c,"CanvasTinter",{enumerable:!0,get:function(){return e(q).default}});var r=a("./sprites/webgl/SpriteRenderer");Object.defineProperty(c,"SpriteRenderer",{enumerable:!0,get:function(){return e(r).default}});var s=a("./text/Text");Object.defineProperty(c,"Text",{enumerable:!0,get:function(){return e(s).default}});var t=a("./text/TextStyle");Object.defineProperty(c,"TextStyle",{enumerable:!0,get:function(){return e(t).default}});var u=a("./text/TextMetrics");Object.defineProperty(c,"TextMetrics",{enumerable:!0,get:function(){return e(u).default}});var v=a("./graphics/Graphics");Object.defineProperty(c,"Graphics",{enumerable:!0,get:function(){return e(v).default}});var w=a("./graphics/GraphicsData");Object.defineProperty(c,"GraphicsData",{enumerable:!0,get:function(){return e(w).default}});var x=a("./graphics/webgl/GraphicsRenderer");Object.defineProperty(c,"GraphicsRenderer",{enumerable:!0,get:function(){return e(x).default}});var y=a("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(c,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return e(y).default}});var z=a("./textures/Spritesheet");Object.defineProperty(c,"Spritesheet",{enumerable:!0,get:function(){return e(z).default}});var A=a("./textures/Texture");Object.defineProperty(c,"Texture",{enumerable:!0,get:function(){return e(A).default}});var B=a("./textures/BaseTexture");Object.defineProperty(c,"BaseTexture",{enumerable:!0,get:function(){return e(B).default}});var C=a("./textures/RenderTexture");Object.defineProperty(c,"RenderTexture",{enumerable:!0,get:function(){return e(C).default}});var D=a("./textures/BaseRenderTexture");Object.defineProperty(c,"BaseRenderTexture",{enumerable:!0,get:function(){return e(D).default}});var E=a("./textures/VideoBaseTexture");Object.defineProperty(c,"VideoBaseTexture",{enumerable:!0,get:function(){return e(E).default}});var F=a("./textures/TextureUvs");Object.defineProperty(c,"TextureUvs",{enumerable:!0,get:function(){return e(F).default}});var G=a("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(c,"CanvasRenderTarget",{enumerable:!0,get:function(){return e(G).default}});var H=a("./Shader");Object.defineProperty(c,"Shader",{enumerable:!0,get:function(){return e(H).default}});var I=a("./renderers/webgl/managers/WebGLManager");Object.defineProperty(c,"WebGLManager",{enumerable:!0,get:function(){return e(I).default}});var J=a("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(c,"ObjectRenderer",{enumerable:!0,get:function(){return e(J).default}});var K=a("./renderers/webgl/utils/RenderTarget");Object.defineProperty(c,"RenderTarget",{enumerable:!0,get:function(){return e(K).default}});var L=a("./renderers/webgl/utils/Quad");Object.defineProperty(c,"Quad",{enumerable:!0,get:function(){return e(L).default}});var M=a("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(c,"SpriteMaskFilter",{enumerable:!0,get:function(){return e(M).default}});var N=a("./renderers/webgl/filters/Filter");Object.defineProperty(c,"Filter",{enumerable:!0,get:function(){return e(N).default}});var O=a("./Application");Object.defineProperty(c,"Application",{enumerable:!0,get:function(){return e(O).default}});var P=a("./autoDetectRenderer");Object.defineProperty(c,"autoDetectRenderer",{enumerable:!0,get:function(){return P.autoDetectRenderer}});var Q=a("./utils"),R=d(Q),S=a("./ticker"),T=d(S),U=a("./settings"),V=e(U),W=a("./renderers/canvas/CanvasRenderer"),X=e(W),Y=a("./renderers/webgl/WebGLRenderer"),Z=e(Y);c.settings=V.default,c.utils=R,c.ticker=T,c.CanvasRenderer=X.default,c.WebGLRenderer=Z.default},{"./Application":47,"./Shader":48,"./autoDetectRenderer":49,"./const":50,"./display/Bounds":51,"./display/Container":52,"./display/DisplayObject":53,"./display/Transform":54,"./display/TransformBase":55,"./display/TransformStatic":56,"./graphics/Graphics":57,"./graphics/GraphicsData":58,"./graphics/canvas/CanvasGraphicsRenderer":59,"./graphics/webgl/GraphicsRenderer":61,"./math":74,"./renderers/canvas/CanvasRenderer":81,"./renderers/canvas/utils/CanvasRenderTarget":83,"./renderers/webgl/WebGLRenderer":88,"./renderers/webgl/filters/Filter":90,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":93,"./renderers/webgl/managers/WebGLManager":97,"./renderers/webgl/utils/ObjectRenderer":98,"./renderers/webgl/utils/Quad":99,"./renderers/webgl/utils/RenderTarget":100,"./settings":105,"./sprites/Sprite":106,"./sprites/canvas/CanvasSpriteRenderer":107,"./sprites/canvas/CanvasTinter":108,"./sprites/webgl/SpriteRenderer":110,"./text/Text":112,"./text/TextMetrics":113,"./text/TextStyle":114,"./textures/BaseRenderTexture":115,"./textures/BaseTexture":116,"./textures/RenderTexture":117,"./textures/Spritesheet":118,"./textures/Texture":119,"./textures/TextureUvs":120,"./textures/VideoBaseTexture":121,"./ticker":124,"./utils":128,"pixi-gl-core":33}],70:[function(a,b,c){"use strict";function d(a){return a<0?-1:a>0?1:0}c.__esModule=!0;var e=a("./Matrix"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],h=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],i=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],j=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],k=[],l=[];!function(){for(var a=0;a<16;a++){var b=[];l.push(b);for(var c=0;c<16;c++)for(var e=d(g[a]*g[c]+i[a]*h[c]),m=d(h[a]*g[c]+j[a]*h[c]),n=d(g[a]*i[c]+i[a]*j[c]),o=d(h[a]*i[c]+j[a]*j[c]),p=0;p<16;p++)if(g[p]===e&&h[p]===m&&i[p]===n&&j[p]===o){b.push(p);break}}for(var q=0;q<16;q++){var r=new f.default;r.set(g[q],h[q],i[q],j[q],0,0),k.push(r)}}();var m={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(a){return g[a]},uY:function(a){return h[a]},vX:function(a){return i[a]},vY:function(a){return j[a]},inv:function(a){return 8&a?15&a:7&-a},add:function(a,b){return l[a][b]},sub:function(a,b){return l[a][m.inv(b)]},rotate180:function(a){return 4^a},isSwapWidthHeight:function(a){return 2==(3&a)},byDirection:function(a,b){return 2*Math.abs(a)<=Math.abs(b)?b>=0?m.S:m.N:2*Math.abs(b)<=Math.abs(a)?a>0?m.E:m.W:b>0?a>0?m.SE:m.SW:a>0?m.NE:m.NW},matrixAppendRotationInv:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,e=k[m.inv(b)];e.tx=c,e.ty=d,a.append(e)}};c.default=m},{"./Matrix":71}],71:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./Point"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;d(this,a),this.a=b,this.b=c,this.c=e,this.d=f,this.tx=g,this.ty=h,this.array=null}return a.prototype.fromArray=function(a){this.a=a[0],this.b=a[1],this.c=a[3],this.d=a[4],this.tx=a[2],this.ty=a[5]},a.prototype.set=function(a,b,c,d,e,f){return this.a=a,this.b=b,this.c=c,this.d=d,this.tx=e,this.ty=f,this},a.prototype.toArray=function(a,b){this.array||(this.array=new Float32Array(9));var c=b||this.array;return a?(c[0]=this.a,c[1]=this.b,c[2]=0,c[3]=this.c,c[4]=this.d,c[5]=0,c[6]=this.tx,c[7]=this.ty,c[8]=1):(c[0]=this.a,c[1]=this.c,c[2]=this.tx,c[3]=this.b,c[4]=this.d,c[5]=this.ty,c[6]=0,c[7]=0,c[8]=1),c},a.prototype.apply=function(a,b){b=b||new g.default;var c=a.x,d=a.y;return b.x=this.a*c+this.c*d+this.tx,b.y=this.b*c+this.d*d+this.ty,b},a.prototype.applyInverse=function(a,b){b=b||new g.default;var c=1/(this.a*this.d+this.c*-this.b),d=a.x,e=a.y;return b.x=this.d*c*d+-this.c*c*e+(this.ty*this.c-this.tx*this.d)*c,b.y=this.a*c*e+-this.b*c*d+(-this.ty*this.a+this.tx*this.b)*c,b},a.prototype.translate=function(a,b){return this.tx+=a,this.ty+=b,this},a.prototype.scale=function(a,b){return this.a*=a,this.d*=b,this.c*=a,this.b*=b,this.tx*=a,this.ty*=b,this},a.prototype.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this.a,e=this.c,f=this.tx;return this.a=d*b-this.b*c,this.b=d*c+this.b*b,this.c=e*b-this.d*c,this.d=e*c+this.d*b,this.tx=f*b-this.ty*c,this.ty=f*c+this.ty*b,this},a.prototype.append=function(a){var b=this.a,c=this.b,d=this.c,e=this.d;return this.a=a.a*b+a.b*d,this.b=a.a*c+a.b*e,this.c=a.c*b+a.d*d,this.d=a.c*c+a.d*e,this.tx=a.tx*b+a.ty*d+this.tx,this.ty=a.tx*c+a.ty*e+this.ty,this},a.prototype.setTransform=function(a,b,c,d,e,f,g,h,i){var j=Math.sin(g),k=Math.cos(g),l=Math.cos(i),m=Math.sin(i),n=-Math.sin(h),o=Math.cos(h),p=k*e,q=j*e,r=-j*f,s=k*f;return this.a=l*p+m*r,this.b=l*q+m*s,this.c=n*p+o*r,this.d=n*q+o*s,this.tx=a+(c*p+d*r),this.ty=b+(c*q+d*s),this},a.prototype.prepend=function(a){var b=this.tx;if(1!==a.a||0!==a.b||0!==a.c||1!==a.d){var c=this.a,d=this.c;this.a=c*a.a+this.b*a.c,this.b=c*a.b+this.b*a.d,this.c=d*a.a+this.d*a.c,this.d=d*a.b+this.d*a.d}return this.tx=b*a.a+this.ty*a.c+a.tx,this.ty=b*a.b+this.ty*a.d+a.ty,this},a.prototype.decompose=function(a){var b=this.a,c=this.b,d=this.c,e=this.d,f=-Math.atan2(-d,e),g=Math.atan2(c,b);return Math.abs(f+g)<1e-5?(a.rotation=g,b<0&&e>=0&&(a.rotation+=a.rotation<=0?Math.PI:-Math.PI),a.skew.x=a.skew.y=0):(a.skew.x=f,a.skew.y=g),a.scale.x=Math.sqrt(b*b+c*c),a.scale.y=Math.sqrt(d*d+e*e),a.position.x=this.tx,a.position.y=this.ty,a},a.prototype.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;return this.a=d/f,this.b=-b/f,this.c=-c/f,this.d=a/f,this.tx=(c*this.ty-d*e)/f,this.ty=-(a*this.ty-b*e)/f,this},a.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},a.prototype.clone=function(){var b=new a;return b.a=this.a,b.b=this.b,b.c=this.c,b.d=this.d,b.tx=this.tx,b.ty=this.ty,b},a.prototype.copy=function(a){return a.a=this.a,a.b=this.b,a.c=this.c,a.d=this.d,a.tx=this.tx,a.ty=this.ty,a},e(a,null,[{key:"IDENTITY",get:function(){return new a}},{key:"TEMP_MATRIX",get:function(){return new a}}]),a}();c.default=h},{"./Point":73}],72:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;d(this,a),this._x=e,this._y=f,this.cb=b,this.scope=c}return a.prototype.set=function(a,b){var c=a||0,d=b||(0!==b?c:0);this._x===c&&this._y===d||(this._x=c,this._y=d,this.cb.call(this.scope))},a.prototype.copy=function(a){this._x===a.x&&this._y===a.y||(this._x=a.x,this._y=a.y,this.cb.call(this.scope))},e(a,[{key:"x",get:function(){return this._x},set:function(a){this._x!==a&&(this._x=a,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(a){this._y!==a&&(this._y=a,this.cb.call(this.scope))}}]),a}();c.default=f},{}],73:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,a),this.x=b,this.y=c}return a.prototype.clone=function(){return new a(this.x,this.y)},a.prototype.copy=function(a){this.set(a.x,a.y)},a.prototype.equals=function(a){return a.x===this.x&&a.y===this.y},a.prototype.set=function(a,b){this.x=a||0,this.y=b||(0!==b?this.x:0)},a}();c.default=e},{}],74:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("./Point");Object.defineProperty(c,"Point",{enumerable:!0,get:function(){return d(e).default}});var f=a("./ObservablePoint");Object.defineProperty(c,"ObservablePoint",{enumerable:!0,get:function(){return d(f).default}});var g=a("./Matrix");Object.defineProperty(c,"Matrix",{enumerable:!0,get:function(){return d(g).default}});var h=a("./GroupD8");Object.defineProperty(c,"GroupD8",{enumerable:!0,get:function(){return d(h).default}});var i=a("./shapes/Circle");Object.defineProperty(c,"Circle",{enumerable:!0,get:function(){return d(i).default}});var j=a("./shapes/Ellipse");Object.defineProperty(c,"Ellipse",{enumerable:!0,get:function(){return d(j).default}});var k=a("./shapes/Polygon");Object.defineProperty(c,"Polygon",{enumerable:!0,get:function(){return d(k).default}});var l=a("./shapes/Rectangle");Object.defineProperty(c,"Rectangle",{enumerable:!0,get:function(){return d(l).default}});var m=a("./shapes/RoundedRectangle");Object.defineProperty(c,"RoundedRectangle",{enumerable:!0,get:function(){return d(m).default}})},{"./GroupD8":70,"./Matrix":71,"./ObservablePoint":72,"./Point":73,"./shapes/Circle":75,"./shapes/Ellipse":76,"./shapes/Polygon":77,"./shapes/Rectangle":78,"./shapes/RoundedRectangle":79}],75:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("./Rectangle"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=a("../../const"),h=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;d(this,a),this.x=b,this.y=c,this.radius=e,this.type=g.SHAPES.CIRC}return a.prototype.clone=function(){return new a(this.x,this.y,this.radius)},a.prototype.contains=function(a,b){if(this.radius<=0)return!1;var c=this.radius*this.radius,d=this.x-a,e=this.y-b;return d*=d,e*=e,d+e<=c},a.prototype.getBounds=function(){return new f.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},a}();c.default=h},{"../../const":50,"./Rectangle":78}],76:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("./Rectangle"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=a("../../const"),h=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;d(this,a),this.x=b,this.y=c,this.width=e,this.height=f,this.type=g.SHAPES.ELIP}return a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;var c=(a-this.x)/this.width,d=(b-this.y)/this.height;return c*=c,d*=d,c+d<=1},a.prototype.getBounds=function(){return new f.default(this.x-this.width,this.y-this.height,this.width,this.height)},a}();c.default=h},{"../../const":50,"./Rectangle":78}],77:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("../Point"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=a("../../const"),h=function(){function a(){for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];if(d(this,a),Array.isArray(c[0])&&(c=c[0]),c[0]instanceof f.default){for(var h=[],i=0,j=c.length;i<j;i++)h.push(c[i].x,c[i].y);c=h}this.closed=!0,this.points=c,this.type=g.SHAPES.POLY}return a.prototype.clone=function(){return new a(this.points.slice())},a.prototype.close=function(){var a=this.points;a[0]===a[a.length-2]&&a[1]===a[a.length-1]||a.push(a[0],a[1])},a.prototype.contains=function(a,b){for(var c=!1,d=this.points.length/2,e=0,f=d-1;e<d;f=e++){var g=this.points[2*e],h=this.points[2*e+1],i=this.points[2*f],j=this.points[2*f+1];h>b!=j>b&&a<(b-h)/(j-h)*(i-g)+g&&(c=!c)}return c},a}();c.default=h},{"../../const":50,"../Point":73}],78:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("../../const"),g=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;d(this,a),this.x=b,this.y=c,this.width=e,this.height=g,this.type=f.SHAPES.RECT}return a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.copy=function(a){return this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this},a.prototype.contains=function(a,b){return!(this.width<=0||this.height<=0)&&(a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height)},a.prototype.pad=function(a,b){a=a||0,b=b||(0!==b?a:0),this.x-=a,this.y-=b,this.width+=2*a,this.height+=2*b},a.prototype.fit=function(a){this.x<a.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=a.x),this.y<a.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=a.y),this.x+this.width>a.x+a.width&&(this.width=a.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>a.y+a.height&&(this.height=a.height-this.y,this.height<0&&(this.height=0))},a.prototype.enlarge=function(a){var b=Math.min(this.x,a.x),c=Math.max(this.x+this.width,a.x+a.width),d=Math.min(this.y,a.y),e=Math.max(this.y+this.height,a.y+a.height);this.x=b,this.width=c-b,this.y=d,this.height=e-d},e(a,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new a(0,0,0,0)}}]),a}();c.default=g},{"../../const":50}],79:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("../../const"),f=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;d(this,a),this.x=b,this.y=c,this.width=f,this.height=g,this.radius=h,this.type=e.SHAPES.RREC}return a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.radius)},a.prototype.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;if(a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height){if(b>=this.y+this.radius&&b<=this.y+this.height-this.radius||a>=this.x+this.radius&&a<=this.x+this.width-this.radius)return!0;var c=a-(this.x+this.radius),d=b-(this.y+this.radius),e=this.radius*this.radius;if(c*c+d*d<=e)return!0;if((c=a-(this.x+this.width-this.radius))*c+d*d<=e)return!0;if(d=b-(this.y+this.height-this.radius),c*c+d*d<=e)return!0;if((c=a-(this.x+this.radius))*c+d*d<=e)return!0}return!1},a}();c.default=f},{"../../const":50}],80:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../utils"),j=a("../math"),k=a("../const"),l=a("../settings"),m=d(l),n=a("../display/Container"),o=d(n),p=a("../textures/RenderTexture"),q=d(p),r=a("eventemitter3"),s=d(r),t=new j.Matrix,u=function(a){function b(c,d,g,h){e(this,b);var l=f(this,a.call(this));return(0,i.sayHello)(c),"number"==typeof d&&(d=Object.assign({width:d,height:g||m.default.RENDER_OPTIONS.height},h)),d=Object.assign({},m.default.RENDER_OPTIONS,d),l.options=d,l.type=k.RENDERER_TYPE.UNKNOWN,l.screen=new j.Rectangle(0,0,d.width,d.height),l.view=d.view||document.createElement("canvas"),l.resolution=d.resolution||m.default.RESOLUTION,l.transparent=d.transparent,l.autoResize=d.autoResize||!1,l.blendModes=null,l.preserveDrawingBuffer=d.preserveDrawingBuffer,l.clearBeforeRender=d.clearBeforeRender,l.roundPixels=d.roundPixels,l._backgroundColor=0,l._backgroundColorRgba=[0,0,0,0],l._backgroundColorString="#000000",l.backgroundColor=d.backgroundColor||l._backgroundColor,l._tempDisplayObjectParent=new o.default,l._lastObjectRendered=l._tempDisplayObjectParent,l}return g(b,a),b.prototype.resize=function(a,b){this.screen.width=a,this.screen.height=b,this.view.width=a*this.resolution,this.view.height=b*this.resolution,this.autoResize&&(this.view.style.width=a+"px",this.view.style.height=b+"px")},b.prototype.generateTexture=function(a,b,c){var d=a.getLocalBounds(),e=q.default.create(0|d.width,0|d.height,b,c);return t.tx=-d.x,t.ty=-d.y,this.render(a,e,!1,t,!0),e},b.prototype.destroy=function(a){a&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=k.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},h(b,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(a){this._backgroundColor=a,this._backgroundColorString=(0,i.hex2string)(a),(0,i.hex2rgb)(a,this._backgroundColorRgba)}}]),b}(s.default);c.default=u},{"../const":50,"../display/Container":52,"../math":74,"../settings":105,"../textures/RenderTexture":117,"../utils":128,eventemitter3:8}],81:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=a("../SystemRenderer"),i=d(h),j=a("./utils/CanvasMaskManager"),k=d(j),l=a("./utils/CanvasRenderTarget"),m=d(l),n=a("./utils/mapCanvasBlendModesToPixi"),o=d(n),p=a("../../utils"),q=a("../../const"),r=a("../../settings"),s=d(r),t=function(a){function b(c,d,g){e(this,b);var h=f(this,a.call(this,"Canvas",c,d,g));return h.type=q.RENDERER_TYPE.CANVAS,h.rootContext=h.view.getContext("2d",{alpha:h.transparent}),h.context=h.rootContext,h.refresh=!0,h.maskManager=new k.default(h),h.smoothProperty="imageSmoothingEnabled",h.rootContext.imageSmoothingEnabled||(h.rootContext.webkitImageSmoothingEnabled?h.smoothProperty="webkitImageSmoothingEnabled":h.rootContext.mozImageSmoothingEnabled?h.smoothProperty="mozImageSmoothingEnabled":h.rootContext.oImageSmoothingEnabled?h.smoothProperty="oImageSmoothingEnabled":h.rootContext.msImageSmoothingEnabled&&(h.smoothProperty="msImageSmoothingEnabled")),h.initPlugins(),h.blendModes=(0,o.default)(),h._activeBlendMode=null,h.renderingToScreen=!1,h.resize(h.options.width,h.options.height),h}return g(b,a),b.prototype.render=function(a,b,c,d,e){if(this.view){this.renderingToScreen=!b,this.emit("prerender");var f=this.resolution;b?(b=b.baseTexture||b,b._canvasRenderTarget||(b._canvasRenderTarget=new m.default(b.width,b.height,b.resolution),b.source=b._canvasRenderTarget.canvas,b.valid=!0),this.context=b._canvasRenderTarget.context,this.resolution=b._canvasRenderTarget.resolution):this.context=this.rootContext;var g=this.context;if(b||(this._lastObjectRendered=a),!e){var h=a.parent,i=this._tempDisplayObjectParent.transform.worldTransform;d?(d.copy(i),this._tempDisplayObjectParent.transform._worldID=-1):i.identity(),a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=h}g.setTransform(1,0,0,1,0,0),g.globalAlpha=1,g.globalCompositeOperation=this.blendModes[q.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(g.fillStyle="black",g.clear()),(void 0!==c?c:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?g.clearRect(0,0,this.width,this.height):(g.fillStyle=this._backgroundColorString,g.fillRect(0,0,this.width,this.height)));var j=this.context;this.context=g,a.renderCanvas(this),this.context=j,this.resolution=f,this.emit("postrender")}},b.prototype.clear=function(a){var b=this.context;a=a||this._backgroundColorString,!this.transparent&&a?(b.fillStyle=a,b.fillRect(0,0,this.width,this.height)):b.clearRect(0,0,this.width,this.height)},b.prototype.setBlendMode=function(a){this._activeBlendMode!==a&&(this._activeBlendMode=a,this.context.globalCompositeOperation=this.blendModes[a])},b.prototype.destroy=function(b){this.destroyPlugins(),a.prototype.destroy.call(this,b),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},b.prototype.resize=function(b,c){a.prototype.resize.call(this,b,c),this.smoothProperty&&(this.rootContext[this.smoothProperty]=s.default.SCALE_MODE===q.SCALE_MODES.LINEAR)},b}(i.default);c.default=t,p.pluginTarget.mixin(t)},{"../../const":50,"../../settings":105,"../../utils":128,"../SystemRenderer":80,"./utils/CanvasMaskManager":82,"./utils/CanvasRenderTarget":83,"./utils/mapCanvasBlendModesToPixi":85}],
82:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("../../../const"),f=function(){function a(b){d(this,a),this.renderer=b}return a.prototype.pushMask=function(a){var b=this.renderer;b.context.save();var c=a.alpha,d=a.transform.worldTransform,e=b.resolution;b.context.setTransform(d.a*e,d.b*e,d.c*e,d.d*e,d.tx*e,d.ty*e),a._texture||(this.renderGraphicsShape(a),b.context.clip()),a.worldAlpha=c},a.prototype.renderGraphicsShape=function(a){var b=this.renderer.context,c=a.graphicsData.length;if(0!==c){b.beginPath();for(var d=0;d<c;d++){var f=a.graphicsData[d],g=f.shape;if(f.type===e.SHAPES.POLY){var h=g.points;b.moveTo(h[0],h[1]);for(var i=1;i<h.length/2;i++)b.lineTo(h[2*i],h[2*i+1]);h[0]===h[h.length-2]&&h[1]===h[h.length-1]&&b.closePath()}else if(f.type===e.SHAPES.RECT)b.rect(g.x,g.y,g.width,g.height),b.closePath();else if(f.type===e.SHAPES.CIRC)b.arc(g.x,g.y,g.radius,0,2*Math.PI),b.closePath();else if(f.type===e.SHAPES.ELIP){var j=2*g.width,k=2*g.height,l=g.x-j/2,m=g.y-k/2,n=j/2*.5522848,o=k/2*.5522848,p=l+j,q=m+k,r=l+j/2,s=m+k/2;b.moveTo(l,s),b.bezierCurveTo(l,s-o,r-n,m,r,m),b.bezierCurveTo(r+n,m,p,s-o,p,s),b.bezierCurveTo(p,s+o,r+n,q,r,q),b.bezierCurveTo(r-n,q,l,s+o,l,s),b.closePath()}else if(f.type===e.SHAPES.RREC){var t=g.x,u=g.y,v=g.width,w=g.height,x=g.radius,y=Math.min(v,w)/2|0;x=x>y?y:x,b.moveTo(t,u+x),b.lineTo(t,u+w-x),b.quadraticCurveTo(t,u+w,t+x,u+w),b.lineTo(t+v-x,u+w),b.quadraticCurveTo(t+v,u+w,t+v,u+w-x),b.lineTo(t+v,u+x),b.quadraticCurveTo(t+v,u,t+v-x,u),b.lineTo(t+x,u),b.quadraticCurveTo(t,u,t,u+x),b.closePath()}}}},a.prototype.popMask=function(a){a.context.restore()},a.prototype.destroy=function(){},a}();c.default=f},{"../../../const":50}],83:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("../../../settings"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(b,c,e){d(this,a),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=e||g.default.RESOLUTION,this.resize(b,c)}return a.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},a.prototype.resize=function(a,b){this.canvas.width=a*this.resolution,this.canvas.height=b*this.resolution},a.prototype.destroy=function(){this.context=null,this.canvas=null},e(a,[{key:"width",get:function(){return this.canvas.width},set:function(a){this.canvas.width=a}},{key:"height",get:function(){return this.canvas.height},set:function(a){this.canvas.height=a}}]),a}();c.default=h},{"../../../settings":105}],84:[function(a,b,c){"use strict";function d(a){var b=document.createElement("canvas");b.width=6,b.height=1;var c=b.getContext("2d");return c.fillStyle=a,c.fillRect(0,0,6,1),b}function e(){if("undefined"==typeof document)return!1;var a=d("#ff00ff"),b=d("#ffff00"),c=document.createElement("canvas");c.width=6,c.height=1;var e=c.getContext("2d");e.globalCompositeOperation="multiply",e.drawImage(a,0,0),e.drawImage(b,2,0);var f=e.getImageData(2,0,1,1);if(!f)return!1;var g=f.data;return 255===g[0]&&0===g[1]&&0===g[2]}c.__esModule=!0,c.default=e},{}],85:[function(a,b,c){"use strict";function d(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,g.default)()?(a[e.BLEND_MODES.NORMAL]="source-over",a[e.BLEND_MODES.ADD]="lighter",a[e.BLEND_MODES.MULTIPLY]="multiply",a[e.BLEND_MODES.SCREEN]="screen",a[e.BLEND_MODES.OVERLAY]="overlay",a[e.BLEND_MODES.DARKEN]="darken",a[e.BLEND_MODES.LIGHTEN]="lighten",a[e.BLEND_MODES.COLOR_DODGE]="color-dodge",a[e.BLEND_MODES.COLOR_BURN]="color-burn",a[e.BLEND_MODES.HARD_LIGHT]="hard-light",a[e.BLEND_MODES.SOFT_LIGHT]="soft-light",a[e.BLEND_MODES.DIFFERENCE]="difference",a[e.BLEND_MODES.EXCLUSION]="exclusion",a[e.BLEND_MODES.HUE]="hue",a[e.BLEND_MODES.SATURATION]="saturate",a[e.BLEND_MODES.COLOR]="color",a[e.BLEND_MODES.LUMINOSITY]="luminosity"):(a[e.BLEND_MODES.NORMAL]="source-over",a[e.BLEND_MODES.ADD]="lighter",a[e.BLEND_MODES.MULTIPLY]="source-over",a[e.BLEND_MODES.SCREEN]="source-over",a[e.BLEND_MODES.OVERLAY]="source-over",a[e.BLEND_MODES.DARKEN]="source-over",a[e.BLEND_MODES.LIGHTEN]="source-over",a[e.BLEND_MODES.COLOR_DODGE]="source-over",a[e.BLEND_MODES.COLOR_BURN]="source-over",a[e.BLEND_MODES.HARD_LIGHT]="source-over",a[e.BLEND_MODES.SOFT_LIGHT]="source-over",a[e.BLEND_MODES.DIFFERENCE]="source-over",a[e.BLEND_MODES.EXCLUSION]="source-over",a[e.BLEND_MODES.HUE]="source-over",a[e.BLEND_MODES.SATURATION]="source-over",a[e.BLEND_MODES.COLOR]="source-over",a[e.BLEND_MODES.LUMINOSITY]="source-over"),a[e.BLEND_MODES.NORMAL_NPM]=a[e.BLEND_MODES.NORMAL],a[e.BLEND_MODES.ADD_NPM]=a[e.BLEND_MODES.ADD],a[e.BLEND_MODES.SCREEN_NPM]=a[e.BLEND_MODES.SCREEN],a}c.__esModule=!0,c.default=d;var e=a("../../../const"),f=a("./canUseNewCanvasBlendModes"),g=function(a){return a&&a.__esModule?a:{default:a}}(f)},{"../../../const":50,"./canUseNewCanvasBlendModes":84}],86:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("../../const"),f=a("../../settings"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(b){d(this,a),this.renderer=b,this.count=0,this.checkCount=0,this.maxIdle=g.default.GC_MAX_IDLE,this.checkCountMax=g.default.GC_MAX_CHECK_COUNT,this.mode=g.default.GC_MODE}return a.prototype.update=function(){this.count++,this.mode!==e.GC_MODES.MANUAL&&++this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())},a.prototype.run=function(){for(var a=this.renderer.textureManager,b=a._managedTextures,c=!1,d=0;d<b.length;d++){var e=b[d];!e._glRenderTargets&&this.count-e.touched>this.maxIdle&&(a.destroyTexture(e,!0),b[d]=null,c=!0)}if(c){for(var f=0,g=0;g<b.length;g++)null!==b[g]&&(b[f++]=b[g]);b.length=f}},a.prototype.unload=function(a){var b=this.renderer.textureManager;a._texture&&a._texture._glRenderTargets&&b.destroyTexture(a._texture,!0);for(var c=a.children.length-1;c>=0;c--)this.unload(a.children[c])},a}();c.default=h},{"../../const":50,"../../settings":105}],87:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("pixi-gl-core"),f=a("../../const"),g=a("./utils/RenderTarget"),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=a("../../utils"),j=function(){function a(b){d(this,a),this.renderer=b,this.gl=b.gl,this._managedTextures=[]}return a.prototype.bindTexture=function(){},a.prototype.getTexture=function(){},a.prototype.updateTexture=function(a,b){var c=this.gl,d=!!a._glRenderTargets;if(!a.hasLoaded)return null;var g=this.renderer.boundTextures;if(void 0===b){b=0;for(var i=0;i<g.length;++i)if(g[i]===a){b=i;break}}g[b]=a,c.activeTexture(c.TEXTURE0+b);var j=a._glTextures[this.renderer.CONTEXT_UID];if(j)d?a._glRenderTargets[this.renderer.CONTEXT_UID].resize(a.width,a.height):j.upload(a.source);else{if(d){var k=new h.default(this.gl,a.width,a.height,a.scaleMode,a.resolution);k.resize(a.width,a.height),a._glRenderTargets[this.renderer.CONTEXT_UID]=k,j=k.texture}else j=new e.GLTexture(this.gl,null,null,null,null),j.bind(b),j.premultiplyAlpha=!0,j.upload(a.source);a._glTextures[this.renderer.CONTEXT_UID]=j,a.on("update",this.updateTexture,this),a.on("dispose",this.destroyTexture,this),this._managedTextures.push(a),a.isPowerOfTwo?(a.mipmap&&j.enableMipmap(),a.wrapMode===f.WRAP_MODES.CLAMP?j.enableWrapClamp():a.wrapMode===f.WRAP_MODES.REPEAT?j.enableWrapRepeat():j.enableWrapMirrorRepeat()):j.enableWrapClamp(),a.scaleMode===f.SCALE_MODES.NEAREST?j.enableNearestScaling():j.enableLinearScaling()}return j},a.prototype.destroyTexture=function(a,b){if(a=a.baseTexture||a,a.hasLoaded&&a._glTextures[this.renderer.CONTEXT_UID]&&(this.renderer.unbindTexture(a),a._glTextures[this.renderer.CONTEXT_UID].destroy(),a.off("update",this.updateTexture,this),a.off("dispose",this.destroyTexture,this),delete a._glTextures[this.renderer.CONTEXT_UID],!b)){var c=this._managedTextures.indexOf(a);-1!==c&&(0,i.removeItems)(this._managedTextures,c,1)}},a.prototype.removeAll=function(){for(var a=0;a<this._managedTextures.length;++a){var b=this._managedTextures[a];b._glTextures[this.renderer.CONTEXT_UID]&&delete b._glTextures[this.renderer.CONTEXT_UID]}},a.prototype.destroy=function(){for(var a=0;a<this._managedTextures.length;++a){var b=this._managedTextures[a];this.destroyTexture(b,!0),b.off("update",this.updateTexture,this),b.off("dispose",this.destroyTexture,this)}this._managedTextures=null},a}();c.default=j},{"../../const":50,"../../utils":128,"./utils/RenderTarget":100,"pixi-gl-core":33}],88:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=a("../SystemRenderer"),i=d(h),j=a("./managers/MaskManager"),k=d(j),l=a("./managers/StencilManager"),m=d(l),n=a("./managers/FilterManager"),o=d(n),p=a("./utils/RenderTarget"),q=d(p),r=a("./utils/ObjectRenderer"),s=d(r),t=a("./TextureManager"),u=d(t),v=a("../../textures/BaseTexture"),w=d(v),x=a("./TextureGarbageCollector"),y=d(x),z=a("./WebGLState"),A=d(z),B=a("./utils/mapWebGLDrawModesToPixi"),C=d(B),D=a("./utils/validateContext"),E=d(D),F=a("../../utils"),G=a("pixi-gl-core"),H=d(G),I=a("../../const"),J=0,K=function(a){function b(c,d,g){e(this,b);var h=f(this,a.call(this,"WebGL",c,d,g));return h.legacy=h.options.legacy,h.legacy&&(H.default.VertexArrayObject.FORCE_NATIVE=!0),h.type=I.RENDERER_TYPE.WEBGL,h.handleContextLost=h.handleContextLost.bind(h),h.handleContextRestored=h.handleContextRestored.bind(h),h.view.addEventListener("webglcontextlost",h.handleContextLost,!1),h.view.addEventListener("webglcontextrestored",h.handleContextRestored,!1),h._contextOptions={alpha:h.transparent,antialias:h.options.antialias,premultipliedAlpha:h.transparent&&"notMultiplied"!==h.transparent,stencil:!0,preserveDrawingBuffer:h.options.preserveDrawingBuffer},h._backgroundColorRgba[3]=h.transparent?0:1,h.maskManager=new k.default(h),h.stencilManager=new m.default(h),h.emptyRenderer=new s.default(h),h.currentRenderer=h.emptyRenderer,h.initPlugins(),h.options.context&&(0,E.default)(h.options.context),h.gl=h.options.context||H.default.createContext(h.view,h._contextOptions),h.CONTEXT_UID=J++,h.state=new A.default(h.gl),h.renderingToScreen=!0,h.boundTextures=null,h._activeShader=null,h._activeVao=null,h._activeRenderTarget=null,h._initContext(),h.filterManager=new o.default(h),h.drawModes=(0,C.default)(h.gl),h._nextTextureLocation=0,h.setBlendMode(0),h}return g(b,a),b.prototype._initContext=function(){var a=this.gl;a.isContextLost()&&a.getExtension("WEBGL_lose_context")&&a.getExtension("WEBGL_lose_context").restoreContext();var b=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(b),this.emptyTextures=new Array(b),this.textureManager=new u.default(this),this.textureGC=new y.default(this),this.state.resetToDefault(),this.rootRenderTarget=new q.default(a,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var c=new H.default.GLTexture.fromData(a,null,1,1),d={_glTextures:{}};d._glTextures[this.CONTEXT_UID]={};for(var e=0;e<b;e++){var f=new w.default;f._glTextures[this.CONTEXT_UID]=c,this.boundTextures[e]=d,this.emptyTextures[e]=f,this.bindTexture(null,e)}this.emit("context",a),this.resize(this.screen.width,this.screen.height)},b.prototype.render=function(a,b,c,d,e){if(this.renderingToScreen=!b,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,b||(this._lastObjectRendered=a),!e){var f=a.parent;a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=f}this.bindRenderTexture(b,d),this.currentRenderer.start(),(void 0!==c?c:this.clearBeforeRender)&&this._activeRenderTarget.clear(),a.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},b.prototype.setObjectRenderer=function(a){this.currentRenderer!==a&&(this.currentRenderer.stop(),this.currentRenderer=a,this.currentRenderer.start())},b.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},b.prototype.resize=function(a,b){i.default.prototype.resize.call(this,a,b),this.rootRenderTarget.resize(a,b),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},b.prototype.setBlendMode=function(a){this.state.setBlendMode(a)},b.prototype.clear=function(a){this._activeRenderTarget.clear(a)},b.prototype.setTransform=function(a){this._activeRenderTarget.transform=a},b.prototype.clearRenderTexture=function(a,b){var c=a.baseTexture,d=c._glRenderTargets[this.CONTEXT_UID];return d&&d.clear(b),this},b.prototype.bindRenderTexture=function(a,b){var c=void 0;if(a){var d=a.baseTexture;d._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(d,0),this.unbindTexture(d),c=d._glRenderTargets[this.CONTEXT_UID],c.setFrame(a.frame)}else c=this.rootRenderTarget;return c.transform=b,this.bindRenderTarget(c),this},b.prototype.bindRenderTarget=function(a){return a!==this._activeRenderTarget&&(this._activeRenderTarget=a,a.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=a.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(a.stencilMaskStack)),this},b.prototype.bindShader=function(a,b){return this._activeShader!==a&&(this._activeShader=a,a.bind(),!1!==b&&(a.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},b.prototype.bindTexture=function(a,b,c){if(a=a||this.emptyTextures[b],a=a.baseTexture||a,a.touched=this.textureGC.count,c)b=b||0;else{for(var d=0;d<this.boundTextures.length;d++)if(this.boundTextures[d]===a)return d;void 0===b&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,b=this.boundTextures.length-this._nextTextureLocation-1)}var e=this.gl,f=a._glTextures[this.CONTEXT_UID];return f?(this.boundTextures[b]=a,e.activeTexture(e.TEXTURE0+b),e.bindTexture(e.TEXTURE_2D,f.texture)):this.textureManager.updateTexture(a,b),b},b.prototype.unbindTexture=function(a){var b=this.gl;a=a.baseTexture||a;for(var c=0;c<this.boundTextures.length;c++)this.boundTextures[c]===a&&(this.boundTextures[c]=this.emptyTextures[c],b.activeTexture(b.TEXTURE0+c),b.bindTexture(b.TEXTURE_2D,this.emptyTextures[c]._glTextures[this.CONTEXT_UID].texture));return this},b.prototype.createVao=function(){return new H.default.VertexArrayObject(this.gl,this.state.attribState)},b.prototype.bindVao=function(a){return this._activeVao===a?this:(a?a.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=a,this)},b.prototype.reset=function(){return this.setObjectRenderer(this.emptyRenderer),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this.rootRenderTarget.activate(),this.state.resetToDefault(),this},b.prototype.handleContextLost=function(a){a.preventDefault()},b.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this._initContext()},b.prototype.destroy=function(b){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),a.prototype.destroy.call(this,b),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},b}(i.default);c.default=K,F.pluginTarget.mixin(K)},{"../../const":50,"../../textures/BaseTexture":116,"../../utils":128,"../SystemRenderer":80,"./TextureGarbageCollector":86,"./TextureManager":87,"./WebGLState":89,"./managers/FilterManager":94,"./managers/MaskManager":95,"./managers/StencilManager":96,"./utils/ObjectRenderer":98,"./utils/RenderTarget":100,"./utils/mapWebGLDrawModesToPixi":103,"./utils/validateContext":104,"pixi-gl-core":33}],89:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("./utils/mapWebGLBlendModesToPixi"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=function(){function a(b){d(this,a),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=b,this.maxAttribs=b.getParameter(b.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,f.default)(b),this.nativeVaoExtension=b.getExtension("OES_vertex_array_object")||b.getExtension("MOZ_OES_vertex_array_object")||b.getExtension("WEBKIT_OES_vertex_array_object")}return a.prototype.push=function(){var a=this.stack[this.stackIndex];a||(a=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var b=0;b<this.activeState.length;b++)a[b]=this.activeState[b]},a.prototype.pop=function(){var a=this.stack[--this.stackIndex];this.setState(a)},a.prototype.setState=function(a){this.setBlend(a[0]),this.setDepthTest(a[1]),this.setFrontFace(a[2]),this.setCullFace(a[3]),this.setBlendMode(a[4])},a.prototype.setBlend=function(a){a=a?1:0,this.activeState[0]!==a&&(this.activeState[0]=a,this.gl[a?"enable":"disable"](this.gl.BLEND))},a.prototype.setBlendMode=function(a){if(a!==this.activeState[4]){this.activeState[4]=a;var b=this.blendModes[a];2===b.length?this.gl.blendFunc(b[0],b[1]):this.gl.blendFuncSeparate(b[0],b[1],b[2],b[3])}},a.prototype.setDepthTest=function(a){a=a?1:0,this.activeState[1]!==a&&(this.activeState[1]=a,this.gl[a?"enable":"disable"](this.gl.DEPTH_TEST))},a.prototype.setCullFace=function(a){a=a?1:0,this.activeState[3]!==a&&(this.activeState[3]=a,this.gl[a?"enable":"disable"](this.gl.CULL_FACE))},a.prototype.setFrontFace=function(a){a=a?1:0,this.activeState[2]!==a&&(this.activeState[2]=a,this.gl.frontFace(this.gl[a?"CW":"CCW"]))},a.prototype.resetAttributes=function(){for(var a=0;a<this.attribState.tempAttribState.length;a++)this.attribState.tempAttribState[a]=0;for(var b=0;b<this.attribState.attribState.length;b++)this.attribState.attribState[b]=0;for(var c=1;c<this.maxAttribs;c++)this.gl.disableVertexAttribArray(c)},a.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var a=0;a<this.activeState.length;++a)this.activeState[a]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},a}();c.default=g},{"./utils/mapWebGLBlendModesToPixi":102}],90:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./extractUniformsFromSrc"),h=d(g),i=a("../../../utils"),j=a("../../../const"),k=a("../../../settings"),l=d(k),m={},n=function(){function a(b,c,d){e(this,a),this.vertexSrc=b||a.defaultVertexSrc,this.fragmentSrc=c||a.defaultFragmentSrc,this.blendMode=j.BLEND_MODES.NORMAL,this.uniformData=d||(0,h.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var f in this.uniformData)this.uniforms[f]=this.uniformData[f].value;this.glShaders={},m[this.vertexSrc+this.fragmentSrc]||(m[this.vertexSrc+this.fragmentSrc]=(0,i.uid)()),this.glShaderKey=m[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=l.default.RESOLUTION,this.enabled=!0,this.autoFit=!0}return a.prototype.apply=function(a,b,c,d,e){a.applyFilter(this,b,c,d)},f(a,null,[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),a}();c.default=n},{"../../../const":50,"../../../settings":105,"../../../utils":128,"./extractUniformsFromSrc":91}],91:[function(a,b,c){"use strict";function d(a,b,c){var d=e(a),f=e(b);return Object.assign(d,f)}function e(a){for(var b=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),c={},d=void 0,e=a.replace(/\s+/g," ").split(/\s*;\s*/),f=0;f<e.length;f++){var g=e[f].trim();if(g.indexOf("uniform")>-1){var i=g.split(" "),j=i[1],k=i[2],l=1;k.indexOf("[")>-1&&(d=k.split(/\[|]/),k=d[0],l*=Number(d[1])),k.match(b)||(c[k]={value:h(j,l),name:k,type:j})}}return c}c.__esModule=!0,c.default=d;var f=a("pixi-gl-core"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=g.default.shader.defaultValue},{"pixi-gl-core":33}],92:[function(a,b,c){"use strict";function d(a,b,c){var d=a.identity();return d.translate(b.x/c.width,b.y/c.height),d.scale(c.width,c.height),d}function e(a,b,c){var d=a.identity();d.translate(b.x/c.width,b.y/c.height);var e=c.width/b.width,f=c.height/b.height;return d.scale(e,f),d}function f(a,b,c,d){var e=d.worldTransform.copy(g.Matrix.TEMP_MATRIX),f=d._texture.baseTexture,h=a.identity(),i=c.height/c.width;h.translate(b.x/c.width,b.y/c.height),h.scale(1,i);var j=c.width/f.width,k=c.height/f.height;return e.tx/=f.width*j,e.ty/=f.width*j,e.invert(),h.prepend(e),h.scale(1,1/i),h.scale(j,k),h.translate(d.anchor.x,d.anchor.y),h}c.__esModule=!0,c.calculateScreenSpaceMatrix=d,c.calculateNormalizedScreenSpaceMatrix=e,c.calculateSpriteMatrix=f;var g=a("../../../math")},{"../../../math":74}],93:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=a("../Filter"),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=a("../../../../math"),j=(a("path"),function(a){function b(c){d(this,b);var f=new i.Matrix,g=e(this,a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return c.renderable=!1,g.maskSprite=c,g.maskMatrix=f,g}return f(b,a),b.prototype.apply=function(a,b,c){var d=this.maskSprite;this.uniforms.mask=d._texture,this.uniforms.otherMatrix=a.calculateSpriteMatrix(this.maskMatrix,d),this.uniforms.alpha=d.worldAlpha,a.applyFilter(this,b,c)},b}(h.default));c.default=j},{"../../../../math":74,"../Filter":90,path:19}],94:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var h=a("./WebGLManager"),i=d(h),j=a("../utils/RenderTarget"),k=d(j),l=a("../utils/Quad"),m=d(l),n=a("../../../math"),o=a("../../../Shader"),p=d(o),q=a("../filters/filterTransforms"),r=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(q),s=a("bit-twiddle"),t=d(s),u=function a(){g(this,a),this.renderTarget=null,this.sourceFrame=new n.Rectangle,this.destinationFrame=new n.Rectangle,this.filters=[],this.target=null,this.resolution=1},v=function(a){function b(c){g(this,b);var d=e(this,a.call(this,c));return d.gl=d.renderer.gl,d.quad=new m.default(d.gl,c.state.attribState),d.shaderCache={},d.pool={},d.filterData=null,d}return f(b,a),b.prototype.pushFilter=function(a,b){var c=this.renderer,d=this.filterData;if(!d){d=this.renderer._activeRenderTarget.filterStack;var e=new u;e.sourceFrame=e.destinationFrame=this.renderer._activeRenderTarget.size,e.renderTarget=c._activeRenderTarget,this.renderer._activeRenderTarget.filterData=d={index:0,stack:[e]},this.filterData=d}var f=d.stack[++d.index];f||(f=d.stack[d.index]=new u);var g=b[0].resolution,h=0|b[0].padding,i=a.filterArea||a.getBounds(!0),j=f.sourceFrame,k=f.destinationFrame;j.x=(i.x*g|0)/g,j.y=(i.y*g|0)/g,j.width=(i.width*g|0)/g,j.height=(i.height*g|0)/g,d.stack[0].renderTarget.transform||b[0].autoFit&&j.fit(d.stack[0].destinationFrame),j.pad(h),k.width=j.width,k.height=j.height;var l=this.getPotRenderTarget(c.gl,j.width,j.height,g);f.target=a,f.filters=b,f.resolution=g,f.renderTarget=l,l.setFrame(k,j),c.bindRenderTarget(l),l.clear()},b.prototype.popFilter=function(){var a=this.filterData,b=a.stack[a.index-1],c=a.stack[a.index];this.quad.map(c.renderTarget.size,c.sourceFrame).upload();var d=c.filters;if(1===d.length)d[0].apply(this,c.renderTarget,b.renderTarget,!1,c),this.freePotRenderTarget(c.renderTarget);else{var e=c.renderTarget,f=this.getPotRenderTarget(this.renderer.gl,c.sourceFrame.width,c.sourceFrame.height,c.resolution);f.setFrame(c.destinationFrame,c.sourceFrame),f.clear();var g=0;for(g=0;g<d.length-1;++g){d[g].apply(this,e,f,!0,c);var h=e;e=f,f=h}d[g].apply(this,e,b.renderTarget,!1,c),this.freePotRenderTarget(e),this.freePotRenderTarget(f)}0===--a.index&&(this.filterData=null)},b.prototype.applyFilter=function(a,b,c,d){var e=this.renderer,f=e.gl,g=a.glShaders[e.CONTEXT_UID];g||(a.glShaderKey?(g=this.shaderCache[a.glShaderKey])||(g=new p.default(this.gl,a.vertexSrc,a.fragmentSrc),a.glShaders[e.CONTEXT_UID]=this.shaderCache[a.glShaderKey]=g):g=a.glShaders[e.CONTEXT_UID]=new p.default(this.gl,a.vertexSrc,a.fragmentSrc),e.bindVao(null),this.quad.initVao(g)),e.bindVao(this.quad.vao),e.bindRenderTarget(c),d&&(f.disable(f.SCISSOR_TEST),e.clear(),f.enable(f.SCISSOR_TEST)),c===e.maskManager.scissorRenderTarget&&e.maskManager.pushScissorMask(null,e.maskManager.scissorData),e.bindShader(g);var h=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=h,this.syncUniforms(g,a),e.state.setBlendMode(a.blendMode),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,b.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),f.bindTexture(f.TEXTURE_2D,h._glTextures[this.renderer.CONTEXT_UID].texture)},b.prototype.syncUniforms=function(a,b){var c=b.uniformData,d=b.uniforms,e=1,f=void 0;if(a.uniforms.filterArea){f=this.filterData.stack[this.filterData.index];var g=a.uniforms.filterArea;g[0]=f.renderTarget.size.width,g[1]=f.renderTarget.size.height,g[2]=f.sourceFrame.x,g[3]=f.sourceFrame.y,a.uniforms.filterArea=g}if(a.uniforms.filterClamp){f=f||this.filterData.stack[this.filterData.index];var h=a.uniforms.filterClamp;h[0]=0,h[1]=0,h[2]=(f.sourceFrame.width-1)/f.renderTarget.size.width,h[3]=(f.sourceFrame.height-1)/f.renderTarget.size.height,a.uniforms.filterClamp=h}for(var i in c)if("sampler2D"===c[i].type&&0!==d[i]){if(d[i].baseTexture)a.uniforms[i]=this.renderer.bindTexture(d[i].baseTexture,e);else{a.uniforms[i]=e;var j=this.renderer.gl;this.renderer.boundTextures[e]=this.renderer.emptyTextures[e],j.activeTexture(j.TEXTURE0+e),d[i].texture.bind()}e++}else if("mat3"===c[i].type)void 0!==d[i].a?a.uniforms[i]=d[i].toArray(!0):a.uniforms[i]=d[i];else if("vec2"===c[i].type)if(void 0!==d[i].x){var k=a.uniforms[i]||new Float32Array(2);k[0]=d[i].x,k[1]=d[i].y,a.uniforms[i]=k}else a.uniforms[i]=d[i];else"float"===c[i].type?a.uniforms.data[i].value!==c[i]&&(a.uniforms[i]=d[i]):a.uniforms[i]=d[i]},b.prototype.getRenderTarget=function(a,b){var c=this.filterData.stack[this.filterData.index],d=this.getPotRenderTarget(this.renderer.gl,c.sourceFrame.width,c.sourceFrame.height,b||c.resolution);return d.setFrame(c.destinationFrame,c.sourceFrame),d},b.prototype.returnRenderTarget=function(a){this.freePotRenderTarget(a)},b.prototype.calculateScreenSpaceMatrix=function(a){var b=this.filterData.stack[this.filterData.index];return r.calculateScreenSpaceMatrix(a,b.sourceFrame,b.renderTarget.size)},b.prototype.calculateNormalizedScreenSpaceMatrix=function(a){var b=this.filterData.stack[this.filterData.index];return r.calculateNormalizedScreenSpaceMatrix(a,b.sourceFrame,b.renderTarget.size,b.destinationFrame)},b.prototype.calculateSpriteMatrix=function(a,b){var c=this.filterData.stack[this.filterData.index];return r.calculateSpriteMatrix(a,c.sourceFrame,c.renderTarget.size,b)},b.prototype.destroy=function(){this.shaderCache={},this.emptyPool()},b.prototype.getPotRenderTarget=function(a,b,c,d){b=t.default.nextPow2(b*d),c=t.default.nextPow2(c*d);var e=(65535&b)<<16|65535&c;this.pool[e]||(this.pool[e]=[]);var f=this.pool[e].pop();if(!f){
var g=this.renderer.boundTextures[0];a.activeTexture(a.TEXTURE0),f=new k.default(a,b,c,null,1),a.bindTexture(a.TEXTURE_2D,g._glTextures[this.renderer.CONTEXT_UID].texture)}return f.resolution=d,f.defaultFrame.width=f.size.width=b/d,f.defaultFrame.height=f.size.height=c/d,f},b.prototype.emptyPool=function(){for(var a in this.pool){var b=this.pool[a];if(b)for(var c=0;c<b.length;c++)b[c].destroy(!0)}this.pool={}},b.prototype.freePotRenderTarget=function(a){var b=a.size.width*a.resolution,c=a.size.height*a.resolution,d=(65535&b)<<16|65535&c;this.pool[d].push(a)},b}(i.default);c.default=v},{"../../../Shader":48,"../../../math":74,"../filters/filterTransforms":92,"../utils/Quad":99,"../utils/RenderTarget":100,"./WebGLManager":97,"bit-twiddle":2}],95:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=a("./WebGLManager"),i=d(h),j=a("../filters/spriteMask/SpriteMaskFilter"),k=d(j),l=function(a){function b(c){e(this,b);var d=f(this,a.call(this,c));return d.scissor=!1,d.scissorData=null,d.scissorRenderTarget=null,d.enableScissor=!0,d.alphaMaskPool=[],d.alphaMaskIndex=0,d}return g(b,a),b.prototype.pushMask=function(a,b){if(b.texture)this.pushSpriteMask(a,b);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&b.isFastRect()){var c=b.worldTransform,d=Math.atan2(c.b,c.a);d=Math.round(d*(180/Math.PI)),d%90?this.pushStencilMask(b):this.pushScissorMask(a,b)}else this.pushStencilMask(b)},b.prototype.popMask=function(a,b){b.texture?this.popSpriteMask(a,b):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(a,b):this.popStencilMask(a,b)},b.prototype.pushSpriteMask=function(a,b){var c=this.alphaMaskPool[this.alphaMaskIndex];c||(c=this.alphaMaskPool[this.alphaMaskIndex]=[new k.default(b)]),c[0].resolution=this.renderer.resolution,c[0].maskSprite=b,a.filterArea=b.getBounds(!0),this.renderer.filterManager.pushFilter(a,c),this.alphaMaskIndex++},b.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},b.prototype.pushStencilMask=function(a){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(a)},b.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},b.prototype.pushScissorMask=function(a,b){b.renderable=!0;var c=this.renderer._activeRenderTarget,d=b.getBounds();d.fit(c.size),b.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var e=this.renderer.resolution;this.renderer.gl.scissor(d.x*e,(c.root?c.size.height-d.y-d.height:d.y)*e,d.width*e,d.height*e),this.scissorRenderTarget=c,this.scissorData=b,this.scissor=!0},b.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var a=this.renderer.gl;a.disable(a.SCISSOR_TEST)},b}(i.default);c.default=l},{"../filters/spriteMask/SpriteMaskFilter":93,"./WebGLManager":97}],96:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=a("./WebGLManager"),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=function(a){function b(c){d(this,b);var f=e(this,a.call(this,c));return f.stencilMaskStack=null,f}return f(b,a),b.prototype.setMaskStack=function(a){this.stencilMaskStack=a;var b=this.renderer.gl;0===a.length?b.disable(b.STENCIL_TEST):b.enable(b.STENCIL_TEST)},b.prototype.pushStencil=function(a){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var b=this.renderer.gl,c=this.stencilMaskStack;0===c.length&&(b.enable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),b.stencilFunc(b.ALWAYS,1,1)),c.push(a),b.colorMask(!1,!1,!1,!1),b.stencilOp(b.KEEP,b.KEEP,b.INCR),this.renderer.plugins.graphics.render(a),b.colorMask(!0,!0,!0,!0),b.stencilFunc(b.NOTEQUAL,0,c.length),b.stencilOp(b.KEEP,b.KEEP,b.KEEP)},b.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var a=this.renderer.gl,b=this.stencilMaskStack,c=b.pop();0===b.length?a.disable(a.STENCIL_TEST):(a.colorMask(!1,!1,!1,!1),a.stencilOp(a.KEEP,a.KEEP,a.DECR),this.renderer.plugins.graphics.render(c),a.colorMask(!0,!0,!0,!0),a.stencilFunc(a.NOTEQUAL,0,b.length),a.stencilOp(a.KEEP,a.KEEP,a.KEEP))},b.prototype.destroy=function(){h.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},b}(h.default);c.default=i},{"./WebGLManager":97}],97:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(b){d(this,a),this.renderer=b,this.renderer.on("context",this.onContextChange,this)}return a.prototype.onContextChange=function(){},a.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},a}();c.default=e},{}],98:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=a("../managers/WebGLManager"),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=function(a){function b(){return d(this,b),e(this,a.apply(this,arguments))}return f(b,a),b.prototype.start=function(){},b.prototype.stop=function(){this.flush()},b.prototype.flush=function(){},b.prototype.render=function(a){},b}(h.default);c.default=i},{"../managers/WebGLManager":97}],99:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var f=a("pixi-gl-core"),g=d(f),h=a("../../../utils/createIndicesForQuads"),i=d(h),j=function(){function a(b,c){e(this,a),this.gl=b,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var d=0;d<4;d++)this.interleaved[4*d]=this.vertices[2*d],this.interleaved[4*d+1]=this.vertices[2*d+1],this.interleaved[4*d+2]=this.uvs[2*d],this.interleaved[4*d+3]=this.uvs[2*d+1];this.indices=(0,i.default)(1),this.vertexBuffer=g.default.GLBuffer.createVertexBuffer(b,this.interleaved,b.STATIC_DRAW),this.indexBuffer=g.default.GLBuffer.createIndexBuffer(b,this.indices,b.STATIC_DRAW),this.vao=new g.default.VertexArrayObject(b,c)}return a.prototype.initVao=function(a){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,a.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,a.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},a.prototype.map=function(a,b){var c=0,d=0;return this.uvs[0]=c,this.uvs[1]=d,this.uvs[2]=c+b.width/a.width,this.uvs[3]=d,this.uvs[4]=c+b.width/a.width,this.uvs[5]=d+b.height/a.height,this.uvs[6]=c,this.uvs[7]=d+b.height/a.height,c=b.x,d=b.y,this.vertices[0]=c,this.vertices[1]=d,this.vertices[2]=c+b.width,this.vertices[3]=d,this.vertices[4]=c+b.width,this.vertices[5]=d+b.height,this.vertices[6]=c,this.vertices[7]=d+b.height,this},a.prototype.upload=function(){for(var a=0;a<4;a++)this.interleaved[4*a]=this.vertices[2*a],this.interleaved[4*a+1]=this.vertices[2*a+1],this.interleaved[4*a+2]=this.uvs[2*a],this.interleaved[4*a+3]=this.uvs[2*a+1];return this.vertexBuffer.upload(this.interleaved),this},a.prototype.destroy=function(){var a=this.gl;a.deleteBuffer(this.vertexBuffer),a.deleteBuffer(this.indexBuffer)},a}();c.default=j},{"../../../utils/createIndicesForQuads":126,"pixi-gl-core":33}],100:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("../../../math"),f=a("../../../const"),g=a("../../../settings"),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=a("pixi-gl-core"),j=function(){function a(b,c,g,j,k,l){d(this,a),this.gl=b,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new e.Rectangle(0,0,1,1),this.resolution=k||h.default.RESOLUTION,this.projectionMatrix=new e.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new e.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0!==j?j:h.default.SCALE_MODE,this.root=l,this.root?(this.frameBuffer=new i.GLFramebuffer(b,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=i.GLFramebuffer.createRGBA(b,100,100),this.scaleMode===f.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(c,g)}return a.prototype.clear=function(a){var b=a||this.clearColor;this.frameBuffer.clear(b[0],b[1],b[2],b[3])},a.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},a.prototype.setFrame=function(a,b){this.destinationFrame=a||this.destinationFrame||this.defaultFrame,this.sourceFrame=b||this.sourceFrame||this.destinationFrame},a.prototype.activate=function(){var a=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(a.enable(a.SCISSOR_TEST),a.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):a.disable(a.SCISSOR_TEST),a.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},a.prototype.calculateProjection=function(a,b){var c=this.projectionMatrix;b=b||a,c.identity(),this.root?(c.a=1/a.width*2,c.d=-1/a.height*2,c.tx=-1-b.x*c.a,c.ty=1-b.y*c.d):(c.a=1/a.width*2,c.d=1/a.height*2,c.tx=-1-b.x*c.a,c.ty=-1-b.y*c.d)},a.prototype.resize=function(a,b){if(a|=0,b|=0,this.size.width!==a||this.size.height!==b){this.size.width=a,this.size.height=b,this.defaultFrame.width=a,this.defaultFrame.height=b,this.frameBuffer.resize(a*this.resolution,b*this.resolution);var c=this.frame||this.size;this.calculateProjection(c)}},a.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},a}();c.default=j},{"../../../const":50,"../../../math":74,"../../../settings":105,"pixi-gl-core":33}],101:[function(a,b,c){"use strict";function d(a,b){var c=!b;if(0===a)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(c){var d=document.createElement("canvas");d.width=1,d.height=1,b=g.default.createContext(d)}for(var f=b.createShader(b.FRAGMENT_SHADER);;){var i=h.replace(/%forloop%/gi,e(a));if(b.shaderSource(f,i),b.compileShader(f),b.getShaderParameter(f,b.COMPILE_STATUS))break;a=a/2|0}return c&&b.getExtension("WEBGL_lose_context")&&b.getExtension("WEBGL_lose_context").loseContext(),a}function e(a){for(var b="",c=0;c<a;++c)c>0&&(b+="\nelse "),c<a-1&&(b+="if(test == "+c+".0){}");return b}c.__esModule=!0,c.default=d;var f=a("pixi-gl-core"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n")},{"pixi-gl-core":33}],102:[function(a,b,c){"use strict";function d(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return b[e.BLEND_MODES.NORMAL]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.ADD]=[a.ONE,a.DST_ALPHA],b[e.BLEND_MODES.MULTIPLY]=[a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.SCREEN]=[a.ONE,a.ONE_MINUS_SRC_COLOR],b[e.BLEND_MODES.OVERLAY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.DARKEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.LIGHTEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.COLOR_DODGE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.COLOR_BURN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.HARD_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.SOFT_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.DIFFERENCE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.EXCLUSION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.HUE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.SATURATION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.COLOR]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.LUMINOSITY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.NORMAL_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA],b[e.BLEND_MODES.ADD_NPM]=[a.SRC_ALPHA,a.DST_ALPHA,a.ONE,a.DST_ALPHA],b[e.BLEND_MODES.SCREEN_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE_MINUS_SRC_COLOR],b}c.__esModule=!0,c.default=d;var e=a("../../../const")},{"../../../const":50}],103:[function(a,b,c){"use strict";function d(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b[e.DRAW_MODES.POINTS]=a.POINTS,b[e.DRAW_MODES.LINES]=a.LINES,b[e.DRAW_MODES.LINE_LOOP]=a.LINE_LOOP,b[e.DRAW_MODES.LINE_STRIP]=a.LINE_STRIP,b[e.DRAW_MODES.TRIANGLES]=a.TRIANGLES,b[e.DRAW_MODES.TRIANGLE_STRIP]=a.TRIANGLE_STRIP,b[e.DRAW_MODES.TRIANGLE_FAN]=a.TRIANGLE_FAN,b}c.__esModule=!0,c.default=d;var e=a("../../../const")},{"../../../const":50}],104:[function(a,b,c){"use strict";function d(a){a.getContextAttributes().stencil}c.__esModule=!0,c.default=d},{}],105:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("./utils/maxRecommendedTextures"),f=d(e),g=a("./utils/canUploadSameBuffer"),h=d(g);c.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,f.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,h.default)()}},{"./utils/canUploadSameBuffer":125,"./utils/maxRecommendedTextures":130}],106:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../math"),j=a("../utils"),k=a("../const"),l=a("../textures/Texture"),m=d(l),n=a("../display/Container"),o=d(n),p=new i.Point,q=function(a){function b(c){e(this,b);var d=f(this,a.call(this));return d._anchor=new i.ObservablePoint(d._onAnchorUpdate,d),d._texture=null,d._width=0,d._height=0,d._tint=null,d._tintRGB=null,d.tint=16777215,d.blendMode=k.BLEND_MODES.NORMAL,d.shader=null,d.cachedTint=16777215,d.texture=c||m.default.EMPTY,d.vertexData=new Float32Array(8),d.vertexTrimmedData=null,d._transformID=-1,d._textureID=-1,d._transformTrimmedID=-1,d._textureTrimmedID=-1,d.pluginName="sprite",d}return g(b,a),b.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._width&&(this.scale.x=(0,j.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,j.sign)(this.scale.y)*this._height/this._texture.orig.height)},b.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},b.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var a=this._texture,b=this.transform.worldTransform,c=b.a,d=b.b,e=b.c,f=b.d,g=b.tx,h=b.ty,i=this.vertexData,j=a.trim,k=a.orig,l=this._anchor,m=0,n=0,o=0,p=0;j?(n=j.x-l._x*k.width,m=n+j.width,p=j.y-l._y*k.height,o=p+j.height):(n=-l._x*k.width,m=n+k.width,p=-l._y*k.height,o=p+k.height),i[0]=c*n+e*p+g,i[1]=f*p+d*n+h,i[2]=c*m+e*p+g,i[3]=f*p+d*m+h,i[4]=c*m+e*o+g,i[5]=f*o+d*m+h,i[6]=c*n+e*o+g,i[7]=f*o+d*n+h}},b.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var a=this._texture,b=this.vertexTrimmedData,c=a.orig,d=this._anchor,e=this.transform.worldTransform,f=e.a,g=e.b,h=e.c,i=e.d,j=e.tx,k=e.ty,l=-d._x*c.width,m=l+c.width,n=-d._y*c.height,o=n+c.height;b[0]=f*l+h*n+j,b[1]=i*n+g*l+k,b[2]=f*m+h*n+j,b[3]=i*n+g*m+k,b[4]=f*m+h*o+j,b[5]=i*o+g*m+k,b[6]=f*l+h*o+j,b[7]=i*o+g*l+k},b.prototype._renderWebGL=function(a){this.calculateVertices(),a.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this)},b.prototype._renderCanvas=function(a){a.plugins[this.pluginName].render(this)},b.prototype._calculateBounds=function(){var a=this._texture.trim,b=this._texture.orig;!a||a.width===b.width&&a.height===b.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},b.prototype.getLocalBounds=function(b){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x),b||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),b=this._localBoundsRect),this._bounds.getRectangle(b)):a.prototype.getLocalBounds.call(this,b)},b.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,p);var b=this._texture.orig.width,c=this._texture.orig.height,d=-b*this.anchor.x,e=0;return p.x>=d&&p.x<d+b&&(e=-c*this.anchor.y,p.y>=e&&p.y<e+c)},b.prototype.destroy=function(b){if(a.prototype.destroy.call(this,b),this._anchor=null,"boolean"==typeof b?b:b&&b.texture){var c="boolean"==typeof b?b:b&&b.baseTexture;this._texture.destroy(!!c)}this._texture=null,this.shader=null},b.from=function(a){return new b(m.default.from(a))},b.fromFrame=function(a){var c=j.TextureCache[a];if(!c)throw new Error('The frameId "'+a+'" does not exist in the texture cache');return new b(c)},b.fromImage=function(a,c,d){return new b(m.default.fromImage(a,c,d))},h(b,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){var b=(0,j.sign)(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width,this._width=a}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){var b=(0,j.sign)(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height,this._height=a}},{key:"anchor",get:function(){return this._anchor},set:function(a){this._anchor.copy(a)}},{key:"tint",get:function(){return this._tint},set:function(a){this._tint=a,this._tintRGB=(a>>16)+(65280&a)+((255&a)<<16)}},{key:"texture",get:function(){return this._texture},set:function(a){this._texture!==a&&(this._texture=a,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,a&&(a.baseTexture.hasLoaded?this._onTextureUpdate():a.once("update",this._onTextureUpdate,this)))}}]),b}(o.default);c.default=q},{"../const":50,"../display/Container":52,"../math":74,"../textures/Texture":119,"../utils":128}],107:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var f=a("../../renderers/canvas/CanvasRenderer"),g=d(f),h=a("../../const"),i=a("../../math"),j=a("./CanvasTinter"),k=d(j),l=new i.Matrix,m=function(){function a(b){e(this,a),this.renderer=b}return a.prototype.render=function(a){var b=a._texture,c=this.renderer,d=b._frame.width,e=b._frame.height,f=a.transform.worldTransform,g=0,j=0;if(!(b.orig.width<=0||b.orig.height<=0)&&b.baseTexture.source&&(c.setBlendMode(a.blendMode),b.valid)){c.context.globalAlpha=a.worldAlpha;var m=b.baseTexture.scaleMode===h.SCALE_MODES.LINEAR;c.smoothProperty&&c.context[c.smoothProperty]!==m&&(c.context[c.smoothProperty]=m),b.trim?(g=b.trim.width/2+b.trim.x-a.anchor.x*b.orig.width,j=b.trim.height/2+b.trim.y-a.anchor.y*b.orig.height):(g=(.5-a.anchor.x)*b.orig.width,j=(.5-a.anchor.y)*b.orig.height),b.rotate&&(f.copy(l),f=l,i.GroupD8.matrixAppendRotationInv(f,b.rotate,g,j),g=0,j=0),g-=d/2,j-=e/2,c.roundPixels?(c.context.setTransform(f.a,f.b,f.c,f.d,f.tx*c.resolution|0,f.ty*c.resolution|0),g|=0,j|=0):c.context.setTransform(f.a,f.b,f.c,f.d,f.tx*c.resolution,f.ty*c.resolution);var n=b.baseTexture.resolution;16777215!==a.tint?(a.cachedTint===a.tint&&a.tintedTexture.tintId===a._texture._updateID||(a.cachedTint=a.tint,a.tintedTexture=k.default.getTintedTexture(a,a.tint)),c.context.drawImage(a.tintedTexture,0,0,d*n,e*n,g*c.resolution,j*c.resolution,d*c.resolution,e*c.resolution)):c.context.drawImage(b.baseTexture.source,b._frame.x*n,b._frame.y*n,d*n,e*n,g*c.resolution,j*c.resolution,d*c.resolution,e*c.resolution)}},a.prototype.destroy=function(){this.renderer=null},a}();c.default=m,g.default.registerPlugin("sprite",m)},{"../../const":50,"../../math":74,"../../renderers/canvas/CanvasRenderer":81,"./CanvasTinter":108}],108:[function(a,b,c){"use strict";c.__esModule=!0;var d=a("../../utils"),e=a("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g={getTintedTexture:function(a,b){var c=a._texture;b=g.roundColor(b);var d="#"+("00000"+(0|b).toString(16)).substr(-6);c.tintCache=c.tintCache||{};var e=c.tintCache[d],f=void 0;if(e){if(e.tintId===c._updateID)return c.tintCache[d];f=c.tintCache[d]}else f=g.canvas||document.createElement("canvas");if(g.tintMethod(c,b,f),f.tintId=c._updateID,g.convertTintToImage){var h=new Image;h.src=f.toDataURL(),c.tintCache[d]=h}else c.tintCache[d]=f,g.canvas=null;return f},tintWithMultiply:function(a,b,c){var d=c.getContext("2d"),e=a._frame.clone(),f=a.baseTexture.resolution;e.x*=f,e.y*=f,e.width*=f,e.height*=f,c.width=Math.ceil(e.width),c.height=Math.ceil(e.height),d.fillStyle="#"+("00000"+(0|b).toString(16)).substr(-6),d.fillRect(0,0,e.width,e.height),d.globalCompositeOperation="multiply",d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height),d.globalCompositeOperation="destination-atop",d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height)},tintWithOverlay:function(a,b,c){var d=c.getContext("2d"),e=a._frame.clone(),f=a.baseTexture.resolution;e.x*=f,e.y*=f,e.width*=f,e.height*=f,c.width=Math.ceil(e.width),c.height=Math.ceil(e.height),d.globalCompositeOperation="copy",d.fillStyle="#"+("00000"+(0|b).toString(16)).substr(-6),d.fillRect(0,0,e.width,e.height),d.globalCompositeOperation="destination-atop",d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height)},tintWithPerPixel:function(a,b,c){var e=c.getContext("2d"),f=a._frame.clone(),g=a.baseTexture.resolution;f.x*=g,f.y*=g,f.width*=g,f.height*=g,c.width=Math.ceil(f.width),c.height=Math.ceil(f.height),e.globalCompositeOperation="copy",e.drawImage(a.baseTexture.source,f.x,f.y,f.width,f.height,0,0,f.width,f.height);for(var h=(0,d.hex2rgb)(b),i=h[0],j=h[1],k=h[2],l=e.getImageData(0,0,f.width,f.height),m=l.data,n=0;n<m.length;n+=4)m[n+0]*=i,m[n+1]*=j,m[n+2]*=k;e.putImageData(l,0,0)},roundColor:function(a){var b=g.cacheStepsPerColorChannel,c=(0,d.hex2rgb)(a);return c[0]=Math.min(255,c[0]/b*b),c[1]=Math.min(255,c[1]/b*b),c[2]=Math.min(255,c[2]/b*b),(0,d.rgb2hex)(c)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,f.default)(),tintMethod:0};g.tintMethod=g.canUseMultiply?g.tintWithMultiply:g.tintWithPerPixel,c.default=g},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":84,"../../utils":128}],109:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(b){d(this,a),this.vertices=new ArrayBuffer(b),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return a.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},a}();c.default=e},{}],110:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=a("../../renderers/webgl/utils/ObjectRenderer"),i=d(h),j=a("../../renderers/webgl/WebGLRenderer"),k=d(j),l=a("../../utils/createIndicesForQuads"),m=d(l),n=a("./generateMultiTextureShader"),o=d(n),p=a("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),q=d(p),r=a("./BatchBuffer"),s=d(r),t=a("../../settings"),u=d(t),v=a("../../utils"),w=a("pixi-gl-core"),x=d(w),y=a("bit-twiddle"),z=d(y),A=0,B=0,C=function(a){function b(c){e(this,b);var d=f(this,a.call(this,c));d.vertSize=5,d.vertByteSize=4*d.vertSize,d.size=u.default.SPRITE_BATCH_SIZE,d.buffers=[];for(var g=1;g<=z.default.nextPow2(d.size);g*=2)d.buffers.push(new s.default(4*g*d.vertByteSize));d.indices=(0,m.default)(d.size),d.shader=null,d.currentIndex=0,d.groups=[];for(var h=0;h<d.size;h++)d.groups[h]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return d.sprites=[],d.vertexBuffers=[],d.vaos=[],d.vaoMax=2,d.vertexCount=0,d.renderer.on("prerender",d.onPrerender,d),d}return g(b,a),b.prototype.onContextChange=function(){var a=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),u.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,q.default)(this.MAX_TEXTURES,a)),this.shader=(0,o.default)(a,this.MAX_TEXTURES),this.indexBuffer=x.default.GLBuffer.createIndexBuffer(a,this.indices,a.STATIC_DRAW),this.renderer.bindVao(null);for(var b=this.shader.attributes,c=0;c<this.vaoMax;c++){var d=this.vertexBuffers[c]=x.default.GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW),e=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(d,b.aVertexPosition,a.FLOAT,!1,this.vertByteSize,0).addAttribute(d,b.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(d,b.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,12);b.aTextureId&&e.addAttribute(d,b.aTextureId,a.FLOAT,!1,this.vertByteSize,16),this.vaos[c]=e}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},b.prototype.onPrerender=function(){this.vertexCount=0},b.prototype.render=function(a){this.currentIndex>=this.size&&this.flush(),a._texture._uvs&&(this.sprites[this.currentIndex++]=a)},b.prototype.flush=function(){if(0!==this.currentIndex){var a=this.renderer.gl,b=this.MAX_TEXTURES,c=z.default.nextPow2(this.currentIndex),d=z.default.log2(c),e=this.buffers[d],f=this.sprites,g=this.groups,h=e.float32View,i=e.uint32View,j=this.boundTextures,k=this.renderer.boundTextures,l=this.renderer.textureGC.count,m=0,n=void 0,o=void 0,p=1,q=0,r=g[0],s=void 0,t=void 0,w=v.premultiplyBlendMode[f[0]._texture.baseTexture.premultipliedAlpha?1:0][f[0].blendMode];r.textureCount=0,r.start=0,r.blend=w,A++;var y=void 0;for(y=0;y<b;++y)j[y]=k[y],j[y]._virtalBoundId=y;for(y=0;y<this.currentIndex;++y){var C=f[y];n=C._texture.baseTexture;var D=v.premultiplyBlendMode[Number(n.premultipliedAlpha)][C.blendMode];if(w!==D&&(w=D,o=null,q=b,A++),o!==n&&(o=n,n._enabled!==A)){if(q===b&&(A++,r.size=y-r.start,q=0,r=g[p++],r.blend=w,r.textureCount=0,r.start=y),n.touched=l,-1===n._virtalBoundId)for(var E=0;E<b;++E){var F=(E+B)%b,G=j[F];if(G._enabled!==A){B++,G._virtalBoundId=-1,n._virtalBoundId=F,j[F]=n;break}}n._enabled=A,r.textureCount++,r.ids[q]=n._virtalBoundId,r.textures[q++]=n}if(s=C.vertexData,t=C._texture._uvs.uvsUint32,this.renderer.roundPixels){var H=this.renderer.resolution;h[m]=(s[0]*H|0)/H,h[m+1]=(s[1]*H|0)/H,h[m+5]=(s[2]*H|0)/H,h[m+6]=(s[3]*H|0)/H,h[m+10]=(s[4]*H|0)/H,h[m+11]=(s[5]*H|0)/H,h[m+15]=(s[6]*H|0)/H,h[m+16]=(s[7]*H|0)/H}else h[m]=s[0],h[m+1]=s[1],h[m+5]=s[2],h[m+6]=s[3],h[m+10]=s[4],h[m+11]=s[5],h[m+15]=s[6],h[m+16]=s[7];i[m+2]=t[0],i[m+7]=t[1],i[m+12]=t[2],i[m+17]=t[3];var I=Math.min(C.worldAlpha,1),J=I<1&&n.premultipliedAlpha?(0,v.premultiplyTint)(C._tintRGB,I):C._tintRGB+(255*I<<24);i[m+3]=i[m+8]=i[m+13]=i[m+18]=J,h[m+4]=h[m+9]=h[m+14]=h[m+19]=n._virtalBoundId,m+=20}if(r.size=y-r.start,u.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(e.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var K=this.shader.attributes,L=this.vertexBuffers[this.vertexCount]=x.default.GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW),M=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(L,K.aVertexPosition,a.FLOAT,!1,this.vertByteSize,0).addAttribute(L,K.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(L,K.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,12);K.aTextureId&&M.addAttribute(L,K.aTextureId,a.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=M}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(e.vertices,0,!1),this.vertexCount++}for(y=0;y<b;++y)k[y]._virtalBoundId=-1;for(y=0;y<p;++y){for(var N=g[y],O=N.textureCount,P=0;P<O;P++)o=N.textures[P],k[N.ids[P]]!==o&&this.renderer.bindTexture(o,N.ids[P],!0),o._virtalBoundId=-1;this.renderer.state.setBlendMode(N.blend),a.drawElements(a.TRIANGLES,6*N.size,a.UNSIGNED_SHORT,6*N.start*2)}
this.currentIndex=0}},b.prototype.start=function(){this.renderer.bindShader(this.shader),u.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},b.prototype.stop=function(){this.flush()},b.prototype.destroy=function(){for(var b=0;b<this.vaoMax;b++)this.vertexBuffers[b]&&this.vertexBuffers[b].destroy(),this.vaos[b]&&this.vaos[b].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),a.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var c=0;c<this.buffers.length;++c)this.buffers[c].destroy()},b}(i.default);c.default=C,k.default.registerPlugin("sprite",C)},{"../../renderers/webgl/WebGLRenderer":88,"../../renderers/webgl/utils/ObjectRenderer":98,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":101,"../../settings":105,"../../utils":128,"../../utils/createIndicesForQuads":126,"./BatchBuffer":109,"./generateMultiTextureShader":111,"bit-twiddle":2,"pixi-gl-core":33}],111:[function(a,b,c){"use strict";function d(a,b){var c=h;c=c.replace(/%count%/gi,b),c=c.replace(/%forloop%/gi,e(b));for(var d=new g.default(a,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",c),f=[],i=0;i<b;i++)f[i]=i;return d.bind(),d.uniforms.uSamplers=f,d}function e(a){var b="";b+="\n",b+="\n";for(var c=0;c<a;c++)c>0&&(b+="\nelse "),c<a-1&&(b+="if(textureId == "+c+".0)"),b+="\n{",b+="\n\tcolor = texture2D(uSamplers["+c+"], vTextureCoord);",b+="\n}";return b+="\n",b+="\n"}c.__esModule=!0,c.default=d;var f=a("../../Shader"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=(a("path"),["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n"))},{"../../Shader":48,path:19}],112:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../sprites/Sprite"),j=d(i),k=a("../textures/Texture"),l=d(k),m=a("../math"),n=a("../utils"),o=a("../const"),p=a("../settings"),q=d(p),r=a("./TextStyle"),s=d(r),t=a("./TextMetrics"),u=d(t),v=a("../utils/trimCanvas"),w=d(v),x={texture:!0,children:!1,baseTexture:!0},y=function(a){function b(c,d,g){e(this,b),g=g||document.createElement("canvas"),g.width=3,g.height=3;var h=l.default.fromCanvas(g,q.default.SCALE_MODE,"text");h.orig=new m.Rectangle,h.trim=new m.Rectangle;var i=f(this,a.call(this,h));return l.default.addToCache(i._texture,i._texture.baseTexture.textureCacheIds[0]),i.canvas=g,i.context=i.canvas.getContext("2d"),i.resolution=q.default.RESOLUTION,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=c,i.style=d,i.localStyleID=-1,i}return g(b,a),b.prototype.updateText=function(a){var b=this._style;if(this.localStyleID!==b.styleID&&(this.dirty=!0,this.localStyleID=b.styleID),this.dirty||!a){this._font=this._style.toFontString();var c=this.context,d=u.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),e=d.width,f=d.height,g=d.lines,h=d.lineHeight,i=d.lineWidths,j=d.maxLineWidth,k=d.fontProperties;this.canvas.width=Math.ceil((e+2*b.padding)*this.resolution),this.canvas.height=Math.ceil((f+2*b.padding)*this.resolution),c.scale(this.resolution,this.resolution),c.clearRect(0,0,this.canvas.width,this.canvas.height),c.font=this._font,c.strokeStyle=b.stroke,c.lineWidth=b.strokeThickness,c.textBaseline=b.textBaseline,c.lineJoin=b.lineJoin,c.miterLimit=b.miterLimit;var l=void 0,m=void 0;if(b.dropShadow){c.fillStyle=b.dropShadowColor,c.globalAlpha=b.dropShadowAlpha,c.shadowBlur=b.dropShadowBlur,b.dropShadowBlur>0&&(c.shadowColor=b.dropShadowColor);for(var n=Math.cos(b.dropShadowAngle)*b.dropShadowDistance,o=Math.sin(b.dropShadowAngle)*b.dropShadowDistance,p=0;p<g.length;p++)l=b.strokeThickness/2,m=b.strokeThickness/2+p*h+k.ascent,"right"===b.align?l+=j-i[p]:"center"===b.align&&(l+=(j-i[p])/2),b.fill&&(this.drawLetterSpacing(g[p],l+n+b.padding,m+o+b.padding),b.stroke&&b.strokeThickness&&(c.strokeStyle=b.dropShadowColor,this.drawLetterSpacing(g[p],l+n+b.padding,m+o+b.padding,!0),c.strokeStyle=b.stroke))}c.shadowBlur=0,c.globalAlpha=1,c.fillStyle=this._generateFillStyle(b,g);for(var q=0;q<g.length;q++)l=b.strokeThickness/2,m=b.strokeThickness/2+q*h+k.ascent,"right"===b.align?l+=j-i[q]:"center"===b.align&&(l+=(j-i[q])/2),b.stroke&&b.strokeThickness&&this.drawLetterSpacing(g[q],l+b.padding,m+b.padding,!0),b.fill&&this.drawLetterSpacing(g[q],l+b.padding,m+b.padding);this.updateTexture()}},b.prototype.drawLetterSpacing=function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]&&arguments[3],e=this._style,f=e.letterSpacing;if(0===f)return void(d?this.context.strokeText(a,b,c):this.context.fillText(a,b,c));for(var g=String.prototype.split.call(a,""),h=b,i=0,j="";i<a.length;)j=g[i++],d?this.context.strokeText(j,h,c):this.context.fillText(j,h,c),h+=this.context.measureText(j).width+f},b.prototype.updateTexture=function(){var a=this.canvas;if(this._style.trim){var b=(0,w.default)(a);a.width=b.width,a.height=b.height,this.context.putImageData(b.data,0,0)}var c=this._texture,d=this._style,e=d.trim?0:d.padding,f=c.baseTexture;f.hasLoaded=!0,f.resolution=this.resolution,f.realWidth=a.width,f.realHeight=a.height,f.width=a.width/this.resolution,f.height=a.height/this.resolution,c.trim.width=c._frame.width=a.width/this.resolution,c.trim.height=c._frame.height=a.height/this.resolution,c.trim.x=-e,c.trim.y=-e,c.orig.width=c._frame.width-2*e,c.orig.height=c._frame.height-2*e,this._onTextureUpdate(),f.emit("update",f),this.dirty=!1},b.prototype.renderWebGL=function(b){this.resolution!==b.resolution&&(this.resolution=b.resolution,this.dirty=!0),this.updateText(!0),a.prototype.renderWebGL.call(this,b)},b.prototype._renderCanvas=function(b){this.resolution!==b.resolution&&(this.resolution=b.resolution,this.dirty=!0),this.updateText(!0),a.prototype._renderCanvas.call(this,b)},b.prototype.getLocalBounds=function(b){return this.updateText(!0),a.prototype.getLocalBounds.call(this,b)},b.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},b.prototype._onStyleChange=function(){this.dirty=!0},b.prototype._generateFillStyle=function(a,b){if(!Array.isArray(a.fill))return a.fill;if(navigator.isCocoonJS)return a.fill[0];var c=void 0,d=void 0,e=void 0,f=void 0,g=this.canvas.width/this.resolution,h=this.canvas.height/this.resolution,i=a.fill.slice(),j=a.fillGradientStops.slice();if(!j.length)for(var k=i.length+1,l=1;l<k;++l)j.push(l/k);if(i.unshift(a.fill[0]),j.unshift(0),i.push(a.fill[a.fill.length-1]),j.push(1),a.fillGradientType===o.TEXT_GRADIENT.LINEAR_VERTICAL){c=this.context.createLinearGradient(g/2,0,g/2,h),d=(i.length+1)*b.length,e=0;for(var m=0;m<b.length;m++){e+=1;for(var n=0;n<i.length;n++)f="number"==typeof j[n]?j[n]/b.length+m/b.length:e/d,c.addColorStop(f,i[n]),e++}}else{c=this.context.createLinearGradient(0,h/2,g,h/2),d=i.length+1,e=1;for(var p=0;p<i.length;p++)f="number"==typeof j[p]?j[p]:e/d,c.addColorStop(f,i[p]),e++}return c},b.prototype.destroy=function(b){"boolean"==typeof b&&(b={children:b}),b=Object.assign({},x,b),a.prototype.destroy.call(this,b),this.context=null,this.canvas=null,this._style=null},h(b,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){this.updateText(!0);var b=(0,n.sign)(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width,this._width=a}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){this.updateText(!0);var b=(0,n.sign)(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height,this._height=a}},{key:"style",get:function(){return this._style},set:function(a){a=a||{},a instanceof s.default?this._style=a:this._style=new s.default(a),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(a){a=String(""===a||null===a||void 0===a?" ":a),this._text!==a&&(this._text=a,this.dirty=!0)}}]),b}(j.default);c.default=y},{"../const":50,"../math":74,"../settings":105,"../sprites/Sprite":106,"../textures/Texture":119,"../utils":128,"../utils/trimCanvas":133,"./TextMetrics":113,"./TextStyle":114}],113:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(b,c,e,f,g,h,i,j,k){d(this,a),this.text=b,this.style=c,this.width=e,this.height=f,this.lines=g,this.lineWidths=h,this.lineHeight=i,this.maxLineWidth=j,this.fontProperties=k}return a.measureText=function(b,c,d){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a._canvas;d=d||c.wordWrap;var f=c.toFontString(),g=a.measureFont(f),h=e.getContext("2d");h.font=f;for(var i=d?a.wordWrap(b,c,e):b,j=i.split(/(?:\r\n|\r|\n)/),k=new Array(j.length),l=0,m=0;m<j.length;m++){var n=h.measureText(j[m]).width+(j[m].length-1)*c.letterSpacing;k[m]=n,l=Math.max(l,n)}var o=l+c.strokeThickness;c.dropShadow&&(o+=c.dropShadowDistance);var p=c.lineHeight||g.fontSize+c.strokeThickness,q=Math.max(p,g.fontSize+c.strokeThickness)+(j.length-1)*p;return c.dropShadow&&(q+=c.dropShadowDistance),new a(b,c,o,q,j,k,p,l,g)},a.wordWrap=function(b,c){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a._canvas,e=d.getContext("2d"),f="",g=b.split("\n"),h=c.wordWrapWidth,i={},j=0;j<g.length;j++){for(var k=h,l=g[j].split(" "),m=0;m<l.length;m++){var n=e.measureText(l[m]).width;if(c.breakWords&&n>h)for(var o=l[m].split(""),p=0;p<o.length;p++){var q=o[p],r=i[q];void 0===r&&(r=e.measureText(q).width,i[q]=r),r>k?(f+="\n"+q,k=h-r):(0===p&&(f+=" "),f+=q,k-=r)}else{var s=n+e.measureText(" ").width;0===m||s>k?(m>0&&(f+="\n"),f+=l[m],k=h-n):(k-=s,f+=" "+l[m])}}j<g.length-1&&(f+="\n")}return f},a.measureFont=function(b){if(a._fonts[b])return a._fonts[b];var c={},d=a._canvas,e=a._context;e.font=b;var f=Math.ceil(e.measureText("|MÉq").width),g=Math.ceil(e.measureText("M").width),h=2*g;g=1.4*g|0,d.width=f,d.height=h,e.fillStyle="#f00",e.fillRect(0,0,f,h),e.font=b,e.textBaseline="alphabetic",e.fillStyle="#000",e.fillText("|MÉq",0,g);var i=e.getImageData(0,0,f,h).data,j=i.length,k=4*f,l=0,m=0,n=!1;for(l=0;l<g;++l){for(var o=0;o<k;o+=4)if(255!==i[m+o]){n=!0;break}if(n)break;m+=k}for(c.ascent=g-l,m=j-k,n=!1,l=h;l>g;--l){for(var p=0;p<k;p+=4)if(255!==i[m+p]){n=!0;break}if(n)break;m-=k}return c.descent=l-g,c.fontSize=c.ascent+c.descent,a._fonts[b]=c,c},a}();c.default=e;var f=document.createElement("canvas");f.width=f.height=10,e._canvas=f,e._context=f.getContext("2d"),e._fonts={}},{}],114:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){return"number"==typeof a?(0,j.hex2string)(a):("string"==typeof a&&0===a.indexOf("0x")&&(a=a.replace("0x","#")),a)}function f(a){if(Array.isArray(a)){for(var b=0;b<a.length;++b)a[b]=e(a[b]);return a}return e(a)}function g(a,b){if(!Array.isArray(a)||!Array.isArray(b))return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0}c.__esModule=!0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../const"),j=a("../utils"),k={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100},l=function(){function a(b){d(this,a),this.styleID=0,Object.assign(this,k,b)}return a.prototype.clone=function(){var b={};for(var c in k)b[c]=this[c];return new a(b)},a.prototype.reset=function(){Object.assign(this,k)},a.prototype.toFontString=function(){var a="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,b=this.fontFamily;Array.isArray(this.fontFamily)||(b=this.fontFamily.split(","));for(var c=b.length-1;c>=0;c--){var d=b[c].trim();/([\"\'])[^\'\"]+\1/.test(d)||(d='"'+d+'"'),b[c]=d}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+a+" "+b.join(",")},h(a,[{key:"align",get:function(){return this._align},set:function(a){this._align!==a&&(this._align=a,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(a){this._breakWords!==a&&(this._breakWords=a,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(a){this._dropShadow!==a&&(this._dropShadow=a,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(a){this._dropShadowAlpha!==a&&(this._dropShadowAlpha=a,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(a){this._dropShadowAngle!==a&&(this._dropShadowAngle=a,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(a){this._dropShadowBlur!==a&&(this._dropShadowBlur=a,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(a){var b=f(a);this._dropShadowColor!==b&&(this._dropShadowColor=b,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(a){this._dropShadowDistance!==a&&(this._dropShadowDistance=a,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(a){var b=f(a);this._fill!==b&&(this._fill=b,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(a){this._fillGradientType!==a&&(this._fillGradientType=a,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(a){g(this._fillGradientStops,a)||(this._fillGradientStops=a,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(a){this.fontFamily!==a&&(this._fontFamily=a,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(a){this._fontSize!==a&&(this._fontSize=a,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(a){this._fontStyle!==a&&(this._fontStyle=a,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(a){this._fontVariant!==a&&(this._fontVariant=a,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(a){this._fontWeight!==a&&(this._fontWeight=a,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(a){this._lineHeight!==a&&(this._lineHeight=a,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(a){this._lineJoin!==a&&(this._lineJoin=a,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(a){this._miterLimit!==a&&(this._miterLimit=a,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(a){this._padding!==a&&(this._padding=a,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(a){var b=f(a);this._stroke!==b&&(this._stroke=b,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(a){this._strokeThickness!==a&&(this._strokeThickness=a,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(a){this._textBaseline!==a&&(this._textBaseline=a,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(a){this._trim!==a&&(this._trim=a,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(a){this._wordWrap!==a&&(this._wordWrap=a,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(a){this._wordWrapWidth!==a&&(this._wordWrapWidth=a,this.styleID++)}}]),a}();c.default=l},{"../const":50,"../utils":128}],115:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=a("./BaseTexture"),i=d(h),j=a("../settings"),k=d(j),l=function(a){function b(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,g=arguments[2],h=arguments[3];e(this,b);var i=f(this,a.call(this,null,g));return i.resolution=h||k.default.RESOLUTION,i.width=c,i.height=d,i.realWidth=i.width*i.resolution,i.realHeight=i.height*i.resolution,i.scaleMode=void 0!==g?g:k.default.SCALE_MODE,i.hasLoaded=!0,i._glRenderTargets={},i._canvasRenderTarget=null,i.valid=!1,i}return g(b,a),b.prototype.resize=function(a,b){a===this.width&&b===this.height||(this.valid=a>0&&b>0,this.width=a,this.height=b,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},b.prototype.destroy=function(){a.prototype.destroy.call(this,!0),this.renderer=null},b}(i.default);c.default=l},{"../settings":105,"./BaseTexture":116}],116:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=a("../utils"),i=a("../settings"),j=d(i),k=a("eventemitter3"),l=d(k),m=a("../utils/determineCrossOrigin"),n=d(m),o=a("bit-twiddle"),p=d(o),q=function(a){function b(c,d,g){e(this,b);var i=f(this,a.call(this));return i.uid=(0,h.uid)(),i.touched=0,i.resolution=g||j.default.RESOLUTION,i.width=100,i.height=100,i.realWidth=100,i.realHeight=100,i.scaleMode=void 0!==d?d:j.default.SCALE_MODE,i.hasLoaded=!1,i.isLoading=!1,i.source=null,i.origSource=null,i.imageType=null,i.sourceScale=1,i.premultipliedAlpha=!0,i.imageUrl=null,i.isPowerOfTwo=!1,i.mipmap=j.default.MIPMAP_TEXTURES,i.wrapMode=j.default.WRAP_MODE,i._glTextures={},i._enabled=0,i._virtalBoundId=-1,i._destroyed=!1,i.textureCacheIds=[],c&&i.loadSource(c),i}return g(b,a),b.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},b.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=p.default.isPow2(this.realWidth)&&p.default.isPow2(this.realHeight)},b.prototype.loadSource=function(a){var b=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,b&&this.source&&(this.source.onload=null,this.source.onerror=null);var c=!this.source;if(this.source=a,(a.src&&a.complete||a.getContext)&&a.width&&a.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),c&&this.emit("loaded",this);else if(!a.getContext){this.isLoading=!0;var d=this;if(a.onload=function(){if(d._updateImageType(),a.onload=null,a.onerror=null,d.isLoading){if(d.isLoading=!1,d._sourceLoaded(),"svg"===d.imageType)return void d._loadSvgSource();d.emit("loaded",d)}},a.onerror=function(){a.onload=null,a.onerror=null,d.isLoading&&(d.isLoading=!1,d.emit("error",d))},a.complete&&a.src){if(a.onload=null,a.onerror=null,"svg"===d.imageType)return void d._loadSvgSource();this.isLoading=!1,a.width&&a.height?(this._sourceLoaded(),b&&this.emit("loaded",this)):b&&this.emit("error",this)}}},b.prototype._updateImageType=function(){if(this.imageUrl){var a=(0,h.decomposeDataUri)(this.imageUrl),b=void 0;if(a&&"image"===a.mediaType){var c=a.subType.split("+")[0];if(!(b=(0,h.getUrlFileExtension)("."+c)))throw new Error("Invalid image type in data URI.")}else(b=(0,h.getUrlFileExtension)(this.imageUrl))||(b="png");this.imageType=b}},b.prototype._loadSvgSource=function(){if("svg"===this.imageType){var a=(0,h.decomposeDataUri)(this.imageUrl);a?this._loadSvgSourceUsingDataUri(a):this._loadSvgSourceUsingXhr()}},b.prototype._loadSvgSourceUsingDataUri=function(a){var b=void 0;if("base64"===a.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");b=atob(a.data)}else b=a.data;this._loadSvgSourceUsingString(b)},b.prototype._loadSvgSourceUsingXhr=function(){var a=this,b=new XMLHttpRequest;b.onload=function(){if(b.readyState!==b.DONE||200!==b.status)throw new Error("Failed to load SVG using XHR.");a._loadSvgSourceUsingString(b.response)},b.onerror=function(){return a.emit("error",a)},b.open("GET",this.imageUrl,!0),b.send()},b.prototype._loadSvgSourceUsingString=function(a){var c=(0,h.getSvgSize)(a),d=c.width,e=c.height;if(!d||!e)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(d*this.sourceScale),this.realHeight=Math.round(e*this.sourceScale),this._updateDimensions();var f=document.createElement("canvas");f.width=this.realWidth,f.height=this.realHeight,f._pixiId="canvas_"+(0,h.uid)(),f.getContext("2d").drawImage(this.source,0,0,d,e,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=f,b.addToCache(this,f._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},b.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},b.prototype.destroy=function(){this.imageUrl&&(delete h.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),b.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},b.prototype.dispose=function(){this.emit("dispose",this)},b.prototype.updateSourceImage=function(a){this.source.src=a,this.loadSource(this.source)},b.fromImage=function(a,c,d,e){var f=h.BaseTextureCache[a];if(!f){var g=new Image;void 0===c&&0!==a.indexOf("data:")?g.crossOrigin=(0,n.default)(a):c&&(g.crossOrigin="string"==typeof c?c:"anonymous"),f=new b(g,d),f.imageUrl=a,e&&(f.sourceScale=e),f.resolution=(0,h.getResolutionOfUrl)(a),g.src=a,b.addToCache(f,a)}return f},b.fromCanvas=function(a,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";a._pixiId||(a._pixiId=d+"_"+(0,h.uid)());var e=h.BaseTextureCache[a._pixiId];return e||(e=new b(a,c),b.addToCache(e,a._pixiId)),e},b.from=function(a,c,d){if("string"==typeof a)return b.fromImage(a,void 0,c,d);if(a instanceof HTMLImageElement){var e=a.src,f=h.BaseTextureCache[e];return f||(f=new b(a,c),f.imageUrl=e,d&&(f.sourceScale=d),f.resolution=(0,h.getResolutionOfUrl)(e),b.addToCache(f,e)),f}return a instanceof HTMLCanvasElement?b.fromCanvas(a,c):a},b.addToCache=function(a,b){b&&(-1===a.textureCacheIds.indexOf(b)&&a.textureCacheIds.push(b),h.BaseTextureCache[b],h.BaseTextureCache[b]=a)},b.removeFromCache=function(a){if("string"==typeof a){var b=h.BaseTextureCache[a];if(b){var c=b.textureCacheIds.indexOf(a);return c>-1&&b.textureCacheIds.splice(c,1),delete h.BaseTextureCache[a],b}}else if(a&&a.textureCacheIds){for(var d=0;d<a.textureCacheIds.length;++d)delete h.BaseTextureCache[a.textureCacheIds[d]];return a.textureCacheIds.length=0,a}return null},b}(l.default);c.default=q},{"../settings":105,"../utils":128,"../utils/determineCrossOrigin":127,"bit-twiddle":2,eventemitter3:8}],117:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=a("./BaseRenderTexture"),i=d(h),j=a("./Texture"),k=d(j),l=function(a){function b(c,d){e(this,b);var g=null;if(!(c instanceof i.default)){var h=arguments[1],j=arguments[2],k=arguments[3],l=arguments[4];g=arguments[0],d=null,c=new i.default(h,j,k,l)}var m=f(this,a.call(this,c,d));return m.legacyRenderer=g,m.valid=!0,m._updateUvs(),m}return g(b,a),b.prototype.resize=function(a,b,c){this.valid=a>0&&b>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=b,c||this.baseTexture.resize(a,b),this._updateUvs()},b.create=function(a,c,d,e){return new b(new i.default(a,c,d,e))},b}(k.default);c.default=l},{"./BaseRenderTexture":115,"./Texture":119}],118:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("../"),g=a("../utils"),h=function(){function a(b,c){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,a),this.baseTexture=b,this.textures={},this.data=c,this.resolution=this._updateResolution(e||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e(a,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),a.prototype._updateResolution=function(a){var b=this.data.meta.scale,c=(0,g.getResolutionOfUrl)(a,null);return null===c&&(c=void 0!==b?parseFloat(b):1),1!==c&&(this.baseTexture.resolution=c,this.baseTexture.update()),c},a.prototype.parse=function(b){this._batchIndex=0,this._callback=b,this._frameKeys.length<=a.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},a.prototype._processFrames=function(b){for(var c=b,d=a.BATCH_SIZE;c-b<d&&c<this._frameKeys.length;){var e=this._frameKeys[c],g=this._frames[e].frame;if(g){var h=null,i=null,j=new f.Rectangle(0,0,this._frames[e].sourceSize.w/this.resolution,this._frames[e].sourceSize.h/this.resolution);h=this._frames[e].rotated?new f.Rectangle(g.x/this.resolution,g.y/this.resolution,g.h/this.resolution,g.w/this.resolution):new f.Rectangle(g.x/this.resolution,g.y/this.resolution,g.w/this.resolution,g.h/this.resolution),this._frames[e].trimmed&&(i=new f.Rectangle(this._frames[e].spriteSourceSize.x/this.resolution,this._frames[e].spriteSourceSize.y/this.resolution,g.w/this.resolution,g.h/this.resolution)),this.textures[e]=new f.Texture(this.baseTexture,h,j,i,this._frames[e].rotated?2:0),f.Texture.addToCache(this.textures[e],e)}c++}},a.prototype._parseComplete=function(){var a=this._callback;this._callback=null,this._batchIndex=0,a.call(this,this.textures)},a.prototype._nextBatch=function(){var b=this;this._processFrames(this._batchIndex*a.BATCH_SIZE),this._batchIndex++,setTimeout(function(){b._batchIndex*a.BATCH_SIZE<b._frameKeys.length?b._nextBatch():b._parseComplete()},0)},a.prototype.destroy=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var b in this.textures)this.textures[b].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,a&&this.baseTexture.destroy(),this.baseTexture=null},a}();c.default=h},{"../":69,"../utils":128}],119:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a){a.destroy=function(){},a.on=function(){},a.once=function(){},a.emit=function(){}}c.__esModule=!0;var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("./BaseTexture"),k=d(j),l=a("./VideoBaseTexture"),m=d(l),n=a("./TextureUvs"),o=d(n),p=a("eventemitter3"),q=d(p),r=a("../math"),s=a("../utils"),t=a("../settings"),u=d(t),v=function(a){function b(c,d,g,h,i){e(this,b);var j=f(this,a.call(this));if(j.noFrame=!1,d||(j.noFrame=!0,d=new r.Rectangle(0,0,1,1)),c instanceof b&&(c=c.baseTexture),j.baseTexture=c,j._frame=d,j.trim=h,j.valid=!1,j.requiresUpdate=!1,j._uvs=null,j.orig=g||d,j._rotate=Number(i||0),!0===i)j._rotate=2;else if(j._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return c.hasLoaded?(j.noFrame&&(d=new r.Rectangle(0,0,c.width,c.height),c.on("update",j.onBaseTextureUpdated,j)),j.frame=d):c.once("loaded",j.onBaseTextureLoaded,j),j._updateID=0,j.transform=null,j.textureCacheIds=[],j}return g(b,a),b.prototype.update=function(){this.baseTexture.update()},b.prototype.onBaseTextureLoaded=function(a){this._updateID++,this.noFrame?this.frame=new r.Rectangle(0,0,a.width,a.height):this.frame=this._frame,
this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},b.prototype.onBaseTextureUpdated=function(a){this._updateID++,this._frame.width=a.width,this._frame.height=a.height,this.emit("update",this)},b.prototype.destroy=function(a){this.baseTexture&&(a&&(s.TextureCache[this.baseTexture.imageUrl]&&b.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,b.removeFromCache(this),this.textureCacheIds=null},b.prototype.clone=function(){return new b(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},b.prototype._updateUvs=function(){this._uvs||(this._uvs=new o.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},b.fromImage=function(a,c,d,e){var f=s.TextureCache[a];return f||(f=new b(k.default.fromImage(a,c,d,e)),b.addToCache(f,a)),f},b.fromFrame=function(a){var b=s.TextureCache[a];if(!b)throw new Error('The frameId "'+a+'" does not exist in the texture cache');return b},b.fromCanvas=function(a,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new b(k.default.fromCanvas(a,c,d))},b.fromVideo=function(a,c){return"string"==typeof a?b.fromVideoUrl(a,c):new b(m.default.fromVideo(a,c))},b.fromVideoUrl=function(a,c){return new b(m.default.fromUrl(a,c))},b.from=function(a){if("string"==typeof a){var c=s.TextureCache[a];if(!c){return null!==a.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?b.fromVideoUrl(a):b.fromImage(a)}return c}return a instanceof HTMLImageElement?new b(k.default.from(a)):a instanceof HTMLCanvasElement?b.fromCanvas(a,u.default.SCALE_MODE,"HTMLCanvasElement"):a instanceof HTMLVideoElement?b.fromVideo(a):a instanceof k.default?new b(a):a},b.fromLoader=function(a,c,d){var e=new k.default(a,void 0,(0,s.getResolutionOfUrl)(c)),f=new b(e);return e.imageUrl=c,d||(d=c),k.default.addToCache(f.baseTexture,d),b.addToCache(f,d),d!==c&&(k.default.addToCache(f.baseTexture,c),b.addToCache(f,c)),f},b.addToCache=function(a,b){b&&(-1===a.textureCacheIds.indexOf(b)&&a.textureCacheIds.push(b),s.TextureCache[b],s.TextureCache[b]=a)},b.removeFromCache=function(a){if("string"==typeof a){var b=s.TextureCache[a];if(b){var c=b.textureCacheIds.indexOf(a);return c>-1&&b.textureCacheIds.splice(c,1),delete s.TextureCache[a],b}}else if(a&&a.textureCacheIds){for(var d=0;d<a.textureCacheIds.length;++d)delete s.TextureCache[a.textureCacheIds[d]];return a.textureCacheIds.length=0,a}return null},i(b,[{key:"frame",get:function(){return this._frame},set:function(a){if(this._frame=a,this.noFrame=!1,a.x+a.width>this.baseTexture.width||a.y+a.height>this.baseTexture.height)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+a.x+" + "+a.width+" > "+this.baseTexture.width+" Y: "+a.y+" + "+a.height+" > "+this.baseTexture.height);this.valid=a&&a.width&&a.height&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=a),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(a){this._rotate=a,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),b}(q.default);c.default=v,v.EMPTY=new v(new k.default),h(v.EMPTY),h(v.EMPTY.baseTexture),v.WHITE=function(){var a=document.createElement("canvas");a.width=10,a.height=10;var b=a.getContext("2d");return b.fillStyle="white",b.fillRect(0,0,10,10),new v(new k.default(a))}(),h(v.WHITE),h(v.WHITE.baseTexture)},{"../math":74,"../settings":105,"../utils":128,"./BaseTexture":116,"./TextureUvs":120,"./VideoBaseTexture":121,eventemitter3:8}],120:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("../math/GroupD8"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=function(){function a(){d(this,a),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return a.prototype.set=function(a,b,c){var d=b.width,e=b.height;if(c){var g=a.width/2/d,h=a.height/2/e,i=a.x/d+g,j=a.y/e+h;c=f.default.add(c,f.default.NW),this.x0=i+g*f.default.uX(c),this.y0=j+h*f.default.uY(c),c=f.default.add(c,2),this.x1=i+g*f.default.uX(c),this.y1=j+h*f.default.uY(c),c=f.default.add(c,2),this.x2=i+g*f.default.uX(c),this.y2=j+h*f.default.uY(c),c=f.default.add(c,2),this.x3=i+g*f.default.uX(c),this.y3=j+h*f.default.uY(c)}else this.x0=a.x/d,this.y0=a.y/e,this.x1=(a.x+a.width)/d,this.y1=a.y/e,this.x2=(a.x+a.width)/d,this.y2=(a.y+a.height)/e,this.x3=a.x/d,this.y3=(a.y+a.height)/e;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},a}();c.default=g},{"../math/GroupD8":70}],121:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function g(a,b){b||(b="video/"+a.substr(a.lastIndexOf(".")+1));var c=document.createElement("source");return c.src=a,c.type=b,c}c.__esModule=!0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./BaseTexture"),j=function(a){return a&&a.__esModule?a:{default:a}}(i),k=a("../utils"),l=a("../ticker"),m=a("../const"),n=function(a){function b(c,f){if(d(this,b),!c)throw new Error("No video source element specified.");(c.readyState===c.HAVE_ENOUGH_DATA||c.readyState===c.HAVE_FUTURE_DATA)&&c.width&&c.height&&(c.complete=!0);var g=e(this,a.call(this,c,f));return g.width=c.videoWidth,g.height=c.videoHeight,g._autoUpdate=!0,g._isAutoUpdating=!1,g.autoPlay=!0,g.update=g.update.bind(g),g._onCanPlay=g._onCanPlay.bind(g),c.addEventListener("play",g._onPlayStart.bind(g)),c.addEventListener("pause",g._onPlayStop.bind(g)),g.hasLoaded=!1,g.__loaded=!1,g._isSourceReady()?g._onCanPlay():(c.addEventListener("canplay",g._onCanPlay),c.addEventListener("canplaythrough",g._onCanPlay)),g}return f(b,a),b.prototype._isSourcePlaying=function(){var a=this.source;return a.currentTime>0&&!1===a.paused&&!1===a.ended&&a.readyState>2},b.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},b.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(l.shared.add(this.update,this,m.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},b.prototype._onPlayStop=function(){this._isAutoUpdating&&(l.shared.remove(this.update,this),this._isAutoUpdating=!1)},b.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},b.prototype.destroy=function(){this._isAutoUpdating&&l.shared.remove(this.update,this),this.source&&this.source._pixiId&&(j.default.removeFromCache(this.source._pixiId),delete this.source._pixiId),a.prototype.destroy.call(this)},b.fromVideo=function(a,c){a._pixiId||(a._pixiId="video_"+(0,k.uid)());var d=k.BaseTextureCache[a._pixiId];return d||(d=new b(a,c),j.default.addToCache(d,a._pixiId)),d},b.fromUrl=function(a,c){var d=document.createElement("video");if(d.setAttribute("webkit-playsinline",""),d.setAttribute("playsinline",""),Array.isArray(a))for(var e=0;e<a.length;++e)d.appendChild(g(a[e].src||a[e],a[e].mime));else d.appendChild(g(a.src||a,a.mime));return d.load(),b.fromVideo(d,c)},h(b,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(a){a!==this._autoUpdate&&(this._autoUpdate=a,!this._autoUpdate&&this._isAutoUpdating?(l.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(l.shared.add(this.update,this,m.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),b}(j.default);c.default=n,n.fromUrls=n.fromUrl},{"../const":50,"../ticker":124,"../utils":128,"./BaseTexture":116}],122:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("../settings"),h=d(g),i=a("../const"),j=a("./TickerListener"),k=d(j),l=function(){function a(){var b=this;e(this,a),this._head=new k.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/h.default.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1,this._tick=function(a){b._requestId=null,b.started&&(b.update(a),b.started&&null===b._requestId&&b._head.next&&(b._requestId=requestAnimationFrame(b._tick)))}}return a.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},a.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},a.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},a.prototype.add=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.UPDATE_PRIORITY.NORMAL;return this._addListener(new k.default(a,b,c))},a.prototype.addOnce=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.UPDATE_PRIORITY.NORMAL;return this._addListener(new k.default(a,b,c,!0))},a.prototype._addListener=function(a){var b=this._head.next,c=this._head;if(b){for(;b;){if(a.priority>b.priority){a.connect(c);break}c=b,b=b.next}a.previous||a.connect(c)}else a.connect(c);return this._startIfPossible(),this},a.prototype.remove=function(a,b){for(var c=this._head.next;c;)c=c.match(a,b)?c.destroy():c.next;return this._head.next||this._cancelIfNeeded(),this},a.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},a.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},a.prototype.destroy=function(){this.stop();for(var a=this._head.next;a;)a=a.destroy(!0);this._head.destroy(),this._head=null},a.prototype.update=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),b=void 0;if(a>this.lastTime){b=this.elapsedMS=a-this.lastTime,b>this._maxElapsedMS&&(b=this._maxElapsedMS),this.deltaTime=b*h.default.TARGET_FPMS*this.speed;for(var c=this._head,d=c.next;d;)d=d.emit(this.deltaTime);c.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=a},f(a,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(a){var b=Math.min(Math.max(0,a)/1e3,h.default.TARGET_FPMS);this._maxElapsedMS=1/b}}]),a}();c.default=l},{"../const":50,"../settings":105,"./TickerListener":123}],123:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];d(this,a),this.fn=b,this.context=c,this.priority=e,this.once=f,this.next=null,this.previous=null,this._destroyed=!1}return a.prototype.match=function(a,b){return b=b||null,this.fn===a&&this.context===b},a.prototype.emit=function(a){this.fn&&(this.context?this.fn.call(this.context,a):this.fn(a));var b=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),b},a.prototype.connect=function(a){this.previous=a,a.next&&(a.next.previous=this),this.next=a.next,a.next=this},a.prototype.destroy=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var b=this.previous;return this.next=a?null:b,this.previous=null,b},a}();c.default=e},{}],124:[function(a,b,c){"use strict";c.__esModule=!0,c.Ticker=c.shared=void 0;var d=a("./Ticker"),e=function(a){return a&&a.__esModule?a:{default:a}}(d),f=new e.default;f.autoStart=!0,f.destroy=function(){},c.shared=f,c.Ticker=e.default},{"./Ticker":122}],125:[function(a,b,c){"use strict";function d(){return!(!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}c.__esModule=!0,c.default=d},{}],126:[function(a,b,c){"use strict";function d(a){for(var b=6*a,c=new Uint16Array(b),d=0,e=0;d<b;d+=6,e+=4)c[d+0]=e+0,c[d+1]=e+1,c[d+2]=e+2,c[d+3]=e+0,c[d+4]=e+2,c[d+5]=e+3;return c}c.__esModule=!0,c.default=d},{}],127:[function(a,b,c){"use strict";function d(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===a.indexOf("data:"))return"";b=b||window.location,g||(g=document.createElement("a")),g.href=a,a=f.default.parse(g.href);var c=!a.port&&""===b.port||a.port===b.port;return a.hostname===b.hostname&&c&&a.protocol===b.protocol?"":"anonymous"}c.__esModule=!0,c.default=d;var e=a("url"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=void 0},{url:209}],128:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}function f(){return++M}function g(a,b){return b=b||[],b[0]=(a>>16&255)/255,b[1]=(a>>8&255)/255,b[2]=(255&a)/255,b}function h(a){return a=a.toString(16),"#"+(a="000000".substr(0,6-a.length)+a)}function i(a){return(255*a[0]<<16)+(255*a[1]<<8)+(255*a[2]|0)}function j(a,b){var c=z.default.RETINA_PREFIX.exec(a);return c?parseFloat(c[1]):void 0!==b?b:1}function k(a){var b=x.DATA_URI.exec(a);if(b)return{mediaType:b[1]?b[1].toLowerCase():void 0,subType:b[2]?b[2].toLowerCase():void 0,encoding:b[3]?b[3].toLowerCase():void 0,data:b[4]}}function l(a){var b=x.URL_FILE_EXTENSION.exec(a);if(b)return b[1].toLowerCase()}function m(a){var b=x.SVG_SIZE.exec(a),c={};return b&&(c[b[1]]=Math.round(parseFloat(b[3])),c[b[5]]=Math.round(parseFloat(b[7]))),c}function n(){N=!0}function o(a){if(!N){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var b=["\n %c %c %c Pixi.js "+x.VERSION+" - ✰ "+a+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,b)}else window.console&&window.console.log("Pixi.js "+x.VERSION+" - "+a+" - http://www.pixijs.com/");N=!0}}function p(){var a={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var b=document.createElement("canvas"),c=b.getContext("webgl",a)||b.getContext("experimental-webgl",a),d=!(!c||!c.getContextAttributes().stencil);if(c){var e=c.getExtension("WEBGL_lose_context");e&&e.loseContext()}return c=null,d}catch(a){return!1}}function q(a){return 0===a?0:a<0?-1:1}function r(){var a=void 0;for(a in O)O[a].destroy();for(a in P)P[a].destroy()}function s(){var a=void 0;for(a in O)delete O[a];for(a in P)delete P[a]}function t(a,b){return Q[b?1:0][a]}function u(a,b){if(1===b)return(255*b<<24)+a;if(0===b)return 0;var c=a>>16&255,d=a>>8&255,e=255&a;return c=c*b+.5|0,d=d*b+.5|0,e=e*b+.5|0,(255*b<<24)+(c<<16)+(d<<8)+e}function v(a,b,c,d){return c=c||new Float32Array(4),d||void 0===d?(c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b):(c[0]=a[0],c[1]=a[1],c[2]=a[2]),c[3]=b,c}function w(a,b,c,d){return c=c||new Float32Array(4),c[0]=(a>>16&255)/255,c[1]=(a>>8&255)/255,c[2]=(255&a)/255,(d||void 0===d)&&(c[0]*=b,c[1]*=b,c[2]*=b),c[3]=b,c}c.__esModule=!0,c.premultiplyBlendMode=c.BaseTextureCache=c.TextureCache=c.mixins=c.pluginTarget=c.EventEmitter=c.removeItems=c.isMobile=void 0,c.uid=f,c.hex2rgb=g,c.hex2string=h,c.rgb2hex=i,c.getResolutionOfUrl=j,c.decomposeDataUri=k,c.getUrlFileExtension=l,c.getSvgSize=m,c.skipHello=n,c.sayHello=o,c.isWebGLSupported=p,c.sign=q,c.destroyTextureCache=r,c.clearTextureCache=s,c.correctBlendMode=t,c.premultiplyTint=u,c.premultiplyRgba=v,c.premultiplyTintToRgba=w;var x=a("../const"),y=a("../settings"),z=e(y),A=a("eventemitter3"),B=e(A),C=a("./pluginTarget"),D=e(C),E=a("./mixin"),F=d(E),G=a("ismobilejs"),H=d(G),I=a("remove-array-items"),J=e(I),K=a("./mapPremultipliedBlendModes"),L=e(K),M=0,N=!1;c.isMobile=H,c.removeItems=J.default,c.EventEmitter=B.default,c.pluginTarget=D.default,c.mixins=F;var O=c.TextureCache=Object.create(null),P=c.BaseTextureCache=Object.create(null),Q=c.premultiplyBlendMode=(0,L.default)()},{"../const":50,"../settings":105,"./mapPremultipliedBlendModes":129,"./mixin":131,"./pluginTarget":132,eventemitter3:8,ismobilejs:14,"remove-array-items":197}],129:[function(a,b,c){"use strict";function d(){for(var a=[],b=[],c=0;c<32;c++)a[c]=c,b[c]=c;a[e.BLEND_MODES.NORMAL_NPM]=e.BLEND_MODES.NORMAL,a[e.BLEND_MODES.ADD_NPM]=e.BLEND_MODES.ADD,a[e.BLEND_MODES.SCREEN_NPM]=e.BLEND_MODES.SCREEN,b[e.BLEND_MODES.NORMAL]=e.BLEND_MODES.NORMAL_NPM,b[e.BLEND_MODES.ADD]=e.BLEND_MODES.ADD_NPM,b[e.BLEND_MODES.SCREEN]=e.BLEND_MODES.SCREEN_NPM;var d=[];return d.push(b),d.push(a),d}c.__esModule=!0,c.default=d;var e=a("../const")},{"../const":50}],130:[function(a,b,c){"use strict";function d(a){return f.default.tablet||f.default.phone?4:a}c.__esModule=!0,c.default=d;var e=a("ismobilejs"),f=function(a){return a&&a.__esModule?a:{default:a}}(e)},{ismobilejs:14}],131:[function(a,b,c){"use strict";function d(a,b){if(a&&b)for(var c=Object.keys(b),d=0;d<c.length;++d){var e=c[d];Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(b,e))}}function e(a,b){g.push(a,b)}function f(){for(var a=0;a<g.length;a+=2)d(g[a],g[a+1]);g.length=0}c.__esModule=!0,c.mixin=d,c.delayMixin=e,c.performMixins=f;var g=[]},{}],132:[function(a,b,c){"use strict";function d(a){a.__plugins={},a.registerPlugin=function(b,c){a.__plugins[b]=c},a.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var b in a.__plugins)this.plugins[b]=new a.__plugins[b](this)},a.prototype.destroyPlugins=function(){for(var a in this.plugins)this.plugins[a].destroy(),this.plugins[a]=null;this.plugins=null}}c.__esModule=!0,c.default={mixin:function(a){d(a)}}},{}],133:[function(a,b,c){"use strict";function d(a){var b=a.width,c=a.height,d=a.getContext("2d"),e=d.getImageData(0,0,b,c),f=e.data,g=f.length,h={top:null,left:null,right:null,bottom:null},i=void 0,j=void 0,k=void 0;for(i=0;i<g;i+=4)0!==f[i+3]&&(j=i/4%b,k=~~(i/4/b),null===h.top&&(h.top=k),null===h.left?h.left=j:j<h.left&&(h.left=j),null===h.right?h.right=j+1:h.right<j&&(h.right=j+1),null===h.bottom?h.bottom=k:h.bottom<k&&(h.bottom=k));return b=h.right-h.left,c=h.bottom-h.top+1,{height:c,width:b,data:d.getImageData(h.left,h.top,b,c)}}c.__esModule=!0,c.default=d},{}],134:[function(a,b,c){"use strict";function d(a){var b=(new Error).stack;void 0===b||(b=b.split("\n").splice(3).join("\n"),console.groupCollapsed)}function e(a){var b=a.mesh,c=a.particles,e=a.extras,f=a.filters,g=a.prepare,h=a.loaders,i=a.interaction;Object.defineProperties(a,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return d("You do not need to use a PIXI Stage any more, you can simply render any container."),a.Container}},DisplayObjectContainer:{get:function(){return d("DisplayObjectContainer has been shortened to Container, please use Container from now on."),a.Container}},Strip:{get:function(){return d("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),b.Mesh}},Rope:{get:function(){return d("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),b.Rope}},ParticleContainer:{get:function(){return d("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),c.ParticleContainer}},MovieClip:{get:function(){return d("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),e.AnimatedSprite}},TilingSprite:{get:function(){return d("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),e.TilingSprite}},BitmapText:{get:function(){return d("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),e.BitmapText}},blendModes:{get:function(){return d("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),a.BLEND_MODES}},scaleModes:{get:function(){return d("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),a.SCALE_MODES}},BaseTextureCache:{get:function(){return d("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),a.utils.BaseTextureCache}},TextureCache:{get:function(){return d("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),a.utils.TextureCache}},math:{get:function(){return d("The math namespace is deprecated, please access members already accessible on PIXI."),a}},AbstractFilter:{get:function(){return d("AstractFilter has been renamed to Filter, please use PIXI.Filter"),a.Filter}},TransformManual:{get:function(){return d("TransformManual has been renamed to TransformBase, please update your pixi-spine"),a.TransformBase}},TARGET_FPMS:{get:function(){return d("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),a.settings.TARGET_FPMS},set:function(b){d("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),a.settings.TARGET_FPMS=b}},FILTER_RESOLUTION:{get:function(){return d("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),a.settings.FILTER_RESOLUTION},set:function(b){d("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),a.settings.FILTER_RESOLUTION=b}},RESOLUTION:{get:function(){return d("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),a.settings.RESOLUTION},set:function(b){d("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),a.settings.RESOLUTION=b}},MIPMAP_TEXTURES:{get:function(){return d("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),a.settings.MIPMAP_TEXTURES},set:function(b){d("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),a.settings.MIPMAP_TEXTURES=b}},SPRITE_BATCH_SIZE:{get:function(){return d("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),a.settings.SPRITE_BATCH_SIZE},set:function(b){d("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),a.settings.SPRITE_BATCH_SIZE=b}},SPRITE_MAX_TEXTURES:{get:function(){return d("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),a.settings.SPRITE_MAX_TEXTURES},set:function(b){d("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),a.settings.SPRITE_MAX_TEXTURES=b}},RETINA_PREFIX:{get:function(){return d("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),a.settings.RETINA_PREFIX},set:function(b){d("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),a.settings.RETINA_PREFIX=b}},DEFAULT_RENDER_OPTIONS:{get:function(){return d("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),a.settings.RENDER_OPTIONS}}});for(var j=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],k=0;k<j.length;k++)!function(b){var c=j[b];Object.defineProperty(a[c.parent],"DEFAULT",{get:function(){return d("PIXI."+c.parent+".DEFAULT has been deprecated, please use PIXI.settings."+c.target),a.settings[c.target]},set:function(b){d("PIXI."+c.parent+".DEFAULT has been deprecated, please use PIXI.settings."+c.target),a.settings[c.target]=b}})}(k);Object.defineProperties(a.settings,{PRECISION:{get:function(){return d("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),a.settings.PRECISION_FRAGMENT},set:function(b){d("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),a.settings.PRECISION_FRAGMENT=b}}}),e.AnimatedSprite&&Object.defineProperties(e,{MovieClip:{get:function(){return d("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),e.AnimatedSprite}}}),a.DisplayObject.prototype.generateTexture=function(a,b,c){return d("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),a.generateTexture(this,b,c)},a.Graphics.prototype.generateTexture=function(a,b){return d("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(a,b)},a.RenderTexture.prototype.render=function(a,b,c,e){this.legacyRenderer.render(a,this,c,b,!e),d("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},a.RenderTexture.prototype.getImage=function(a){return d("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(a)},a.RenderTexture.prototype.getBase64=function(a){return d("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(a)},a.RenderTexture.prototype.getCanvas=function(a){return d("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(a)},a.RenderTexture.prototype.getPixels=function(a){return d("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(a)},a.Sprite.prototype.setTexture=function(a){this.texture=a,d("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},e.BitmapText&&(e.BitmapText.prototype.setText=function(a){this.text=a,d("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),a.Text.prototype.setText=function(a){this.text=a,d("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},a.Text.calculateFontProperties=function(b){return d("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),a.TextMetrics.measureFont(b)},Object.defineProperties(a.Text,{fontPropertiesCache:{get:function(){return d("Text.fontPropertiesCache is deprecated"),a.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return d("Text.fontPropertiesCanvas is deprecated"),a.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return d("Text.fontPropertiesContext is deprecated"),a.TextMetrics._context}}}),a.Text.prototype.setStyle=function(a){this.style=a,d("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},a.Text.prototype.determineFontProperties=function(b){return d("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),a.TextMetrics.measureFont(b)},a.Text.getFontStyle=function(b){return d("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),b=b||{},b instanceof a.TextStyle||(b=new a.TextStyle(b)),b.toFontString()},Object.defineProperties(a.TextStyle.prototype,{font:{get:function(){d("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var a="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+a+" "+this._fontFamily},set:function(a){d("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),a.indexOf("italic")>1?this._fontStyle="italic":a.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",a.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var b=a.split(" "),c=-1;this._fontSize=26;for(var e=0;e<b.length;++e)if(b[e].match(/(px|pt|em|%)/)){c=e,this._fontSize=b[e];break}this._fontWeight="normal";for(var f=0;f<c;++f)if(b[f].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=b[f];break}if(c>-1&&c<b.length-1){this._fontFamily="";for(var g=c+1;g<b.length;++g)this._fontFamily+=b[g]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),a.Texture.prototype.setFrame=function(a){this.frame=a,d("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},a.Texture.addTextureToCache=function(b,c){a.Texture.addToCache(b,c),d("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},a.Texture.removeTextureFromCache=function(b){return d("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),a.BaseTexture.removeFromCache(b),a.Texture.removeFromCache(b)},Object.defineProperties(f,{AbstractFilter:{get:function(){return d("AstractFilter has been renamed to Filter, please use PIXI.Filter"),a.AbstractFilter}},SpriteMaskFilter:{get:function(){return d("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),a.SpriteMaskFilter}}}),a.utils.uuid=function(){return d("utils.uuid() is deprecated, please use utils.uid() from now on."),a.utils.uid()},a.utils.canUseNewCanvasBlendModes=function(){return d("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),a.CanvasTinter.canUseMultiply};var l=!0;if(Object.defineProperty(a.utils,"_saidHello",{set:function(a){a&&(d("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),l=a},get:function(){return l}}),g.BasePrepare&&(g.BasePrepare.prototype.register=function(a,b){
return d("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),a&&this.registerFindHook(a),b&&this.registerUploadHook(b),this}),g.canvas&&Object.defineProperty(g.canvas,"UPLOADS_PER_FRAME",{set:function(){d("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return d("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),g.webgl&&Object.defineProperty(g.webgl,"UPLOADS_PER_FRAME",{set:function(){d("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return d("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),h.Loader){var m=h.Resource,n=h.Loader;Object.defineProperties(m.prototype,{isJson:{get:function(){return d("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===m.TYPE.JSON}},isXml:{get:function(){return d("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===m.TYPE.XML}},isImage:{get:function(){return d("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===m.TYPE.IMAGE}},isAudio:{get:function(){return d("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===m.TYPE.AUDIO}},isVideo:{get:function(){return d("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===m.TYPE.VIDEO}}}),Object.defineProperties(n.prototype,{before:{get:function(){return d("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return d("The after() method is deprecated, please use use()."),this.use}}})}i.interactiveTarget&&Object.defineProperty(i.interactiveTarget,"defaultCursor",{set:function(a){d("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=a},get:function(){return d("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),i.InteractionManager&&(Object.defineProperty(i.InteractionManager,"defaultCursorStyle",{set:function(a){d("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=a},get:function(){return d("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(i.InteractionManager,"currentCursorStyle",{set:function(a){d("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=a},get:function(){return d("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}c.__esModule=!0,c.default=e},{}],135:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("../../core"),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(e),g=new f.Rectangle,h=function(){function a(b){d(this,a),this.renderer=b,b.extract=this}return a.prototype.image=function(a){var b=new Image;return b.src=this.base64(a),b},a.prototype.base64=function(a){return this.canvas(a).toDataURL()},a.prototype.canvas=function(a){var b=this.renderer,c=void 0,d=void 0,e=void 0,h=void 0;a&&(h=a instanceof f.RenderTexture?a:b.generateTexture(a)),h?(c=h.baseTexture._canvasRenderTarget.context,d=h.baseTexture._canvasRenderTarget.resolution,e=h.frame):(c=b.rootContext,e=g,e.width=this.renderer.width,e.height=this.renderer.height);var i=e.width*d,j=e.height*d,k=new f.CanvasRenderTarget(i,j),l=c.getImageData(e.x*d,e.y*d,i,j);return k.context.putImageData(l,0,0),k.canvas},a.prototype.pixels=function(a){var b=this.renderer,c=void 0,d=void 0,e=void 0,h=void 0;return a&&(h=a instanceof f.RenderTexture?a:b.generateTexture(a)),h?(c=h.baseTexture._canvasRenderTarget.context,d=h.baseTexture._canvasRenderTarget.resolution,e=h.frame):(c=b.rootContext,e=g,e.width=b.width,e.height=b.height),c.getImageData(0,0,e.width*d,e.height*d).data},a.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},a}();c.default=h,f.CanvasRenderer.registerPlugin("extract",h)},{"../../core":69}],136:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("./webgl/WebGLExtract");Object.defineProperty(c,"webgl",{enumerable:!0,get:function(){return d(e).default}});var f=a("./canvas/CanvasExtract");Object.defineProperty(c,"canvas",{enumerable:!0,get:function(){return d(f).default}})},{"./canvas/CanvasExtract":135,"./webgl/WebGLExtract":137}],137:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=a("../../core"),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(e),g=new f.Rectangle,h=function(){function a(b){d(this,a),this.renderer=b,b.extract=this}return a.prototype.image=function(a){var b=new Image;return b.src=this.base64(a),b},a.prototype.base64=function(a){return this.canvas(a).toDataURL()},a.prototype.canvas=function(a){var b=this.renderer,c=void 0,d=void 0,e=void 0,h=!1,i=void 0;a&&(i=a instanceof f.RenderTexture?a:this.renderer.generateTexture(a)),i?(c=i.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],d=c.resolution,e=i.frame,h=!1):(c=this.renderer.rootRenderTarget,d=c.resolution,h=!0,e=g,e.width=c.size.width,e.height=c.size.height);var j=e.width*d,k=e.height*d,l=new f.CanvasRenderTarget(j,k);if(c){b.bindRenderTarget(c);var m=new Uint8Array(4*j*k),n=b.gl;n.readPixels(e.x*d,e.y*d,j,k,n.RGBA,n.UNSIGNED_BYTE,m);var o=l.context.getImageData(0,0,j,k);o.data.set(m),l.context.putImageData(o,0,0),h&&(l.context.scale(1,-1),l.context.drawImage(l.canvas,0,-k))}return l.canvas},a.prototype.pixels=function(a){var b=this.renderer,c=void 0,d=void 0,e=void 0,h=void 0;a&&(h=a instanceof f.RenderTexture?a:this.renderer.generateTexture(a)),h?(c=h.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],d=c.resolution,e=h.frame):(c=this.renderer.rootRenderTarget,d=c.resolution,e=g,e.width=c.size.width,e.height=c.size.height);var i=e.width*d,j=e.height*d,k=new Uint8Array(4*i*j);if(c){b.bindRenderTarget(c);var l=b.gl;l.readPixels(e.x*d,e.y*d,i,j,l.RGBA,l.UNSIGNED_BYTE,k)}return k},a.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},a}();c.default=h,f.WebGLRenderer.registerPlugin("extract",h)},{"../../core":69}],138:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("../core"),i=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(h),j=function(a){function b(c,f){d(this,b);var g=e(this,a.call(this,c[0]instanceof i.Texture?c[0]:c[0].texture));return g._textures=null,g._durations=null,g.textures=c,g._autoUpdate=!1!==f,g.animationSpeed=1,g.loop=!0,g.onComplete=null,g.onFrameChange=null,g.onLoop=null,g._currentTime=0,g.playing=!1,g}return f(b,a),b.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&i.ticker.shared.remove(this.update,this))},b.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.HIGH))},b.prototype.gotoAndStop=function(a){this.stop();var b=this.currentFrame;this._currentTime=a,b!==this.currentFrame&&this.updateTexture()},b.prototype.gotoAndPlay=function(a){var b=this.currentFrame;this._currentTime=a,b!==this.currentFrame&&this.updateTexture(),this.play()},b.prototype.update=function(a){var b=this.animationSpeed*a,c=this.currentFrame;if(null!==this._durations){var d=this._currentTime%1*this._durations[this.currentFrame];for(d+=b/60*1e3;d<0;)this._currentTime--,d+=this._durations[this.currentFrame];var e=Math.sign(this.animationSpeed*a);for(this._currentTime=Math.floor(this._currentTime);d>=this._durations[this.currentFrame];)d-=this._durations[this.currentFrame]*e,this._currentTime+=e;this._currentTime+=d/this._durations[this.currentFrame]}else this._currentTime+=b;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):c!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<c?this.onLoop():this.animationSpeed<0&&this.currentFrame>c&&this.onLoop()),this.updateTexture())},b.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.onFrameChange&&this.onFrameChange(this.currentFrame)},b.prototype.destroy=function(b){this.stop(),a.prototype.destroy.call(this,b)},b.fromFrames=function(a){for(var c=[],d=0;d<a.length;++d)c.push(i.Texture.fromFrame(a[d]));return new b(c)},b.fromImages=function(a){for(var c=[],d=0;d<a.length;++d)c.push(i.Texture.fromImage(a[d]));return new b(c)},g(b,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(a){if(a[0]instanceof i.Texture)this._textures=a,this._durations=null;else{this._textures=[],this._durations=[];for(var b=0;b<a.length;b++)this._textures.push(a[b].texture),this._durations.push(a[b].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var a=Math.floor(this._currentTime)%this._textures.length;return a<0&&(a+=this._textures.length),a}}]),b}(i.Sprite);c.default=j},{"../core":69}],139:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../core"),j=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(i),k=a("../core/math/ObservablePoint"),l=d(k),m=a("../core/settings"),n=d(m),o=function(a){function b(c){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,b);var g=f(this,a.call(this));return g._textWidth=0,g._textHeight=0,g._glyphs=[],g._font={tint:void 0!==d.tint?d.tint:16777215,align:d.align||"left",name:null,size:0},g.font=d.font,g._text=c,g._maxWidth=0,g._maxLineHeight=0,g._anchor=new l.default(function(){g.dirty=!0},g,0,0),g.dirty=!1,g.updateText(),g}return g(b,a),b.prototype.updateText=function(){for(var a=b.fonts[this._font.name],c=this._font.size/a.size,d=new j.Point,e=[],f=[],g=null,h=0,i=0,k=0,l=-1,m=0,n=0,o=0,p=0;p<this.text.length;p++){var q=this.text.charCodeAt(p);if(/(\s)/.test(this.text.charAt(p))&&(l=p,m=h),/(?:\r\n|\r|\n)/.test(this.text.charAt(p)))f.push(h),i=Math.max(i,h),k++,d.x=0,d.y+=a.lineHeight,g=null;else if(-1!==l&&this._maxWidth>0&&d.x*c>this._maxWidth)j.utils.removeItems(e,l-n,p-l),p=l,l=-1,++n,f.push(m),i=Math.max(i,m),k++,d.x=0,d.y+=a.lineHeight,g=null;else{var r=a.chars[q];r&&(g&&r.kerning[g]&&(d.x+=r.kerning[g]),e.push({texture:r.texture,line:k,charCode:q,position:new j.Point(d.x+r.xOffset,d.y+r.yOffset)}),h=d.x+(r.texture.width+r.xOffset),d.x+=r.xAdvance,o=Math.max(o,r.yOffset+r.texture.height),g=q)}}f.push(h),i=Math.max(i,h);for(var s=[],t=0;t<=k;t++){var u=0;"right"===this._font.align?u=i-f[t]:"center"===this._font.align&&(u=(i-f[t])/2),s.push(u)}for(var v=e.length,w=this.tint,x=0;x<v;x++){var y=this._glyphs[x];y?y.texture=e[x].texture:(y=new j.Sprite(e[x].texture),this._glyphs.push(y)),y.position.x=(e[x].position.x+s[e[x].line])*c,y.position.y=e[x].position.y*c,y.scale.x=y.scale.y=c,y.tint=w,y.parent||this.addChild(y)}for(var z=v;z<this._glyphs.length;++z)this.removeChild(this._glyphs[z]);if(this._textWidth=i*c,this._textHeight=(d.y+a.lineHeight)*c,0!==this.anchor.x||0!==this.anchor.y)for(var A=0;A<v;A++)this._glyphs[A].x-=this._textWidth*this.anchor.x,this._glyphs[A].y-=this._textHeight*this.anchor.y;this._maxLineHeight=o*c},b.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},b.prototype.getLocalBounds=function(){return this.validate(),a.prototype.getLocalBounds.call(this)},b.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},b.registerFont=function(a,c){var d={},e=a.getElementsByTagName("info")[0],f=a.getElementsByTagName("common")[0],g=c.baseTexture.resolution||n.default.RESOLUTION;d.font=e.getAttribute("face"),d.size=parseInt(e.getAttribute("size"),10),d.lineHeight=parseInt(f.getAttribute("lineHeight"),10)/g,d.chars={};for(var h=a.getElementsByTagName("char"),i=0;i<h.length;i++){var k=h[i],l=parseInt(k.getAttribute("id"),10),m=new j.Rectangle(parseInt(k.getAttribute("x"),10)/g+c.frame.x/g,parseInt(k.getAttribute("y"),10)/g+c.frame.y/g,parseInt(k.getAttribute("width"),10)/g,parseInt(k.getAttribute("height"),10)/g);d.chars[l]={xOffset:parseInt(k.getAttribute("xoffset"),10)/g,yOffset:parseInt(k.getAttribute("yoffset"),10)/g,xAdvance:parseInt(k.getAttribute("xadvance"),10)/g,kerning:{},texture:new j.Texture(c.baseTexture,m)}}for(var o=a.getElementsByTagName("kerning"),p=0;p<o.length;p++){var q=o[p],r=parseInt(q.getAttribute("first"),10)/g,s=parseInt(q.getAttribute("second"),10)/g,t=parseInt(q.getAttribute("amount"),10)/g;d.chars[s]&&(d.chars[s].kerning[r]=t)}return b.fonts[d.font]=d,d},h(b,[{key:"tint",get:function(){return this._font.tint},set:function(a){this._font.tint="number"==typeof a&&a>=0?a:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(a){this._font.align=a||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(a){"number"==typeof a?this._anchor.set(a):this._anchor.copy(a)}},{key:"font",get:function(){return this._font},set:function(a){a&&("string"==typeof a?(a=a.split(" "),this._font.name=1===a.length?a[0]:a.slice(1).join(" "),this._font.size=a.length>=2?parseInt(a[0],10):b.fonts[this._font.name].size):(this._font.name=a.name,this._font.size="number"==typeof a.size?a.size:parseInt(a.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(a){a=a.toString()||" ",this._text!==a&&(this._text=a,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(a){this._maxWidth!==a&&(this._maxWidth=a,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),b}(j.Container);c.default=o,o.fonts={}},{"../core":69,"../core/math/ObservablePoint":72,"../core/settings":105}],140:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("../core/math/Matrix"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=new g.default,i=function(){function a(b,c){d(this,a),this._texture=b,this.mapCoord=new g.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===c?.5:c}return a.prototype.multiplyUvs=function(a,b){void 0===b&&(b=a);for(var c=this.mapCoord,d=0;d<a.length;d+=2){var e=a[d],f=a[d+1];b[d]=e*c.a+f*c.c+c.tx,b[d+1]=e*c.b+f*c.d+c.ty}return b},a.prototype.update=function(a){var b=this._texture;if(!b||!b.valid)return!1;if(!a&&this._lastTextureID===b._updateID)return!1;this._lastTextureID=b._updateID;var c=b._uvs;this.mapCoord.set(c.x1-c.x0,c.y1-c.y0,c.x3-c.x0,c.y3-c.y0,c.x0,c.y0);var d=b.orig,e=b.trim;e&&(h.set(d.width/e.width,0,0,d.height/e.height,-e.x/e.width,-e.y/e.height),this.mapCoord.append(h));var f=b.baseTexture,g=this.uClampFrame,i=this.clampMargin/f.resolution,j=this.clampOffset;return g[0]=(b._frame.x+i+j)/f.width,g[1]=(b._frame.y+i+j)/f.height,g[2]=(b._frame.x+b._frame.width-i+j)/f.width,g[3]=(b._frame.y+b._frame.height-i+j)/f.height,this.uClampOffset[0]=j/f.realWidth,this.uClampOffset[1]=j/f.realHeight,!0},e(a,[{key:"texture",get:function(){return this._texture},set:function(a){this._texture=a,this._lastTextureID=-1}}]),a}();c.default=i},{"../core/math/Matrix":71}],141:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../core"),j=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(i),k=a("../core/sprites/canvas/CanvasTinter"),l=d(k),m=a("./TextureTransform"),n=d(m),o=new j.Point,p=function(a){function b(c){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;e(this,b);var h=f(this,a.call(this,c));return h.tileTransform=new j.TransformStatic,h._width=d,h._height=g,h._canvasPattern=null,h.uvTransform=c.transform||new n.default(c),h.pluginName="tilingSprite",h.uvRespectAnchor=!1,h}return g(b,a),b.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture)},b.prototype._renderWebGL=function(a){var b=this._texture;b&&b.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),a.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this))},b.prototype._renderCanvas=function(a){var b=this._texture;if(b.baseTexture.hasLoaded){var c=a.context,d=this.worldTransform,e=a.resolution,f=b.baseTexture,g=f.resolution,h=this.tilePosition.x/this.tileScale.x%b._frame.width*g,i=this.tilePosition.y/this.tileScale.y%b._frame.height*g;if(!this._canvasPattern){var k=new j.CanvasRenderTarget(b._frame.width,b._frame.height,g);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=l.default.getTintedTexture(this,this.tint)),k.context.drawImage(this.tintedTexture,0,0)):k.context.drawImage(f.source,-b._frame.x*g,-b._frame.y*g),this._canvasPattern=k.context.createPattern(k.canvas,"repeat")}c.globalAlpha=this.worldAlpha,c.setTransform(d.a*e,d.b*e,d.c*e,d.d*e,d.tx*e,d.ty*e),a.setBlendMode(this.blendMode),c.fillStyle=this._canvasPattern,c.scale(this.tileScale.x/g,this.tileScale.y/g);var m=this.anchor.x*-this._width,n=this.anchor.y*-this._height;this.uvRespectAnchor?(c.translate(h,i),c.fillRect(-h+m,-i+n,this._width/this.tileScale.x*g,this._height/this.tileScale.y*g)):(c.translate(h+m,i+n),c.fillRect(-h,-i,this._width/this.tileScale.x*g,this._height/this.tileScale.y*g))}},b.prototype._calculateBounds=function(){var a=this._width*-this._anchor._x,b=this._height*-this._anchor._y,c=this._width*(1-this._anchor._x),d=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,a,b,c,d)},b.prototype.getLocalBounds=function(b){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),b||(this._localBoundsRect||(this._localBoundsRect=new j.Rectangle),b=this._localBoundsRect),this._bounds.getRectangle(b)):a.prototype.getLocalBounds.call(this,b)},b.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,o);var b=this._width,c=this._height,d=-b*this.anchor._x;if(o.x>=d&&o.x<d+b){var e=-c*this.anchor._y;if(o.y>=e&&o.y<e+c)return!0}return!1},b.prototype.destroy=function(b){a.prototype.destroy.call(this,b),this.tileTransform=null,this.uvTransform=null},b.from=function(a,c,d){return new b(j.Texture.from(a),c,d)},b.fromFrame=function(a,c,d){var e=j.utils.TextureCache[a];if(!e)throw new Error('The frameId "'+a+'" does not exist in the texture cache '+this);return new b(e,c,d)},b.fromImage=function(a,c,d,e,f){return new b(j.Texture.fromImage(a,e,f),c,d)},h(b,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(a){this.uvTransform.clampMargin=a,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(a){this.tileTransform.scale.copy(a)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(a){this.tileTransform.position.copy(a)}},{key:"width",get:function(){return this._width},set:function(a){this._width=a}},{key:"height",get:function(){return this._height},set:function(a){this._height=a}}]),b}(j.Sprite);c.default=p},{"../core":69,"../core/sprites/canvas/CanvasTinter":108,"./TextureTransform":140}],142:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var f=a("../core"),g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(f),h=a("../core/textures/Texture"),i=d(h),j=a("../core/textures/BaseTexture"),k=d(j),l=a("../core/utils"),m=g.DisplayObject,n=new g.Matrix;m.prototype._cacheAsBitmap=!1,m.prototype._cacheData=!1;var o=function a(){e(this,a),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(m.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(a){if(this._cacheAsBitmap!==a){this._cacheAsBitmap=a;var b=void 0;a?(this._cacheData||(this._cacheData=new o),b=this._cacheData,b.originalRenderWebGL=this.renderWebGL,b.originalRenderCanvas=this.renderCanvas,b.originalUpdateTransform=this.updateTransform,b.originalCalculateBounds=this._calculateBounds,b.originalGetLocalBounds=this.getLocalBounds,b.originalDestroy=this.destroy,b.originalContainsPoint=this.containsPoint,b.originalMask=this._mask,b.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(b=this._cacheData,b.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=b.originalRenderWebGL,this.renderCanvas=b.originalRenderCanvas,this._calculateBounds=b.originalCalculateBounds,this.getLocalBounds=b.originalGetLocalBounds,this.destroy=b.originalDestroy,this.updateTransform=b.originalUpdateTransform,this.containsPoint=b.originalContainsPoint,this._mask=b.originalMask,this.filterArea=b.originalFilterArea)}}}}),m.prototype._renderCachedWebGL=function(a){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(a),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(a))},m.prototype._initCachedDisplayObject=function(a){if(!this._cacheData||!this._cacheData.sprite){var b=this.alpha;this.alpha=1,a.currentRenderer.flush();var c=this.getLocalBounds().clone();if(this._filters){var d=this._filters[0].padding;c.pad(d)}var e=a._activeRenderTarget,f=a.filterManager.filterStack,h=g.RenderTexture.create(0|c.width,0|c.height),j="cacheAsBitmap_"+(0,l.uid)();this._cacheData.textureCacheId=j,k.default.addToCache(h.baseTexture,j),i.default.addToCache(h,j);var m=n;m.tx=-c.x,m.ty=-c.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,a.render(this,h,!0,m,!0),a.bindRenderTarget(e),a.filterManager.filterStack=f,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var o=new g.Sprite(h);o.transform.worldTransform=this.transform.worldTransform,o.anchor.x=-c.x/c.width,o.anchor.y=-c.y/c.height,o.alpha=b,o._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=o,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=a._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=o.containsPoint.bind(o)}},m.prototype._renderCachedCanvas=function(a){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(a),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(a))},m.prototype._initCachedDisplayObjectCanvas=function(a){if(!this._cacheData||!this._cacheData.sprite){var b=this.getLocalBounds(),c=this.alpha;this.alpha=1;var d=a.context,e=g.RenderTexture.create(0|b.width,0|b.height),f="cacheAsBitmap_"+(0,l.uid)();this._cacheData.textureCacheId=f,k.default.addToCache(e.baseTexture,f),i.default.addToCache(e,f);var h=n;this.transform.localTransform.copy(h),h.invert(),h.tx-=b.x,h.ty-=b.y,this.renderCanvas=this._cacheData.originalRenderCanvas,a.render(this,e,!0,h,!1),a.context=d,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var j=new g.Sprite(e);j.transform.worldTransform=this.transform.worldTransform,j.anchor.x=-b.x/b.width,j.anchor.y=-b.y/b.height,j._bounds=this._bounds,j.alpha=c,this.parent?this.updateTransform():(this.parent=a._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=j,this.containsPoint=j.containsPoint.bind(j)}},m.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},m.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},m.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,k.default.removeFromCache(this._cacheData.textureCacheId),i.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},m.prototype._cacheAsBitmapDestroy=function(a){this.cacheAsBitmap=!1,this.destroy(a)}},{"../core":69,"../core/textures/BaseTexture":116,"../core/textures/Texture":119,"../core/utils":128}],143:[function(a,b,c){"use strict";var d=a("../core"),e=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(d);e.DisplayObject.prototype.name=null,e.Container.prototype.getChildByName=function(a){for(var b=0;b<this.children.length;b++)if(this.children[b].name===a)return this.children[b];return null}},{"../core":69}],144:[function(a,b,c){"use strict";var d=a("../core"),e=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(d);e.DisplayObject.prototype.getGlobalPosition=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new e.Point,b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,a,b):(a.x=this.position.x,a.y=this.position.y),a}},{"../core":69}],145:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0,c.BitmapText=c.TilingSpriteRenderer=c.TilingSprite=c.TextureTransform=c.AnimatedSprite=void 0;var e=a("./AnimatedSprite");Object.defineProperty(c,"AnimatedSprite",{enumerable:!0,get:function(){return d(e).default}});var f=a("./TextureTransform");Object.defineProperty(c,"TextureTransform",{enumerable:!0,get:function(){return d(f).default}});var g=a("./TilingSprite");Object.defineProperty(c,"TilingSprite",{enumerable:!0,get:function(){return d(g).default}});var h=a("./webgl/TilingSpriteRenderer");Object.defineProperty(c,"TilingSpriteRenderer",{enumerable:!0,get:function(){return d(h).default}});var i=a("./BitmapText");Object.defineProperty(c,"BitmapText",{enumerable:!0,get:function(){return d(i).default}}),a("./cacheAsBitmap"),a("./getChildByName"),a("./getGlobalPosition")},{"./AnimatedSprite":138,"./BitmapText":139,"./TextureTransform":140,"./TilingSprite":141,"./cacheAsBitmap":142,"./getChildByName":143,"./getGlobalPosition":144,"./webgl/TilingSpriteRenderer":146}],146:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=a("../../core"),h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(g),i=a("../../core/const"),j=(a("path"),new h.Matrix),k=function(a){function b(c){d(this,b);var f=e(this,a.call(this,c));return f.shader=null,f.simpleShader=null,f.quad=null,f}return f(b,a),b.prototype.onContextChange=function(){var a=this.renderer.gl
;this.shader=new h.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n"),this.simpleShader=new h.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n"),this.renderer.bindVao(null),this.quad=new h.Quad(a,this.renderer.state.attribState),this.quad.initVao(this.shader)},b.prototype.render=function(a){var b=this.renderer,c=this.quad;b.bindVao(c.vao);var d=c.vertices;d[0]=d[6]=a._width*-a.anchor.x,d[1]=d[3]=a._height*-a.anchor.y,d[2]=d[4]=a._width*(1-a.anchor.x),d[5]=d[7]=a._height*(1-a.anchor.y),a.uvRespectAnchor&&(d=c.uvs,d[0]=d[6]=-a.anchor.x,d[1]=d[3]=-a.anchor.y,d[2]=d[4]=1-a.anchor.x,d[5]=d[7]=1-a.anchor.y),c.upload();var e=a._texture,f=e.baseTexture,g=a.tileTransform.localTransform,k=a.uvTransform,l=f.isPowerOfTwo&&e.frame.width===f.width&&e.frame.height===f.height;l&&(f._glTextures[b.CONTEXT_UID]?l=f.wrapMode!==i.WRAP_MODES.CLAMP:f.wrapMode===i.WRAP_MODES.CLAMP&&(f.wrapMode=i.WRAP_MODES.REPEAT));var m=l?this.simpleShader:this.shader;b.bindShader(m);var n=e.width,o=e.height,p=a._width,q=a._height;j.set(g.a*n/p,g.b*n/q,g.c*o/p,g.d*o/q,g.tx/p,g.ty/q),j.invert(),l?j.prepend(k.mapCoord):(m.uniforms.uMapCoord=k.mapCoord.toArray(!0),m.uniforms.uClampFrame=k.uClampFrame,m.uniforms.uClampOffset=k.uClampOffset),m.uniforms.uTransform=j.toArray(!0),m.uniforms.uColor=h.utils.premultiplyTintToRgba(a.tint,a.worldAlpha,m.uniforms.uColor,f.premultipliedAlpha),m.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0),m.uniforms.uSampler=b.bindTexture(e),b.setBlendMode(h.utils.correctBlendMode(a.blendMode,f.premultipliedAlpha)),c.vao.draw(this.renderer.gl.TRIANGLES,6,0)},b}(h.ObjectRenderer);c.default=k,h.WebGLRenderer.registerPlugin("tilingSprite",k)},{"../../core":69,"../../core/const":50,path:19}],147:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../../core"),j=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(i),k=a("./BlurXFilter"),l=d(k),m=a("./BlurYFilter"),n=d(m),o=function(a){function b(c,d,g,h){e(this,b);var i=f(this,a.call(this));return i.blurXFilter=new l.default(c,d,g,h),i.blurYFilter=new n.default(c,d,g,h),i.padding=0,i.resolution=g||j.settings.RESOLUTION,i.quality=d||4,i.blur=c||8,i}return g(b,a),b.prototype.apply=function(a,b,c){var d=a.getRenderTarget(!0);this.blurXFilter.apply(a,b,d,!0),this.blurYFilter.apply(a,d,c,!1),a.returnRenderTarget(d)},h(b,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(a){this.blurXFilter.quality=this.blurYFilter.quality=a}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}}]),b}(j.Filter);c.default=o},{"../../core":69,"./BlurXFilter":148,"./BlurYFilter":149}],148:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../../core"),j=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(i),k=a("./generateBlurVertSource"),l=d(k),m=a("./generateBlurFragSource"),n=d(m),o=a("./getMaxBlurKernelSize"),p=d(o),q=function(a){function b(c,d,g,h){e(this,b),h=h||5;var i=(0,l.default)(h,!0),k=(0,n.default)(h),m=f(this,a.call(this,i,k));return m.resolution=g||j.settings.RESOLUTION,m._quality=0,m.quality=d||4,m.strength=c||8,m.firstRun=!0,m}return g(b,a),b.prototype.apply=function(a,b,c,d){if(this.firstRun){var e=a.renderer.gl,f=(0,p.default)(e);this.vertexSrc=(0,l.default)(f,!0),this.fragmentSrc=(0,n.default)(f),this.firstRun=!1}if(this.uniforms.strength=1/c.size.width*(c.size.width/b.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)a.applyFilter(this,b,c,d);else{for(var g=a.getRenderTarget(!0),h=b,i=g,j=0;j<this.passes-1;j++){a.applyFilter(this,h,i,!0);var k=i;i=h,h=k}a.applyFilter(this,h,c,d),a.returnRenderTarget(g)}},h(b,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=2*Math.abs(a),this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this._quality=a,this.passes=a}}]),b}(j.Filter);c.default=q},{"../../core":69,"./generateBlurFragSource":150,"./generateBlurVertSource":151,"./getMaxBlurKernelSize":152}],149:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../../core"),j=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(i),k=a("./generateBlurVertSource"),l=d(k),m=a("./generateBlurFragSource"),n=d(m),o=a("./getMaxBlurKernelSize"),p=d(o),q=function(a){function b(c,d,g,h){e(this,b),h=h||5;var i=(0,l.default)(h,!1),k=(0,n.default)(h),m=f(this,a.call(this,i,k));return m.resolution=g||j.settings.RESOLUTION,m._quality=0,m.quality=d||4,m.strength=c||8,m.firstRun=!0,m}return g(b,a),b.prototype.apply=function(a,b,c,d){if(this.firstRun){var e=a.renderer.gl,f=(0,p.default)(e);this.vertexSrc=(0,l.default)(f,!1),this.fragmentSrc=(0,n.default)(f),this.firstRun=!1}if(this.uniforms.strength=1/c.size.height*(c.size.height/b.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)a.applyFilter(this,b,c,d);else{for(var g=a.getRenderTarget(!0),h=b,i=g,j=0;j<this.passes-1;j++){a.applyFilter(this,h,i,!0);var k=i;i=h,h=k}a.applyFilter(this,h,c,d),a.returnRenderTarget(g)}},h(b,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=2*Math.abs(a),this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this._quality=a,this.passes=a}}]),b}(j.Filter);c.default=q},{"../../core":69,"./generateBlurFragSource":150,"./generateBlurVertSource":151,"./getMaxBlurKernelSize":152}],150:[function(a,b,c){"use strict";function d(a){for(var b=e[a],c=b.length,d=f,g="",h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",i=void 0,j=0;j<a;j++){var k=h.replace("%index%",j);i=j,j>=c&&(i=a-j-1),k=k.replace("%value%",b[i]),g+=k,g+="\n"}return d=d.replace("%blur%",g),d=d.replace("%size%",a)}c.__esModule=!0,c.default=d;var e={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},f=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},{}],151:[function(a,b,c){"use strict";function d(a,b){var c=Math.ceil(a/2),d=e,f="",g=void 0;g=b?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var h=0;h<a;h++){var i=g.replace("%index%",h);i=i.replace("%sampleIndex%",h-(c-1)+".0"),f+=i,f+="\n"}return d=d.replace("%blur%",f),d=d.replace("%size%",a)}c.__esModule=!0,c.default=d;var e=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},{}],152:[function(a,b,c){"use strict";function d(a){for(var b=a.getParameter(a.MAX_VARYING_VECTORS),c=15;c>b;)c-=2;return c}c.__esModule=!0,c.default=d},{}],153:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("../../core"),i=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(h),j=(a("path"),function(a){function b(){d(this,b);var c=e(this,a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return c.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],c.alpha=1,c}return f(b,a),b.prototype._loadMatrix=function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=a;b&&(this._multiply(c,this.uniforms.m,a),c=this._colorMatrix(c)),this.uniforms.m=c},b.prototype._multiply=function(a,b,c){return a[0]=b[0]*c[0]+b[1]*c[5]+b[2]*c[10]+b[3]*c[15],a[1]=b[0]*c[1]+b[1]*c[6]+b[2]*c[11]+b[3]*c[16],a[2]=b[0]*c[2]+b[1]*c[7]+b[2]*c[12]+b[3]*c[17],a[3]=b[0]*c[3]+b[1]*c[8]+b[2]*c[13]+b[3]*c[18],a[4]=b[0]*c[4]+b[1]*c[9]+b[2]*c[14]+b[3]*c[19]+b[4],a[5]=b[5]*c[0]+b[6]*c[5]+b[7]*c[10]+b[8]*c[15],a[6]=b[5]*c[1]+b[6]*c[6]+b[7]*c[11]+b[8]*c[16],a[7]=b[5]*c[2]+b[6]*c[7]+b[7]*c[12]+b[8]*c[17],a[8]=b[5]*c[3]+b[6]*c[8]+b[7]*c[13]+b[8]*c[18],a[9]=b[5]*c[4]+b[6]*c[9]+b[7]*c[14]+b[8]*c[19]+b[9],a[10]=b[10]*c[0]+b[11]*c[5]+b[12]*c[10]+b[13]*c[15],a[11]=b[10]*c[1]+b[11]*c[6]+b[12]*c[11]+b[13]*c[16],a[12]=b[10]*c[2]+b[11]*c[7]+b[12]*c[12]+b[13]*c[17],a[13]=b[10]*c[3]+b[11]*c[8]+b[12]*c[13]+b[13]*c[18],a[14]=b[10]*c[4]+b[11]*c[9]+b[12]*c[14]+b[13]*c[19]+b[14],a[15]=b[15]*c[0]+b[16]*c[5]+b[17]*c[10]+b[18]*c[15],a[16]=b[15]*c[1]+b[16]*c[6]+b[17]*c[11]+b[18]*c[16],a[17]=b[15]*c[2]+b[16]*c[7]+b[17]*c[12]+b[18]*c[17],a[18]=b[15]*c[3]+b[16]*c[8]+b[17]*c[13]+b[18]*c[18],a[19]=b[15]*c[4]+b[16]*c[9]+b[17]*c[14]+b[18]*c[19]+b[19],a},b.prototype._colorMatrix=function(a){var b=new Float32Array(a);return b[4]/=255,b[9]/=255,b[14]/=255,b[19]/=255,b},b.prototype.brightness=function(a,b){var c=[a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(c,b)},b.prototype.greyscale=function(a,b){var c=[a,a,a,0,0,a,a,a,0,0,a,a,a,0,0,0,0,0,1,0];this._loadMatrix(c,b)},b.prototype.blackAndWhite=function(a){var b=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(b,a)},b.prototype.hue=function(a,b){a=(a||0)/180*Math.PI;var c=Math.cos(a),d=Math.sin(a),e=Math.sqrt,f=1/3,g=e(f),h=c+(1-c)*f,i=f*(1-c)-g*d,j=f*(1-c)+g*d,k=f*(1-c)+g*d,l=c+f*(1-c),m=f*(1-c)-g*d,n=f*(1-c)-g*d,o=f*(1-c)+g*d,p=c+f*(1-c),q=[h,i,j,0,0,k,l,m,0,0,n,o,p,0,0,0,0,0,1,0];this._loadMatrix(q,b)},b.prototype.contrast=function(a,b){var c=(a||0)+1,d=-128*(c-1),e=[c,0,0,0,d,0,c,0,0,d,0,0,c,0,d,0,0,0,1,0];this._loadMatrix(e,b)},b.prototype.saturate=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments[1],c=2*a/3+1,d=-.5*(c-1),e=[c,d,d,0,0,d,c,d,0,0,d,d,c,0,0,0,0,0,1,0];this._loadMatrix(e,b)},b.prototype.desaturate=function(){this.saturate(-1)},b.prototype.negative=function(a){var b=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(b,a)},b.prototype.sepia=function(a){var b=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(b,a)},b.prototype.technicolor=function(a){var b=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(b,a)},b.prototype.polaroid=function(a){var b=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(b,a)},b.prototype.toBGR=function(a){var b=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(b,a)},b.prototype.kodachrome=function(a){var b=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(b,a)},b.prototype.browni=function(a){var b=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(b,a)},b.prototype.vintage=function(a){var b=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(b,a)},b.prototype.colorTone=function(a,b,c,d,e){a=a||.2,b=b||.15,c=c||16770432,d=d||3375104;var f=(c>>16&255)/255,g=(c>>8&255)/255,h=(255&c)/255,i=(d>>16&255)/255,j=(d>>8&255)/255,k=(255&d)/255,l=[.3,.59,.11,0,0,f,g,h,a,0,i,j,k,b,0,f-i,g-j,h-k,0,0];this._loadMatrix(l,e)},b.prototype.night=function(a,b){a=a||.1;var c=[-2*a,-a,0,0,0,-a,0,a,0,0,0,a,2*a,0,0,0,0,0,1,0];this._loadMatrix(c,b)},b.prototype.predator=function(a,b){var c=[11.224130630493164*a,-4.794486999511719*a,-2.8746118545532227*a,0*a,.40342438220977783*a,-3.6330697536468506*a,9.193157196044922*a,-2.951810836791992*a,0*a,-1.316135048866272*a,-3.2184197902679443*a,-4.2375030517578125*a,7.476448059082031*a,0*a,.8044459223747253*a,0,0,0,1,0];this._loadMatrix(c,b)},b.prototype.lsd=function(a){var b=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(b,a)},b.prototype.reset=function(){var a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(a,!1)},g(b,[{key:"matrix",get:function(){return this.uniforms.m},set:function(a){this.uniforms.m=a}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a}}]),b}(i.Filter));c.default=j,j.prototype.grayscale=j.prototype.greyscale},{"../../core":69,path:19}],154:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("../../core"),i=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(h),j=(a("path"),function(a){function b(c,f){d(this,b);var g=new i.Matrix;c.renderable=!1;var h=e(this,a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return h.maskSprite=c,h.maskMatrix=g,h.uniforms.mapSampler=c._texture,h.uniforms.filterMatrix=g,h.uniforms.scale={x:1,y:1},null!==f&&void 0!==f||(f=20),h.scale=new i.Point(f,f),h}return f(b,a),b.prototype.apply=function(a,b,c){var d=1/c.destinationFrame.width*(c.size.width/b.size.width);this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x*d,this.uniforms.scale.y=this.scale.y*d,a.applyFilter(this,b,c)},g(b,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(a){this.uniforms.mapSampler=a}}]),b}(i.Filter));c.default=j},{"../../core":69,path:19}],155:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=a("../../core"),h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(g),i=(a("path"),function(a){function b(){return d(this,b),e(this,a.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return f(b,a),b}(h.Filter));c.default=i},{"../../core":69,path:19}],156:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("./fxaa/FXAAFilter");Object.defineProperty(c,"FXAAFilter",{enumerable:!0,get:function(){return d(e).default}});var f=a("./noise/NoiseFilter");Object.defineProperty(c,"NoiseFilter",{enumerable:!0,get:function(){return d(f).default}});var g=a("./displacement/DisplacementFilter");Object.defineProperty(c,"DisplacementFilter",{enumerable:!0,get:function(){return d(g).default}});var h=a("./blur/BlurFilter");Object.defineProperty(c,"BlurFilter",{enumerable:!0,get:function(){return d(h).default}});var i=a("./blur/BlurXFilter");Object.defineProperty(c,"BlurXFilter",{enumerable:!0,get:function(){return d(i).default}});var j=a("./blur/BlurYFilter");Object.defineProperty(c,"BlurYFilter",{enumerable:!0,get:function(){return d(j).default}});var k=a("./colormatrix/ColorMatrixFilter");Object.defineProperty(c,"ColorMatrixFilter",{enumerable:!0,get:function(){return d(k).default}});var l=a("./void/VoidFilter");Object.defineProperty(c,"VoidFilter",{enumerable:!0,get:function(){return d(l).default}})},{"./blur/BlurFilter":147,"./blur/BlurXFilter":148,"./blur/BlurYFilter":149,"./colormatrix/ColorMatrixFilter":153,"./displacement/DisplacementFilter":154,"./fxaa/FXAAFilter":155,"./noise/NoiseFilter":157,"./void/VoidFilter":158}],157:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("../../core"),i=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(h),j=(a("path"),function(a){function b(){
var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();d(this,b);var g=e(this,a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return g.noise=c,g.seed=f,g}return f(b,a),g(b,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(a){this.uniforms.uNoise=a}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(a){this.uniforms.uSeed=a}}]),b}(i.Filter));c.default=j},{"../../core":69,path:19}],158:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=a("../../core"),h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(g),i=(a("path"),function(a){function b(){d(this,b);var c=e(this,a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"));return c.glShaderKey="void",c}return f(b,a),b}(h.Filter));c.default=i},{"../../core":69,path:19}],159:[function(a,b,c){(function(b){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}c.__esModule=!0,c.loader=c.prepare=c.mesh=c.loaders=c.interaction=c.filters=c.extras=c.extract=c.accessibility=void 0;var e=a("./polyfill");Object.keys(e).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(c,a,{enumerable:!0,get:function(){return e[a]}})});var f=a("./core");Object.keys(f).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(c,a,{enumerable:!0,get:function(){return f[a]}})});var g=a("./deprecation"),h=function(a){return a&&a.__esModule?a:{default:a}}(g),i=a("./accessibility"),j=d(i),k=a("./extract"),l=d(k),m=a("./extras"),n=d(m),o=a("./filters"),p=d(o),q=a("./interaction"),r=d(q),s=a("./loaders"),t=d(s),u=a("./prepare"),v=d(u);f.utils.mixins.performMixins();var w=t.shared||null;c.accessibility=j,c.extract=l,c.extras=n,c.filters=p,c.interaction=r,c.loaders=t,c.prepare=v,c.loader=w,"function"==typeof h.default&&(0,h.default)(c),b.PIXI=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":46,"./core":69,"./deprecation":134,"./extract":136,"./extras":145,"./filters":156,"./interaction":164,"./loaders":167,"./polyfill":173,"./prepare":177}],160:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("../core"),g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(f),h=function(){function a(){d(this,a),this.global=new g.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return a.prototype.getLocalPosition=function(a,b,c){return a.worldTransform.applyInverse(c||this.global,b)},a.prototype._copyEvent=function(a){a.isPrimary&&(this.isPrimary=!0),this.button=a.button,this.buttons=a.buttons,this.width=a.width,this.height=a.height,this.tiltX=a.tiltX,this.tiltY=a.tiltY,this.pointerType=a.pointerType,this.pressure=a.pressure,this.rotationAngle=a.rotationAngle,this.twist=a.twist||0,this.tangentialPressure=a.tangentialPressure||0},a.prototype._reset=function(){this.isPrimary=!1},e(a,[{key:"pointerId",get:function(){return this.identifier}}]),a}();c.default=h},{"../core":69}],161:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(){d(this,a),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return a.prototype.stopPropagation=function(){this.stopped=!0},a.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},a}();c.default=e},{}],162:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=a("../core"),j=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(i),k=a("./InteractionData"),l=d(k),m=a("./InteractionEvent"),n=d(m),o=a("./InteractionTrackingData"),p=d(o),q=a("eventemitter3"),r=d(q),s=a("./interactiveTarget"),t=d(s);j.utils.mixins.delayMixin(j.DisplayObject.prototype,t.default);var u="MOUSE",v={target:null,data:{global:null}},w=function(a){function b(c,d){e(this,b);var g=f(this,a.call(this));return d=d||{},g.renderer=c,g.autoPreventDefault=void 0===d.autoPreventDefault||d.autoPreventDefault,g.interactionFrequency=d.interactionFrequency||10,g.mouse=new l.default,g.mouse.identifier=u,g.mouse.global.set(-999999),g.activeInteractionData={},g.activeInteractionData[u]=g.mouse,g.interactionDataPool=[],g.eventData=new n.default,g.interactionDOMElement=null,g.moveWhenInside=!1,g.eventsAdded=!1,g.mouseOverRenderer=!1,g.supportsTouchEvents="ontouchstart"in window,g.supportsPointerEvents=!!window.PointerEvent,g.onPointerUp=g.onPointerUp.bind(g),g.processPointerUp=g.processPointerUp.bind(g),g.onPointerCancel=g.onPointerCancel.bind(g),g.processPointerCancel=g.processPointerCancel.bind(g),g.onPointerDown=g.onPointerDown.bind(g),g.processPointerDown=g.processPointerDown.bind(g),g.onPointerMove=g.onPointerMove.bind(g),g.processPointerMove=g.processPointerMove.bind(g),g.onPointerOut=g.onPointerOut.bind(g),g.processPointerOverOut=g.processPointerOverOut.bind(g),g.onPointerOver=g.onPointerOver.bind(g),g.cursorStyles={default:"inherit",pointer:"pointer"},g.currentCursorMode=null,g.cursor=null,g._tempPoint=new j.Point,g.resolution=1,g.setTargetElement(g.renderer.view,g.renderer.resolution),g}return g(b,a),b.prototype.hitTest=function(a,b){return v.target=null,v.data.global=a,b||(b=this.renderer._lastObjectRendered),this.processInteractive(v,b,null,!0),v.target},b.prototype.setTargetElement=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=a,this.resolution=b,this.addEvents()},b.prototype.addEvents=function(){this.interactionDOMElement&&(j.ticker.shared.add(this.update,this,j.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},b.prototype.removeEvents=function(){this.interactionDOMElement&&(j.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},b.prototype.update=function(a){if(this._deltaTime+=a,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor=null;for(var b in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(b)){var c=this.activeInteractionData[b];if(c.originalEvent&&"touch"!==c.pointerType){var d=this.configureInteractionEventForDOMEvent(this.eventData,c.originalEvent,c);this.processInteractive(d,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},b.prototype.setCursorMode=function(a){if(a=a||"default",this.currentCursorMode!==a){this.currentCursorMode=a;var b=this.cursorStyles[a];if(b)switch(void 0===b?"undefined":h(b)){case"string":this.interactionDOMElement.style.cursor=b;break;case"function":b(a);break;case"object":Object.assign(this.interactionDOMElement.style,b)}else"string"!=typeof a||Object.prototype.hasOwnProperty.call(this.cursorStyles,a)||(this.interactionDOMElement.style.cursor=a)}},b.prototype.dispatchEvent=function(a,b,c){c.stopped||(c.currentTarget=a,c.type=b,a.emit(b,c),a[b]&&a[b](c))},b.prototype.mapPositionToPoint=function(a,b,c){var d=void 0;d=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var e=navigator.isCocoonJS?this.resolution:1/this.resolution;a.x=(b-d.left)*(this.interactionDOMElement.width/d.width)*e,a.y=(c-d.top)*(this.interactionDOMElement.height/d.height)*e},b.prototype.processInteractive=function(a,b,c,d,e){if(!b||!b.visible)return!1;var f=a.data.global;e=b.interactive||e;var g=!1,h=e;if(b.hitArea?h=!1:d&&b._mask&&(b._mask.containsPoint(f)||(d=!1)),b.interactiveChildren&&b.children)for(var i=b.children,j=i.length-1;j>=0;j--){var k=i[j],l=this.processInteractive(a,k,c,d,h);if(l){if(!k.parent)continue;h=!1,l&&(a.target&&(d=!1),g=!0)}}return e&&(d&&!a.target&&(b.hitArea?(b.worldTransform.applyInverse(f,this._tempPoint),b.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(g=!0)):b.containsPoint&&b.containsPoint(f)&&(g=!0)),b.interactive&&(g&&!a.target&&(a.target=b),c&&c(a,b,!!g))),g},b.prototype.onPointerDown=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){var b=this.normalizeToPointerData(a);this.autoPreventDefault&&b[0].isNormalized&&a.preventDefault();for(var c=b.length,d=0;d<c;d++){var e=b[d],f=this.getInteractionDataForPointerId(e),g=this.configureInteractionEventForDOMEvent(this.eventData,e,f);if(g.data.originalEvent=a,this.processInteractive(g,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",g),"touch"===e.pointerType)this.emit("touchstart",g);else if("mouse"===e.pointerType||"pen"===e.pointerType){var h=2===e.button;this.emit(h?"rightdown":"mousedown",this.eventData)}}}},b.prototype.processPointerDown=function(a,b,c){var d=a.data,e=a.data.identifier;if(c)if(b.trackedPointers[e]||(b.trackedPointers[e]=new p.default(e)),this.dispatchEvent(b,"pointerdown",a),"touch"===d.pointerType)this.dispatchEvent(b,"touchstart",a);else if("mouse"===d.pointerType||"pen"===d.pointerType){var f=2===d.button;f?b.trackedPointers[e].rightDown=!0:b.trackedPointers[e].leftDown=!0,this.dispatchEvent(b,f?"rightdown":"mousedown",a)}},b.prototype.onPointerComplete=function(a,b,c){for(var d=this.normalizeToPointerData(a),e=d.length,f=a.target!==this.interactionDOMElement?"outside":"",g=0;g<e;g++){var h=d[g],i=this.getInteractionDataForPointerId(h),j=this.configureInteractionEventForDOMEvent(this.eventData,h,i);if(j.data.originalEvent=a,this.processInteractive(j,this.renderer._lastObjectRendered,c,b||!f),this.emit(b?"pointercancel":"pointerup"+f,j),"mouse"===h.pointerType||"pen"===h.pointerType){var k=2===h.button;this.emit(k?"rightup"+f:"mouseup"+f,j)}else"touch"===h.pointerType&&(this.emit(b?"touchcancel":"touchend"+f,j),this.releaseInteractionDataForPointerId(h.pointerId,i))}},b.prototype.onPointerCancel=function(a){this.supportsTouchEvents&&"touch"===a.pointerType||this.onPointerComplete(a,!0,this.processPointerCancel)},b.prototype.processPointerCancel=function(a,b){var c=a.data,d=a.data.identifier;void 0!==b.trackedPointers[d]&&(delete b.trackedPointers[d],this.dispatchEvent(b,"pointercancel",a),"touch"===c.pointerType&&this.dispatchEvent(b,"touchcancel",a))},b.prototype.onPointerUp=function(a){this.supportsTouchEvents&&"touch"===a.pointerType||this.onPointerComplete(a,!1,this.processPointerUp)},b.prototype.processPointerUp=function(a,b,c){var d=a.data,e=a.data.identifier,f=b.trackedPointers[e],g="touch"===d.pointerType;if("mouse"===d.pointerType||"pen"===d.pointerType){var h=2===d.button,i=p.default.FLAGS,j=h?i.RIGHT_DOWN:i.LEFT_DOWN,k=void 0!==f&&f.flags&j;c?(this.dispatchEvent(b,h?"rightup":"mouseup",a),k&&this.dispatchEvent(b,h?"rightclick":"click",a)):k&&this.dispatchEvent(b,h?"rightupoutside":"mouseupoutside",a),f&&(h?f.rightDown=!1:f.leftDown=!1)}c?(this.dispatchEvent(b,"pointerup",a),g&&this.dispatchEvent(b,"touchend",a),f&&(this.dispatchEvent(b,"pointertap",a),g&&(this.dispatchEvent(b,"tap",a),f.over=!1))):f&&(this.dispatchEvent(b,"pointerupoutside",a),g&&this.dispatchEvent(b,"touchendoutside",a)),f&&f.none&&delete b.trackedPointers[e]},b.prototype.onPointerMove=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){var b=this.normalizeToPointerData(a);"mouse"===b[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var c=b.length,d=0;d<c;d++){var e=b[d],f=this.getInteractionDataForPointerId(e),g=this.configureInteractionEventForDOMEvent(this.eventData,e,f);g.data.originalEvent=a;var h="touch"!==e.pointerType||this.moveWhenInside;this.processInteractive(g,this.renderer._lastObjectRendered,this.processPointerMove,h),this.emit("pointermove",g),"touch"===e.pointerType&&this.emit("touchmove",g),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mousemove",g)}"mouse"===b[0].pointerType&&this.setCursorMode(this.cursor)}},b.prototype.processPointerMove=function(a,b,c){var d=a.data,e="touch"===d.pointerType,f="mouse"===d.pointerType||"pen"===d.pointerType;f&&this.processPointerOverOut(a,b,c),this.moveWhenInside&&!c||(this.dispatchEvent(b,"pointermove",a),e&&this.dispatchEvent(b,"touchmove",a),f&&this.dispatchEvent(b,"mousemove",a))},b.prototype.onPointerOut=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){var b=this.normalizeToPointerData(a),c=b[0];"mouse"===c.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var d=this.getInteractionDataForPointerId(c),e=this.configureInteractionEventForDOMEvent(this.eventData,c,d);e.data.originalEvent=c,this.processInteractive(e,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",e),"mouse"===c.pointerType||"pen"===c.pointerType?this.emit("mouseout",e):this.releaseInteractionDataForPointerId(d.identifier)}},b.prototype.processPointerOverOut=function(a,b,c){var d=a.data,e=a.data.identifier,f="mouse"===d.pointerType||"pen"===d.pointerType,g=b.trackedPointers[e];c&&!g&&(g=b.trackedPointers[e]=new p.default(e)),void 0!==g&&(c&&this.mouseOverRenderer?(g.over||(g.over=!0,this.dispatchEvent(b,"pointerover",a),f&&this.dispatchEvent(b,"mouseover",a)),f&&null===this.cursor&&(this.cursor=b.cursor)):g.over&&(g.over=!1,this.dispatchEvent(b,"pointerout",this.eventData),f&&this.dispatchEvent(b,"mouseout",a),g.none&&delete b.trackedPointers[e]))},b.prototype.onPointerOver=function(a){var b=this.normalizeToPointerData(a),c=b[0],d=this.getInteractionDataForPointerId(c),e=this.configureInteractionEventForDOMEvent(this.eventData,c,d);e.data.originalEvent=c,"mouse"===c.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",e),"mouse"!==c.pointerType&&"pen"!==c.pointerType||this.emit("mouseover",e)},b.prototype.getInteractionDataForPointerId=function(a){var b=a.pointerId,c=void 0;return b===u||"mouse"===a.pointerType?c=this.mouse:this.activeInteractionData[b]?c=this.activeInteractionData[b]:(c=this.interactionDataPool.pop()||new l.default,c.identifier=b,this.activeInteractionData[b]=c),c._copyEvent(a),c},b.prototype.releaseInteractionDataForPointerId=function(a){var b=this.activeInteractionData[a];b&&(delete this.activeInteractionData[a],b._reset(),this.interactionDataPool.push(b))},b.prototype.configureInteractionEventForDOMEvent=function(a,b,c){return a.data=c,this.mapPositionToPoint(c.global,b.clientX,b.clientY),navigator.isCocoonJS&&"touch"===b.pointerType&&(c.global.x=c.global.x/this.resolution,c.global.y=c.global.y/this.resolution),"touch"===b.pointerType&&(b.globalX=c.global.x,b.globalY=c.global.y),c.originalEvent=b,a._reset(),a},b.prototype.normalizeToPointerData=function(a){var b=[];if(this.supportsTouchEvents&&a instanceof TouchEvent)for(var c=0,d=a.changedTouches.length;c<d;c++){var e=a.changedTouches[c];void 0===e.button&&(e.button=a.touches.length?1:0),void 0===e.buttons&&(e.buttons=a.touches.length?1:0),void 0===e.isPrimary&&(e.isPrimary=1===a.touches.length&&"touchstart"===a.type),void 0===e.width&&(e.width=e.radiusX||1),void 0===e.height&&(e.height=e.radiusY||1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="touch"),void 0===e.pointerId&&(e.pointerId=e.identifier||0),void 0===e.pressure&&(e.pressure=e.force||.5),e.twist=0,e.tangentialPressure=0,void 0===e.layerX&&(e.layerX=e.offsetX=e.clientX),void 0===e.layerY&&(e.layerY=e.offsetY=e.clientY),e.isNormalized=!0,b.push(e)}else!(a instanceof MouseEvent)||this.supportsPointerEvents&&a instanceof window.PointerEvent?b.push(a):(void 0===a.isPrimary&&(a.isPrimary=!0),void 0===a.width&&(a.width=1),void 0===a.height&&(a.height=1),void 0===a.tiltX&&(a.tiltX=0),void 0===a.tiltY&&(a.tiltY=0),void 0===a.pointerType&&(a.pointerType="mouse"),void 0===a.pointerId&&(a.pointerId=u),void 0===a.pressure&&(a.pressure=.5),a.twist=0,a.tangentialPressure=0,a.isNormalized=!0,b.push(a));return b},b.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},b}(r.default);c.default=w,j.WebGLRenderer.registerPlugin("interaction",w),j.CanvasRenderer.registerPlugin("interaction",w)},{"../core":69,"./InteractionData":160,"./InteractionEvent":161,"./InteractionTrackingData":163,"./interactiveTarget":165,eventemitter3:8}],163:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b){d(this,a),this._pointerId=b,this._flags=a.FLAGS.NONE}return a.prototype._doSet=function(a,b){this._flags=b?this._flags|a:this._flags&~a},e(a,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(a){this._flags=a}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(a){this._doSet(this.constructor.FLAGS.OVER,a)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(a){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,a)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(a){this._doSet(this.constructor.FLAGS.LEFT_DOWN,a)}}]),a}();c.default=f,f.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],164:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("./InteractionData");Object.defineProperty(c,"InteractionData",{enumerable:!0,get:function(){return d(e).default}});var f=a("./InteractionManager");Object.defineProperty(c,"InteractionManager",{enumerable:!0,get:function(){return d(f).default}});var g=a("./interactiveTarget");Object.defineProperty(c,"interactiveTarget",{enumerable:!0,get:function(){return d(g).default}})},{"./InteractionData":160,"./InteractionManager":162,"./interactiveTarget":165}],165:[function(a,b,c){"use strict";c.__esModule=!0,c.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(a){a?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},{}],166:[function(a,b,c){"use strict";function d(a,b){a.bitmapFont=i.BitmapText.registerFont(a.data,b)}c.__esModule=!0,c.parse=d,c.default=function(){return function(a,b){if(!a.data||a.type!==h.Resource.TYPE.XML)return void b();if(0===a.data.getElementsByTagName("page").length||0===a.data.getElementsByTagName("info").length||null===a.data.getElementsByTagName("info")[0].getAttribute("face"))return void b();var c=a.isDataUrl?"":f.dirname(a.url);a.isDataUrl&&("."===c&&(c=""),this.baseUrl&&c&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(c+="/"),c=c.replace(this.baseUrl,""))),c&&"/"!==c.charAt(c.length-1)&&(c+="/");var e=c+a.data.getElementsByTagName("page")[0].getAttribute("file");if(g.utils.TextureCache[e])d(a,g.utils.TextureCache[e]),b();else{var i={crossOrigin:a.crossOrigin,loadType:h.Resource.LOAD_TYPE.IMAGE,metadata:a.metadata.imageMetadata,parentResource:a};this.add(a.name+"_image",e,i,function(c){d(a,c.texture),b()})}}};var e=a("path"),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(e),g=a("../core"),h=a("resource-loader"),i=a("../extras")},{"../core":69,"../extras":145,path:19,"resource-loader":202}],167:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0,c.shared=c.Resource=c.textureParser=c.getResourcePath=c.spritesheetParser=c.parseBitmapFontData=c.bitmapFontParser=c.Loader=void 0;var e=a("./bitmapFontParser");Object.defineProperty(c,"bitmapFontParser",{enumerable:!0,get:function(){return d(e).default}}),Object.defineProperty(c,"parseBitmapFontData",{enumerable:!0,get:function(){return e.parse}});var f=a("./spritesheetParser");Object.defineProperty(c,"spritesheetParser",{enumerable:!0,get:function(){return d(f).default}}),Object.defineProperty(c,"getResourcePath",{enumerable:!0,get:function(){return f.getResourcePath}});var g=a("./textureParser");Object.defineProperty(c,"textureParser",{enumerable:!0,get:function(){return d(g).default}});var h=a("resource-loader");Object.defineProperty(c,"Resource",{enumerable:!0,get:function(){return h.Resource}});var i=a("../core/Application"),j=d(i),k=a("./loader"),l=d(k);c.Loader=l.default;var m=new l.default;m.destroy=function(){},c.shared=m;var n=j.default.prototype;n._loader=null,Object.defineProperty(n,"loader",{get:function(){if(!this._loader){var a=this._options.sharedLoader;this._loader=a?m:new l.default}return this._loader}}),n._parentDestroy=n.destroy,n.destroy=function(a){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(a)}},{"../core/Application":47,"./bitmapFontParser":166,"./loader":168,"./spritesheetParser":169,"./textureParser":170,"resource-loader":202}],168:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var h=a("resource-loader"),i=d(h),j=a("resource-loader/lib/middlewares/parsing/blob"),k=a("eventemitter3"),l=d(k),m=a("./textureParser"),n=d(m),o=a("./spritesheetParser"),p=d(o),q=a("./bitmapFontParser"),r=d(q),s=function(a){function b(c,d){e(this,b);var g=f(this,a.call(this,c,d));l.default.call(g);for(var h=0;h<b._pixiMiddleware.length;++h)g.use(b._pixiMiddleware[h]());return g.onStart.add(function(a){return g.emit("start",a)}),g.onProgress.add(function(a,b){return g.emit("progress",a,b)}),g.onError.add(function(a,b,c){return g.emit("error",a,b,c)}),g.onLoad.add(function(a,b){return g.emit("load",a,b)}),g.onComplete.add(function(a,b){return g.emit("complete",a,b)}),g}return g(b,a),b.addPixiMiddleware=function(a){b._pixiMiddleware.push(a)},b.prototype.destroy=function(){this.removeAllListeners(),this.reset()},b}(i.default);c.default=s;for(var t in l.default.prototype)s.prototype[t]=l.default.prototype[t];s._pixiMiddleware=[j.blobMiddlewareFactory,n.default,p.default,r.default];var u=i.default.Resource;u.setExtensionXhrType("fnt",u.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":166,"./spritesheetParser":169,"./textureParser":170,eventemitter3:8,"resource-loader":202,"resource-loader/lib/middlewares/parsing/blob":203}],169:[function(a,b,c){"use strict";function d(a,b){return a.isDataUrl?a.data.meta.image:g.default.resolve(a.url.replace(b,""),a.data.meta.image)}c.__esModule=!0,c.default=function(){return function(a,b){var c=a.name+"_image";if(!a.data||a.type!==e.Resource.TYPE.JSON||!a.data.frames||this.resources[c])return void b();var f={crossOrigin:a.crossOrigin,loadType:e.Resource.LOAD_TYPE.IMAGE,metadata:a.metadata.imageMetadata,parentResource:a},g=d(a,this.baseUrl);this.add(c,g,f,function(c){var d=new h.Spritesheet(c.texture.baseTexture,a.data,a.url);d.parse(function(){a.spritesheet=d,a.textures=d.textures,b()})})}},c.getResourcePath=d;var e=a("resource-loader"),f=a("url"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=a("../core")},{"../core":69,"resource-loader":202,url:209}],170:[function(a,b,c){"use strict";c.__esModule=!0,c.default=function(){return function(a,b){a.data&&a.type===d.Resource.TYPE.IMAGE&&(a.texture=f.default.fromLoader(a.data,a.url,a.name)),b()}};var d=a("resource-loader"),e=a("../core/textures/Texture"),f=function(a){return a&&a.__esModule?a:{default:a}}(e)},{"../core/textures/Texture":119,"resource-loader":202}],171:[function(a,b,c){"use strict";Math.sign||(Math.sign=function(a){return a=Number(a),0===a||isNaN(a)?a:a>0?1:-1})},{}],172:[function(a,b,c){"use strict";var d=a("object-assign"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);Object.assign||(Object.assign=e.default)},{"object-assign":17}],173:[function(a,b,c){"use strict";a("./Object.assign"),a("./requestAnimationFrame"),a("./Math.sign"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":171,"./Object.assign":172,"./requestAnimationFrame":174}],174:[function(a,b,c){(function(a){"use strict";if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!a.performance||!a.performance.now){var b=Date.now();a.performance||(a.performance={}),a.performance.now=function(){return Date.now()-b}}
for(var c=Date.now(),d=["ms","moz","webkit","o"],e=0;e<d.length&&!a.requestAnimationFrame;++e){var f=d[e];a.requestAnimationFrame=a[f+"RequestAnimationFrame"],a.cancelAnimationFrame=a[f+"CancelAnimationFrame"]||a[f+"CancelRequestAnimationFrame"]}a.requestAnimationFrame||(a.requestAnimationFrame=function(a){if("function"!=typeof a)throw new TypeError(a+"is not a function");var b=Date.now(),d=16+c-b;return d<0&&(d=0),c=b,setTimeout(function(){c=Date.now(),a(performance.now())},d)}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){return clearTimeout(a)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],175:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){var c=!1;if(a&&a._textures&&a._textures.length)for(var d=0;d<a._textures.length;d++)if(a._textures[d]instanceof m.Texture){var e=a._textures[d].baseTexture;-1===b.indexOf(e)&&(b.push(e),c=!0)}return c}function f(a,b){return a instanceof m.BaseTexture&&(-1===b.indexOf(a)&&b.push(a),!0)}function g(a,b){if(a._texture&&a._texture instanceof m.Texture){var c=a._texture.baseTexture;return-1===b.indexOf(c)&&b.push(c),!0}return!1}function h(a,b){return b instanceof m.Text&&(b.updateText(!0),!0)}function i(a,b){if(b instanceof m.TextStyle){var c=b.toFontString();return m.TextMetrics.measureFont(c),!0}return!1}function j(a,b){if(a instanceof m.Text){-1===b.indexOf(a.style)&&b.push(a.style),-1===b.indexOf(a)&&b.push(a);var c=a._texture.baseTexture;return-1===b.indexOf(c)&&b.push(c),!0}return!1}function k(a,b){return a instanceof m.TextStyle&&(-1===b.indexOf(a)&&b.push(a),!0)}c.__esModule=!0;var l=a("../core"),m=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(l),n=a("./limiters/CountLimiter"),o=function(a){return a&&a.__esModule?a:{default:a}}(n),p=m.ticker.shared;m.settings.UPLOADS_PER_FRAME=4;var q=function(){function a(b){var c=this;d(this,a),this.limiter=new o.default(m.settings.UPLOADS_PER_FRAME),this.renderer=b,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){c.queue&&c.prepareItems()},this.registerFindHook(j),this.registerFindHook(k),this.registerFindHook(e),this.registerFindHook(f),this.registerFindHook(g),this.registerUploadHook(h),this.registerUploadHook(i)}return a.prototype.upload=function(a,b){"function"==typeof a&&(b=a,a=null),a&&this.add(a),this.queue.length?(b&&this.completes.push(b),this.ticking||(this.ticking=!0,p.addOnce(this.tick,this,m.UPDATE_PRIORITY.UTILITY))):b&&b()},a.prototype.tick=function(){setTimeout(this.delayedTick,0)},a.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var a=this.queue[0],b=!1;if(a&&!a._destroyed)for(var c=0,d=this.uploadHooks.length;c<d;c++)if(this.uploadHooks[c](this.uploadHookHelper,a)){this.queue.shift(),b=!0;break}b||this.queue.shift()}if(this.queue.length)p.addOnce(this.tick,this,m.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var e=this.completes.slice(0);this.completes.length=0;for(var f=0,g=e.length;f<g;f++)e[f]()}},a.prototype.registerFindHook=function(a){return a&&this.addHooks.push(a),this},a.prototype.registerUploadHook=function(a){return a&&this.uploadHooks.push(a),this},a.prototype.add=function(a){for(var b=0,c=this.addHooks.length;b<c&&!this.addHooks[b](a,this.queue);b++);if(a instanceof m.Container)for(var d=a.children.length-1;d>=0;d--)this.add(a.children[d]);return this},a.prototype.destroy=function(){this.ticking&&p.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},a}();c.default=q},{"../core":69,"./limiters/CountLimiter":178}],176:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function g(a,b){if(b instanceof i.BaseTexture){var c=b.source,d=0===c.width?a.canvas.width:Math.min(a.canvas.width,c.width),e=0===c.height?a.canvas.height:Math.min(a.canvas.height,c.height);return a.ctx.drawImage(c,0,0,d,e,0,0,a.canvas.width,a.canvas.height),!0}return!1}c.__esModule=!0;var h=a("../../core"),i=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(h),j=a("../BasePrepare"),k=function(a){return a&&a.__esModule?a:{default:a}}(j),l=16,m=function(a){function b(c){d(this,b);var f=e(this,a.call(this,c));return f.uploadHookHelper=f,f.canvas=document.createElement("canvas"),f.canvas.width=l,f.canvas.height=l,f.ctx=f.canvas.getContext("2d"),f.registerUploadHook(g),f}return f(b,a),b.prototype.destroy=function(){a.prototype.destroy.call(this),this.ctx=null,this.canvas=null},b}(k.default);c.default=m,i.CanvasRenderer.registerPlugin("prepare",m)},{"../../core":69,"../BasePrepare":175}],177:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("./webgl/WebGLPrepare");Object.defineProperty(c,"webgl",{enumerable:!0,get:function(){return d(e).default}});var f=a("./canvas/CanvasPrepare");Object.defineProperty(c,"canvas",{enumerable:!0,get:function(){return d(f).default}});var g=a("./BasePrepare");Object.defineProperty(c,"BasePrepare",{enumerable:!0,get:function(){return d(g).default}});var h=a("./limiters/CountLimiter");Object.defineProperty(c,"CountLimiter",{enumerable:!0,get:function(){return d(h).default}});var i=a("./limiters/TimeLimiter");Object.defineProperty(c,"TimeLimiter",{enumerable:!0,get:function(){return d(i).default}})},{"./BasePrepare":175,"./canvas/CanvasPrepare":176,"./limiters/CountLimiter":178,"./limiters/TimeLimiter":179,"./webgl/WebGLPrepare":180}],178:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(b){d(this,a),this.maxItemsPerFrame=b,this.itemsLeft=0}return a.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},a.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},a}();c.default=e},{}],179:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(b){d(this,a),this.maxMilliseconds=b,this.frameStart=0}return a.prototype.beginFrame=function(){this.frameStart=Date.now()},a.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},a}();c.default=e},{}],180:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function g(a,b){return b instanceof k.BaseTexture&&(b._glTextures[a.CONTEXT_UID]||a.textureManager.updateTexture(b),!0)}function h(a,b){return b instanceof k.Graphics&&((b.dirty||b.clearDirty||!b._webGL[a.plugins.graphics.CONTEXT_UID])&&a.plugins.graphics.updateGraphics(b),!0)}function i(a,b){return a instanceof k.Graphics&&(b.push(a),!0)}c.__esModule=!0;var j=a("../../core"),k=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(j),l=a("../BasePrepare"),m=function(a){return a&&a.__esModule?a:{default:a}}(l),n=function(a){function b(c){d(this,b);var f=e(this,a.call(this,c));return f.uploadHookHelper=f.renderer,f.registerFindHook(i),f.registerUploadHook(g),f.registerUploadHook(h),f}return f(b,a),b}(m.default);c.default=n,k.WebGLRenderer.registerPlugin("prepare",n)},{"../../core":69,"../BasePrepare":175}],181:[function(a,b,c){(function(a){"use strict";function c(b,c,d,e){if("function"!=typeof b)throw new TypeError('"callback" argument must be a function');var f,g,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(b);case 2:return a.nextTick(function(){b.call(null,c)});case 3:return a.nextTick(function(){b.call(null,c,d)});case 4:return a.nextTick(function(){b.call(null,c,d,e)});default:for(f=new Array(h-1),g=0;g<f.length;)f[g++]=arguments[g];return a.nextTick(function(){b.apply(null,f)})}}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?b.exports=c:b.exports=a.nextTick}).call(this,a("_process"))},{_process:182}],182:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],183:[function(a,b,c){(function(a){!function(d){function e(a){throw new RangeError(H[a])}function f(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function g(a,b){var c=a.split("@"),d="";return c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(G,"."),d+f(a.split("."),b).join(".")}function h(a){for(var b,c,d=[],e=0,f=a.length;e<f;)b=a.charCodeAt(e++),b>=55296&&b<=56319&&e<f?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function i(a){return f(a,function(a){var b="";return a>65535&&(a-=65536,b+=K(a>>>10&1023|55296),a=56320|1023&a),b+=K(a)}).join("")}function j(a){return a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:w}function k(a,b){return a+22+75*(a<26)-((0!=b)<<5)}function l(a,b,c){var d=0;for(a=c?J(a/A):a>>1,a+=J(a/b);a>I*y>>1;d+=w)a=J(a/I);return J(d+(I+1)*a/(a+z))}function m(a){var b,c,d,f,g,h,k,m,n,o,p=[],q=a.length,r=0,s=C,t=B;for(c=a.lastIndexOf(D),c<0&&(c=0),d=0;d<c;++d)a.charCodeAt(d)>=128&&e("not-basic"),p.push(a.charCodeAt(d));for(f=c>0?c+1:0;f<q;){for(g=r,h=1,k=w;f>=q&&e("invalid-input"),m=j(a.charCodeAt(f++)),(m>=w||m>J((v-r)/h))&&e("overflow"),r+=m*h,n=k<=t?x:k>=t+y?y:k-t,!(m<n);k+=w)o=w-n,h>J(v/o)&&e("overflow"),h*=o;b=p.length+1,t=l(r-g,b,0==g),J(r/b)>v-s&&e("overflow"),s+=J(r/b),r%=b,p.splice(r++,0,s)}return i(p)}function n(a){var b,c,d,f,g,i,j,m,n,o,p,q,r,s,t,u=[];for(a=h(a),q=a.length,b=C,c=0,g=B,i=0;i<q;++i)(p=a[i])<128&&u.push(K(p));for(d=f=u.length,f&&u.push(D);d<q;){for(j=v,i=0;i<q;++i)(p=a[i])>=b&&p<j&&(j=p);for(r=d+1,j-b>J((v-c)/r)&&e("overflow"),c+=(j-b)*r,b=j,i=0;i<q;++i)if(p=a[i],p<b&&++c>v&&e("overflow"),p==b){for(m=c,n=w;o=n<=g?x:n>=g+y?y:n-g,!(m<o);n+=w)t=m-o,s=w-o,u.push(K(k(o+t%s,0))),m=J(t/s);u.push(K(k(m,0))),g=l(c,r,d==f),c=0,++d}++c,++b}return u.join("")}function o(a){return g(a,function(a){return E.test(a)?m(a.slice(4).toLowerCase()):a})}function p(a){return g(a,function(a){return F.test(a)?"xn--"+n(a):a})}var q="object"==typeof c&&c&&!c.nodeType&&c,r="object"==typeof b&&b&&!b.nodeType&&b,s="object"==typeof a&&a;s.global!==s&&s.window!==s&&s.self!==s||(d=s);var t,u,v=2147483647,w=36,x=1,y=26,z=38,A=700,B=72,C=128,D="-",E=/^xn--/,F=/[^\x20-\x7E]/,G=/[\x2E\u3002\uFF0E\uFF61]/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=w-x,J=Math.floor,K=String.fromCharCode;if(t={version:"1.4.1",ucs2:{decode:h,encode:i},decode:m,encode:n,toASCII:p,toUnicode:o},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return t});else if(q&&r)if(b.exports==q)r.exports=t;else for(u in t)t.hasOwnProperty(u)&&(q[u]=t[u]);else d.punycode=t}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],184:[function(a,b,c){"use strict";function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b.exports=function(a,b,c,f){b=b||"&",c=c||"=";var g={};if("string"!=typeof a||0===a.length)return g;var h=/\+/g;a=a.split(b);var i=1e3;f&&"number"==typeof f.maxKeys&&(i=f.maxKeys);var j=a.length;i>0&&j>i&&(j=i);for(var k=0;k<j;++k){var l,m,n,o,p=a[k].replace(h,"%20"),q=p.indexOf(c);q>=0?(l=p.substr(0,q),m=p.substr(q+1)):(l=p,m=""),n=decodeURIComponent(l),o=decodeURIComponent(m),d(g,n)?e(g[n])?g[n].push(o):g[n]=[g[n],o]:g[n]=o}return g};var e=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],185:[function(a,b,c){"use strict";function d(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var e=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,c,h){return b=b||"&",c=c||"=",null===a&&(a=void 0),"object"==typeof a?d(g(a),function(g){var h=encodeURIComponent(e(g))+c;return f(a[g])?d(a[g],function(a){return h+encodeURIComponent(e(a))}).join(b):h+encodeURIComponent(e(a[g]))}).join(b):h?encodeURIComponent(e(h))+c+encodeURIComponent(e(a)):""};var f=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},g=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],186:[function(a,b,c){"use strict";c.decode=c.parse=a("./decode"),c.encode=c.stringify=a("./encode")},{"./decode":184,"./encode":185}],187:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);j.call(this,a),k.call(this,a),a&&!1===a.readable&&(this.readable=!1),a&&!1===a.writable&&(this.writable=!1),this.allowHalfOpen=!0,a&&!1===a.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",e)}function e(){this.allowHalfOpen||this._writableState.ended||h(f,this)}function f(a){a.end()}var g=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};b.exports=d;var h=a("process-nextick-args"),i=a("core-util-is");i.inherits=a("inherits");var j=a("./_stream_readable"),k=a("./_stream_writable");i.inherits(d,j);for(var l=g(k.prototype),m=0;m<l.length;m++){var n=l[m];d.prototype[n]||(d.prototype[n]=k.prototype[n])}},{"./_stream_readable":189,"./_stream_writable":191,"core-util-is":6,inherits:11,"process-nextick-args":181}],188:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);e.call(this,a)}b.exports=d;var e=a("./_stream_transform"),f=a("core-util-is");f.inherits=a("inherits"),f.inherits(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":190,"core-util-is":6,inherits:11}],189:[function(a,b,c){(function(c){"use strict";function d(a,b,c){if("function"==typeof a.prependListener)return a.prependListener(b,c);a._events&&a._events[b]?E(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c)}function e(b,c){C=C||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof C&&(this.objectMode=this.objectMode||!!b.readableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.buffer=new M,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(L||(L=a("string_decoder/").StringDecoder),this.decoder=new L(b.encoding),this.encoding=b.encoding)}function f(b){if(C=C||a("./_stream_duplex"),!(this instanceof f))return new f(b);this._readableState=new e(b,this),this.readable=!0,b&&"function"==typeof b.read&&(this._read=b.read),G.call(this)}function g(a,b,c,d,e){var f=k(b,c);if(f)a.emit("error",f);else if(null===c)b.reading=!1,l(a,b);else if(b.objectMode||c&&c.length>0)if(b.ended&&!e){var g=new Error("stream.push() after EOF");a.emit("error",g)}else if(b.endEmitted&&e){var i=new Error("stream.unshift() after end event");a.emit("error",i)}else{var j;!b.decoder||e||d||(c=b.decoder.write(c),j=!b.objectMode&&0===c.length),e||(b.reading=!1),j||(b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,e?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&m(a))),o(a,b)}else e||(b.reading=!1);return h(b)}function h(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function i(a){return a>=O?a=O:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a}function j(a,b){return a<=0||0===b.length&&b.ended?0:b.objectMode?1:a!==a?b.flowing&&b.length?b.buffer.head.data.length:b.length:(a>b.highWaterMark&&(b.highWaterMark=i(a)),a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0))}function k(a,b){var c=null;return H.isBuffer(b)||"string"==typeof b||null===b||void 0===b||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function l(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,m(a)}}function m(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(K("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?D(n,a):n(a))}function n(a){K("emit readable"),a.emit("readable"),u(a)}function o(a,b){b.readingMore||(b.readingMore=!0,D(p,a,b))}function p(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(K("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function q(a){return function(){var b=a._readableState;K("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&F(a,"data")&&(b.flowing=!0,u(a))}}function r(a){K("readable nexttick read 0"),a.read(0)}function s(a,b){b.resumeScheduled||(b.resumeScheduled=!0,D(t,a,b))}function t(a,b){b.reading||(K("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),u(a),b.flowing&&!b.reading&&a.read(0)}function u(a){var b=a._readableState;for(K("flow",b.flowing);b.flowing&&null!==a.read(););}function v(a,b){if(0===b.length)return null;var c;return b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear()):c=w(a,b.buffer,b.decoder),c}function w(a,b,c){var d;return a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):d=a===b.head.data.length?b.shift():c?x(a,b):y(a,b),d}function x(a,b){var c=b.head,d=1,e=c.data;for(a-=e.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(g===f.length?e+=f:e+=f.slice(0,a),0===(a-=g)){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}return b.length-=d,e}function y(a,b){var c=H.allocUnsafe(a),d=b.head,e=1;for(d.data.copy(c),a-=d.data.length;d=d.next;){var f=d.data,g=a>f.length?f.length:a;if(f.copy(c,c.length-a,0,g),0===(a-=g)){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}return b.length-=e,c}function z(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,D(A,b,a))}function A(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function B(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}b.exports=f;var C,D=a("process-nextick-args"),E=a("isarray");f.ReadableState=e;var F=(a("events").EventEmitter,function(a,b){return a.listeners(b).length}),G=a("./internal/streams/stream"),H=a("safe-buffer").Buffer,I=a("core-util-is");I.inherits=a("inherits");var J=a("util"),K=void 0;K=J&&J.debuglog?J.debuglog("stream"):function(){};var L,M=a("./internal/streams/BufferList");I.inherits(f,G);var N=["error","close","destroy","pause","resume"];f.prototype.push=function(a,b){var c=this._readableState;return c.objectMode||"string"!=typeof a||(b=b||c.defaultEncoding)!==c.encoding&&(a=H.from(a,b),b=""),g(this,c,a,b,!1)},f.prototype.unshift=function(a){return g(this,this._readableState,a,"",!0)},f.prototype.isPaused=function(){return!1===this._readableState.flowing},f.prototype.setEncoding=function(b){return L||(L=a("string_decoder/").StringDecoder),this._readableState.decoder=new L(b),this._readableState.encoding=b,this};var O=8388608;f.prototype.read=function(a){K("read",a),a=parseInt(a,10);var b=this._readableState,c=a;if(0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return K("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?z(this):m(this),null;if(0===(a=j(a,b))&&b.ended)return 0===b.length&&z(this),null;var d=b.needReadable;K("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,K("length less than watermark",d)),b.ended||b.reading?(d=!1,K("reading or ended",d)):d&&(K("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=j(c,b)));var e;return e=a>0?v(a,b):null,null===e?(b.needReadable=!0,a=0):b.length-=a,0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&z(this)),null!==e&&this.emit("data",e),e},f.prototype._read=function(a){this.emit("error",new Error("_read() is not implemented"))},f.prototype.pipe=function(a,b){function e(a){K("onunpipe"),a===m&&g()}function f(){K("onend"),a.end()}function g(){K("cleanup"),a.removeListener("close",j),a.removeListener("finish",k),a.removeListener("drain",r),a.removeListener("error",i),a.removeListener("unpipe",e),m.removeListener("end",f),m.removeListener("end",l),m.removeListener("data",h),s=!0,!n.awaitDrain||a._writableState&&!a._writableState.needDrain||r()}function h(b){K("ondata"),t=!1,!1!==a.write(b)||t||((1===n.pipesCount&&n.pipes===a||n.pipesCount>1&&-1!==B(n.pipes,a))&&!s&&(K("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++,t=!0),m.pause())}function i(b){K("onerror",b),l(),a.removeListener("error",i),0===F(a,"error")&&a.emit("error",b)}function j(){a.removeListener("finish",k),l()}function k(){K("onfinish"),a.removeListener("close",j),l()}function l(){K("unpipe"),m.unpipe(a)}var m=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=a;break;case 1:n.pipes=[n.pipes,a];break;default:n.pipes.push(a)}n.pipesCount+=1,K("pipe count=%d opts=%j",n.pipesCount,b);var o=(!b||!1!==b.end)&&a!==c.stdout&&a!==c.stderr,p=o?f:l;n.endEmitted?D(p):m.once("end",p),a.on("unpipe",e);var r=q(m);a.on("drain",r);var s=!1,t=!1;return m.on("data",h),d(a,"error",i),a.once("close",j),a.once("finish",k),a.emit("pipe",m),n.flowing||(K("pipe resume"),m.resume()),a},f.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this),this);if(!a){var c=b.pipes,d=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var e=0;e<d;e++)c[e].emit("unpipe",this);return this}var f=B(b.pipes,a);return-1===f?this:(b.pipes.splice(f,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this),this)},f.prototype.on=function(a,b){var c=G.prototype.on.call(this,a,b);if("data"===a)!1!==this._readableState.flowing&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.emittedReadable=!1,d.reading?d.length&&m(this):D(r,this))}return c},f.prototype.addListener=f.prototype.on,f.prototype.resume=function(){var a=this._readableState;return a.flowing||(K("resume"),a.flowing=!0,s(this,a)),this},f.prototype.pause=function(){return K("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(K("pause"),this._readableState.flowing=!1,this.emit("pause")),this},f.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(K("wrapped end"),b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(K("wrapped data"),b.decoder&&(e=b.decoder.write(e)),(!b.objectMode||null!==e&&void 0!==e)&&(b.objectMode||e&&e.length)){d.push(e)||(c=!0,a.pause())}});for(var e in a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));for(var f=0;f<N.length;f++)a.on(N[f],d.emit.bind(d,N[f]));return d._read=function(b){K("wrapped _read",b),c&&(c=!1,a.resume())},d},f._fromList=v}).call(this,a("_process"))},{"./_stream_duplex":187,"./internal/streams/BufferList":192,"./internal/streams/stream":193,_process:182,"core-util-is":6,events:9,inherits:11,isarray:13,"process-nextick-args":181,"safe-buffer":194,"string_decoder/":195,util:3}],190:[function(a,b,c){"use strict";function d(a){this.afterTransform=function(b,c){return e(a,b,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function e(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("no writecb in Transform class"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function f(a){if(!(this instanceof f))return new f(a);h.call(this,a),this._transformState=new d(this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(a,c){g(b,a,c)}):g(b)})}function g(a,b,c){if(b)return a.emit("error",b);null!==c&&void 0!==c&&a.push(c);var d=a._writableState,e=a._transformState;if(d.length)throw new Error("Calling transform done when ws.length != 0");if(e.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}b.exports=f;var h=a("./_stream_duplex"),i=a("core-util-is");i.inherits=a("inherits"),i.inherits(f,h),f.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},f.prototype._transform=function(a,b,c){throw new Error("_transform() is not implemented")},f.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},f.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0}},{"./_stream_duplex":187,"core-util-is":6,inherits:11}],191:[function(a,b,c){(function(c){"use strict";function d(){}function e(a,b,c){this.chunk=a,this.encoding=b,this.callback=c,this.next=null}function f(b,c){x=x||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof x&&(this.objectMode=this.objectMode||!!b.writableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var f=!1===b.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){o(c,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w(this)}function g(b){if(x=x||a("./_stream_duplex"),!(E.call(g,this)||this instanceof x))return new g(b);this._writableState=new f(b,this),this.writable=!0,b&&("function"==typeof b.write&&(this._write=b.write),"function"==typeof b.writev&&(this._writev=b.writev)),C.call(this)}function h(a,b){var c=new Error("write after end");a.emit("error",c),y(b,c)}function i(a,b,c,d){var e=!0,f=!1;return null===c?f=new TypeError("May not write null values to stream"):"string"==typeof c||void 0===c||b.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(a.emit("error",f),y(d,f),e=!1),e}function j(a,b,c){return a.objectMode||!1===a.decodeStrings||"string"!=typeof b||(b=D.from(b,c)),b}function k(a,b,c,d,f,g){c||(d=j(b,d,f),D.isBuffer(d)&&(f="buffer"));var h=b.objectMode?1:d.length;b.length+=h;var i=b.length<b.highWaterMark;if(i||(b.needDrain=!0),b.writing||b.corked){var k=b.lastBufferedRequest;b.lastBufferedRequest=new e(d,f,g),k?k.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else l(a,b,!1,h,d,f,g);return i}function l(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function m(a,b,c,d,e){--b.pendingcb,c?y(e,d):e(d),a._writableState.errorEmitted=!0,a.emit("error",d)}function n(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function o(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(n(c),b)m(a,c,d,b,e);else{var f=s(c);f||c.corked||c.bufferProcessing||!c.bufferedRequest||r(a,c),d?z(p,a,c,f,e):p(a,c,f,e)}}function p(a,b,c,d){c||q(a,b),b.pendingcb--,d(),u(a,b)}function q(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function r(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=b.bufferedRequestCount,e=new Array(d),f=b.corkedRequestsFree;f.entry=c;for(var g=0;c;)e[g]=c,c=c.next,g+=1;l(a,b,!0,b.length,e,"",f.finish),b.pendingcb++,b.lastBufferedRequest=null,f.next?(b.corkedRequestsFree=f.next,f.next=null):b.corkedRequestsFree=new w(b)}else{for(;c;){var h=c.chunk,i=c.encoding,j=c.callback;if(l(a,b,!1,b.objectMode?1:h.length,h,i,j),c=c.next,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0,b.bufferedRequest=c,b.bufferProcessing=!1}function s(a){
return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function t(a,b){b.prefinished||(b.prefinished=!0,a.emit("prefinish"))}function u(a,b){var c=s(b);return c&&(0===b.pendingcb?(t(a,b),b.finished=!0,a.emit("finish")):t(a,b)),c}function v(a,b,c){b.ending=!0,u(a,b),c&&(b.finished?y(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function w(a){var b=this;this.next=null,this.entry=null,this.finish=function(c){var d=b.entry;for(b.entry=null;d;){var e=d.callback;a.pendingcb--,e(c),d=d.next}a.corkedRequestsFree?a.corkedRequestsFree.next=b:a.corkedRequestsFree=b}}b.exports=g;var x,y=a("process-nextick-args"),z=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?setImmediate:y;g.WritableState=f;var A=a("core-util-is");A.inherits=a("inherits");var B={deprecate:a("util-deprecate")},C=a("./internal/streams/stream"),D=a("safe-buffer").Buffer;A.inherits(g,C),f.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(f.prototype,"buffer",{get:B.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(a){}}();var E;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(a){return!!E.call(this,a)||a&&a._writableState instanceof f}})):E=function(a){return a instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(a,b,c){var e=this._writableState,f=!1,g=D.isBuffer(a);return"function"==typeof b&&(c=b,b=null),g?b="buffer":b||(b=e.defaultEncoding),"function"!=typeof c&&(c=d),e.ended?h(this,c):(g||i(this,e,a,c))&&(e.pendingcb++,f=k(this,e,g,a,b,c)),f},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||r(this,a))},g.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this},g.prototype._write=function(a,b,c){c(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!==a&&void 0!==a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||v(this,d,c)}}).call(this,a("_process"))},{"./_stream_duplex":187,"./internal/streams/stream":193,_process:182,"core-util-is":6,inherits:11,"process-nextick-args":181,"safe-buffer":194,"util-deprecate":211}],192:[function(a,b,c){"use strict";function d(){this.head=null,this.tail=null,this.length=0}var e=a("safe-buffer").Buffer;b.exports=d,d.prototype.push=function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},d.prototype.unshift=function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length},d.prototype.shift=function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},d.prototype.clear=function(){this.head=this.tail=null,this.length=0},d.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c},d.prototype.concat=function(a){if(0===this.length)return e.alloc(0);if(1===this.length)return this.head.data;for(var b=e.allocUnsafe(a>>>0),c=this.head,d=0;c;)c.data.copy(b,d),d+=c.data.length,c=c.next;return b}},{"safe-buffer":194}],193:[function(a,b,c){b.exports=a("events").EventEmitter},{events:9}],194:[function(a,b,c){b.exports=a("buffer")},{buffer:4}],195:[function(a,b,c){"use strict";function d(a){if(!a)return"utf8";for(var b;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(b)return;a=(""+a).toLowerCase(),b=!0}}function e(a){var b=d(a);if("string"!=typeof b&&(s.isEncoding===t||!t(a)))throw new Error("Unknown encoding: "+a);return b||a}function f(a){this.encoding=e(a);var b;switch(this.encoding){case"utf16le":this.text=m,this.end=n,b=4;break;case"utf8":this.fillLast=j,b=4;break;case"base64":this.text=o,this.end=p,b=3;break;default:return this.write=q,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(b)}function g(a){return a<=127?0:a>>5==6?2:a>>4==14?3:a>>3==30?4:-1}function h(a,b,c){var d=b.length-1;if(d<c)return 0;var e=g(b[d]);return e>=0?(e>0&&(a.lastNeed=e-1),e):--d<c?0:(e=g(b[d]))>=0?(e>0&&(a.lastNeed=e-2),e):--d<c?0:(e=g(b[d]),e>=0?(e>0&&(2===e?e=0:a.lastNeed=e-3),e):0)}function i(a,b,c){if(128!=(192&b[0]))return a.lastNeed=0,"�".repeat(c);if(a.lastNeed>1&&b.length>1){if(128!=(192&b[1]))return a.lastNeed=1,"�".repeat(c+1);if(a.lastNeed>2&&b.length>2&&128!=(192&b[2]))return a.lastNeed=2,"�".repeat(c+2)}}function j(a){var b=this.lastTotal-this.lastNeed,c=i(this,a,b);return void 0!==c?c:this.lastNeed<=a.length?(a.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(a.copy(this.lastChar,b,0,a.length),void(this.lastNeed-=a.length))}function k(a,b){var c=h(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=c;var d=a.length-(c-this.lastNeed);return a.copy(this.lastChar,0,d),a.toString("utf8",b,d)}function l(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+"�".repeat(this.lastTotal-this.lastNeed):b}function m(a,b){if((a.length-b)%2==0){var c=a.toString("utf16le",b);if(c){var d=c.charCodeAt(c.length-1);if(d>=55296&&d<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],c.slice(0,-1)}return c}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",b,a.length-1)}function n(a){var b=a&&a.length?this.write(a):"";if(this.lastNeed){var c=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,c)}return b}function o(a,b){var c=(a.length-b)%3;return 0===c?a.toString("base64",b):(this.lastNeed=3-c,this.lastTotal=3,1===c?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",b,a.length-c))}function p(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function q(a){return a.toString(this.encoding)}function r(a){return a&&a.length?this.write(a):""}var s=a("safe-buffer").Buffer,t=s.isEncoding||function(a){switch((a=""+a)&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};c.StringDecoder=f,f.prototype.write=function(a){if(0===a.length)return"";var b,c;if(this.lastNeed){if(void 0===(b=this.fillLast(a)))return"";c=this.lastNeed,this.lastNeed=0}else c=0;return c<a.length?b?b+this.text(a,c):this.text(a,c):b||""},f.prototype.end=l,f.prototype.text=k,f.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length}},{"safe-buffer":194}],196:[function(a,b,c){c=b.exports=a("./lib/_stream_readable.js"),c.Stream=c,c.Readable=c,c.Writable=a("./lib/_stream_writable.js"),c.Duplex=a("./lib/_stream_duplex.js"),c.Transform=a("./lib/_stream_transform.js"),c.PassThrough=a("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":187,"./lib/_stream_passthrough.js":188,"./lib/_stream_readable.js":189,"./lib/_stream_transform.js":190,"./lib/_stream_writable.js":191}],197:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d,e=a.length;if(!(b>=e||0===c)){c=b+c>e?e-b:c;var f=e-c;for(d=b;d<f;++d)a[d]=a[d+c];a.length=f}}},{}],198:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=a("mini-signals"),h=d(g),i=a("parse-uri"),j=d(i),k=a("./async"),l=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(k),m=a("./Resource"),n=d(m),o=/(#[\w-]+)?$/,p=function(){function a(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;e(this,a),this.baseUrl=c,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(a,c){return b._loadResource(a,c)},this._queue=l.queue(this._boundLoadResource,d),this._queue.pause(),this.resources={},this.onProgress=new h.default,this.onError=new h.default,this.onLoad=new h.default,this.onStart=new h.default,this.onComplete=new h.default}return a.prototype.add=function(a,b,c,d){if(Array.isArray(a)){for(var e=0;e<a.length;++e)this.add(a[e]);return this}if("object"===(void 0===a?"undefined":f(a))&&(d=b||a.callback||a.onComplete,c=a,b=a.url,a=a.name||a.key||a.url),"string"!=typeof b&&(d=c,c=b,b=a),"string"!=typeof b)throw new Error("No url passed to add resource to loader.");if("function"==typeof c&&(d=c,c=null),this.loading&&(!c||!c.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[a])throw new Error('Resource named "'+a+'" already exists.');if(b=this._prepareUrl(b),this.resources[a]=new n.default(a,b,c),"function"==typeof d&&this.resources[a].onAfterMiddleware.once(d),this.loading){for(var g=c.parentResource,h=[],i=0;i<g.children.length;++i)g.children[i].isComplete||h.push(g.children[i]);var j=g.progressChunk*(h.length+1),k=j/(h.length+2);g.children.push(this.resources[a]),g.progressChunk=k;for(var l=0;l<h.length;++l)h[l].progressChunk=k;this.resources[a].progressChunk=k}return this._queue.push(this.resources[a]),this},a.prototype.pre=function(a){return this._beforeMiddleware.push(a),this},a.prototype.use=function(a){return this._afterMiddleware.push(a),this},a.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var a in this.resources){var b=this.resources[a];b._onLoadBinding&&b._onLoadBinding.detach(),b.isLoading&&b.abort()}return this.resources={},this},a.prototype.load=function(a){if("function"==typeof a&&this.onComplete.once(a),this.loading)return this;for(var b=100/this._queue._tasks.length,c=0;c<this._queue._tasks.length;++c)this._queue._tasks[c].data.progressChunk=b;return this.loading=!0,this.onStart.dispatch(this),this._queue.resume(),this},a.prototype._prepareUrl=function(a){var b=(0,j.default)(a,{strictMode:!0}),c=void 0;if(c=b.protocol||!b.path||0===a.indexOf("//")?a:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==a.charAt(0)?this.baseUrl+"/"+a:this.baseUrl+a,this.defaultQueryString){var d=o.exec(c)[0];c=c.substr(0,c.length-d.length),-1!==c.indexOf("?")?c+="&"+this.defaultQueryString:c+="?"+this.defaultQueryString,c+=d}return c},a.prototype._loadResource=function(a,b){var c=this;a._dequeue=b,l.eachSeries(this._beforeMiddleware,function(b,d){b.call(c,a,function(){d(a.isComplete?{}:null)})},function(){a.isComplete?c._onLoad(a):(a._onLoadBinding=a.onComplete.once(c._onLoad,c),a.load())},!0)},a.prototype._onComplete=function(){this.loading=!1,this.onComplete.dispatch(this,this.resources)},a.prototype._onLoad=function(a){var b=this;a._onLoadBinding=null,this._resourcesParsing.push(a),a._dequeue(),l.eachSeries(this._afterMiddleware,function(c,d){c.call(b,a,d)},function(){a.onAfterMiddleware.dispatch(a),b.progress+=a.progressChunk,b.onProgress.dispatch(b,a),a.error?b.onError.dispatch(a.error,b,a):b.onLoad.dispatch(b,a),b._resourcesParsing.splice(b._resourcesParsing.indexOf(a),1),b._queue.idle()&&0===b._resourcesParsing.length&&(b.progress=100,b._onComplete())},!0)},a}();c.default=p},{"./Resource":199,"./async":200,"mini-signals":16,"parse-uri":18}],199:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(){}function g(a,b,c){b&&0===b.indexOf(".")&&(b=b.substring(1)),b&&(a[b]=c)}function h(a){return a.toString().replace("object ","")}c.__esModule=!0;var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("parse-uri"),k=d(j),l=a("mini-signals"),m=d(l),n=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),o=null,p=function(){function a(b,c,d){if(e(this,a),"string"!=typeof b||"string"!=typeof c)throw new Error("Both name and url are required for constructing a resource.");d=d||{},this._flags=0,this._setFlag(a.STATUS_FLAGS.DATA_URL,0===c.indexOf("data:")),this.name=b,this.url=c,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===d.crossOrigin?"anonymous":d.crossOrigin,this.loadType=d.loadType||this._determineLoadType(),this.xhrType=d.xhrType,this.metadata=d.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=a.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=f,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new m.default,this.onProgress=new m.default,this.onComplete=new m.default,this.onAfterMiddleware=new m.default}return a.setExtensionLoadType=function(b,c){g(a._loadTypeMap,b,c)},a.setExtensionXhrType=function(b,c){g(a._xhrTypeMap,b,c)},a.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(a.STATUS_FLAGS.COMPLETE,!0),this._setFlag(a.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},a.prototype.abort=function(b){if(!this.error){if(this.error=new Error(b),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=a.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},a.prototype.load=function(b){var c=this;if(!this.isLoading){if(this.isComplete)return void(b&&setTimeout(function(){return b(c)},1));switch(b&&this.onComplete.once(b),this._setFlag(a.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case a.LOAD_TYPE.IMAGE:this.type=a.TYPE.IMAGE,this._loadElement("image");break;case a.LOAD_TYPE.AUDIO:this.type=a.TYPE.AUDIO,this._loadSourceElement("audio");break;case a.LOAD_TYPE.VIDEO:this.type=a.TYPE.VIDEO,this._loadSourceElement("video");break;case a.LOAD_TYPE.XHR:default:n&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},a.prototype._hasFlag=function(a){return!!(this._flags&a)},a.prototype._setFlag=function(a,b){this._flags=b?this._flags|a:this._flags&~a},a.prototype._loadElement=function(a){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===a&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(a),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},a.prototype._loadSourceElement=function(a){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===a&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(a),null===this.data)return void this.abort("Unsupported element: "+a);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var b=0;b<this.url.length;++b)this.data.appendChild(this._createSource(a,this.url[b]));else this.data.appendChild(this._createSource(a,this.url));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},a.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var b=this.xhr=new XMLHttpRequest;b.open("GET",this.url,!0),this.xhrType===a.XHR_RESPONSE_TYPE.JSON||this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT?b.responseType=a.XHR_RESPONSE_TYPE.TEXT:b.responseType=this.xhrType,b.addEventListener("error",this._boundXhrOnError,!1),b.addEventListener("abort",this._boundXhrOnAbort,!1),b.addEventListener("progress",this._boundOnProgress,!1),b.addEventListener("load",this._boundXhrOnLoad,!1),b.send()},a.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XDomainRequest;a.timeout=5e3,a.onerror=this._boundXhrOnError,a.ontimeout=this._boundXdrOnTimeout,a.onprogress=this._boundOnProgress,a.onload=this._boundXhrOnLoad,a.open("GET",this.url,!0),setTimeout(function(){return a.send()},1)},a.prototype._createSource=function(a,b,c){c||(c=a+"/"+b.substr(b.lastIndexOf(".")+1));var d=document.createElement("source");return d.src=b,d.type=c,d},a.prototype._onError=function(a){this.abort("Failed to load element using: "+a.target.nodeName)},a.prototype._onProgress=function(a){a&&a.lengthComputable&&this.onProgress.dispatch(this,a.loaded/a.total)},a.prototype._xhrOnError=function(){var a=this.xhr;this.abort(h(a)+" Request failed. Status: "+a.status+', text: "'+a.statusText+'"')},a.prototype._xhrOnAbort=function(){this.abort(h(this.xhr)+" Request was aborted by the user.")},a.prototype._xdrOnTimeout=function(){this.abort(h(this.xhr)+" Request timed out.")},a.prototype._xhrOnLoad=function(){var b=this.xhr,c="",d=void 0===b.status?200:b.status;if(""!==b.responseType&&"text"!==b.responseType&&void 0!==b.responseType||(c=b.responseText),0===d&&c.length>0?d=200:1223===d&&(d=204),2!=(d/100|0))return void this.abort("["+b.status+"] "+b.statusText+": "+b.responseURL);if(this.xhrType===a.XHR_RESPONSE_TYPE.TEXT)this.data=c,this.type=a.TYPE.TEXT;else if(this.xhrType===a.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(c),this.type=a.TYPE.JSON}catch(a){return void this.abort("Error trying to parse loaded json: "+a)}else if(this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var e=new DOMParser;this.data=e.parseFromString(c,"text/xml")}else{var f=document.createElement("div");f.innerHTML=c,this.data=f}this.type=a.TYPE.XML}catch(a){return void this.abort("Error trying to parse loaded xml: "+a)}else this.data=b.response||c;this.complete()},a.prototype._determineCrossOrigin=function(a,b){if(0===a.indexOf("data:"))return"";b=b||window.location,o||(o=document.createElement("a")),o.href=a,a=(0,k.default)(o.href,{strictMode:!0});var c=!a.port&&""===b.port||a.port===b.port,d=a.protocol?a.protocol+":":"";return a.host===b.hostname&&c&&d===b.protocol?"":"anonymous"},a.prototype._determineXhrType=function(){return a._xhrTypeMap[this.extension]||a.XHR_RESPONSE_TYPE.TEXT},a.prototype._determineLoadType=function(){return a._loadTypeMap[this.extension]||a.LOAD_TYPE.XHR},a.prototype._getExtension=function(){var a=this.url,b="";if(this.isDataUrl){var c=a.indexOf("/");b=a.substring(c+1,a.indexOf(";",c))}else{var d=a.indexOf("?");-1!==d&&(a=a.substring(0,d)),b=a.substring(a.lastIndexOf(".")+1)}return b.toLowerCase()},a.prototype._getMimeFromXhrType=function(b){switch(b){case a.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case a.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case a.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case a.XHR_RESPONSE_TYPE.JSON:return"application/json";case a.XHR_RESPONSE_TYPE.DEFAULT:case a.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},i(a,[{key:"isDataUrl",get:function(){return this._hasFlag(a.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(a.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(a.STATUS_FLAGS.LOADING)}}]),a}();c.default=p,p.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},p.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},p.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},p.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},p._loadTypeMap={gif:p.LOAD_TYPE.IMAGE,png:p.LOAD_TYPE.IMAGE,bmp:p.LOAD_TYPE.IMAGE,jpg:p.LOAD_TYPE.IMAGE,jpeg:p.LOAD_TYPE.IMAGE,tif:p.LOAD_TYPE.IMAGE,tiff:p.LOAD_TYPE.IMAGE,webp:p.LOAD_TYPE.IMAGE,tga:p.LOAD_TYPE.IMAGE,svg:p.LOAD_TYPE.IMAGE,"svg+xml":p.LOAD_TYPE.IMAGE,mp3:p.LOAD_TYPE.AUDIO,ogg:p.LOAD_TYPE.AUDIO,wav:p.LOAD_TYPE.AUDIO,mp4:p.LOAD_TYPE.VIDEO,webm:p.LOAD_TYPE.VIDEO},p._xhrTypeMap={xhtml:p.XHR_RESPONSE_TYPE.DOCUMENT,html:p.XHR_RESPONSE_TYPE.DOCUMENT,htm:p.XHR_RESPONSE_TYPE.DOCUMENT,xml:p.XHR_RESPONSE_TYPE.DOCUMENT,tmx:p.XHR_RESPONSE_TYPE.DOCUMENT,svg:p.XHR_RESPONSE_TYPE.DOCUMENT,tsx:p.XHR_RESPONSE_TYPE.DOCUMENT,gif:p.XHR_RESPONSE_TYPE.BLOB,png:p.XHR_RESPONSE_TYPE.BLOB,bmp:p.XHR_RESPONSE_TYPE.BLOB,jpg:p.XHR_RESPONSE_TYPE.BLOB,jpeg:p.XHR_RESPONSE_TYPE.BLOB,tif:p.XHR_RESPONSE_TYPE.BLOB,tiff:p.XHR_RESPONSE_TYPE.BLOB,webp:p.XHR_RESPONSE_TYPE.BLOB,tga:p.XHR_RESPONSE_TYPE.BLOB,json:p.XHR_RESPONSE_TYPE.JSON,text:p.XHR_RESPONSE_TYPE.TEXT,txt:p.XHR_RESPONSE_TYPE.TEXT,ttf:p.XHR_RESPONSE_TYPE.BUFFER,otf:p.XHR_RESPONSE_TYPE.BUFFER},p.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},{"mini-signals":16,"parse-uri":18}],200:[function(a,b,c){"use strict";function d(){}function e(a,b,c,d){var e=0,f=a.length;!function g(h){if(h||e===f)return void(c&&c(h));d?setTimeout(function(){b(a[e++],g)},1):b(a[e++],g)}()}function f(a){return function(){if(null===a)throw new Error("Callback was already called.");var b=a;a=null,b.apply(this,arguments)}}function g(a,b){function c(a,b,c){if(null!=c&&"function"!=typeof c)throw new Error("task callback must be a function");if(h.started=!0,null==a&&h.idle())return void setTimeout(function(){return h.drain()},1);var e={data:a,callback:"function"==typeof c?c:d};b?h._tasks.unshift(e):h._tasks.push(e),setTimeout(function(){return h.process()},1)}function e(a){return function(){g-=1,a.callback.apply(a,arguments),null!=arguments[0]&&h.error(arguments[0],a.data),g<=h.concurrency-h.buffer&&h.unsaturated(),h.idle()&&h.drain(),h.process()}}if(null==b)b=1;else if(0===b)throw new Error("Concurrency must not be zero");var g=0,h={_tasks:[],concurrency:b,saturated:d,unsaturated:d,buffer:b/4,empty:d,drain:d,error:d,started:!1,paused:!1,push:function(a,b){c(a,!1,b)},kill:function(){g=0,h.drain=d,h.started=!1,h._tasks=[]},unshift:function(a,b){c(a,!0,b)},process:function(){for(;!h.paused&&g<h.concurrency&&h._tasks.length;){var b=h._tasks.shift();0===h._tasks.length&&h.empty(),g+=1,g===h.concurrency&&h.saturated(),a(b.data,f(e(b)))}},length:function(){return h._tasks.length},running:function(){return g},idle:function(){return h._tasks.length+g===0},pause:function(){!0!==h.paused&&(h.paused=!0)},resume:function(){if(!1!==h.paused){h.paused=!1;for(var a=1;a<=h.concurrency;a++)h.process()}}};return h}c.__esModule=!0,c.eachSeries=e,c.queue=g},{}],201:[function(a,b,c){"use strict";function d(a){for(var b="",c=0;c<a.length;){for(var d=[0,0,0],f=[0,0,0,0],g=0;g<d.length;++g)c<a.length?d[g]=255&a.charCodeAt(c++):d[g]=0;f[0]=d[0]>>2,f[1]=(3&d[0])<<4|d[1]>>4,f[2]=(15&d[1])<<2|d[2]>>6,f[3]=63&d[2];switch(c-(a.length-1)){case 2:f[3]=64,f[2]=64;break;case 1:f[3]=64}for(var h=0;h<f.length;++h)b+=e.charAt(f[h])}return b}c.__esModule=!0,c.encodeBinary=d;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},{}],202:[function(a,b,c){"use strict";var d=a("./Loader").default,e=a("./Resource").default,f=a("./async"),g=a("./b64");d.Resource=e,d.async=f,d.base64=g,b.exports=d,b.exports.default=d},{"./Loader":198,"./Resource":199,"./async":200,"./b64":201}],203:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){return function(a,b){if(!a.data)return void b();if(a.xhr&&a.xhrType===h.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof a.data){if(0===a.data.type.indexOf("image")){var c=function(){var c=k.createObjectURL(a.data);return a.blob=a.data,a.data=new Image,a.data.src=c,a.type=h.default.TYPE.IMAGE,a.data.onload=function(){k.revokeObjectURL(c),a.data.onload=null,b()},{v:void 0}}();if("object"===(void 0===c?"undefined":f(c)))return c.v}}else{var d=a.xhr.getResponseHeader("content-type");if(d&&0===d.indexOf("image"))return a.data=new Image,a.data.src="data:"+d+";base64,"+j.default.encodeBinary(a.xhr.responseText),a.type=h.default.TYPE.IMAGE,void(a.data.onload=function(){a.data.onload=null,b()})}b()}}c.__esModule=!0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c.blobMiddlewareFactory=e;var g=a("../../Resource"),h=d(g),i=a("../../b64"),j=d(i),k=window.URL||window.webkitURL},{"../../Resource":199,"../../b64":201}],204:[function(a,b,c){(function(b){var d=a("./lib/request"),e=a("xtend"),f=a("builtin-status-codes"),g=a("url"),h=c;h.request=function(a,c){a="string"==typeof a?g.parse(a):e(a);var f=-1===b.location.protocol.search(/^https?:$/)?"http:":"",h=a.protocol||f,i=a.hostname||a.host,j=a.port,k=a.path||"/";i&&-1!==i.indexOf(":")&&(i="["+i+"]"),a.url=(i?h+"//"+i:"")+(j?":"+j:"")+k,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var l=new d(a);return c&&l.on("response",c),l},h.get=function(a,b){var c=h.request(a,b);return c.end(),c},h.Agent=function(){},h.Agent.defaultMaxSockets=4,h.STATUS_CODES=f,h.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":206,"builtin-status-codes":5,url:209,xtend:215}],205:[function(a,b,c){(function(a){function b(){if(void 0!==f)return f;if(a.XMLHttpRequest){f=new a.XMLHttpRequest;try{f.open("GET",a.XDomainRequest?"/":"https://example.com")}catch(a){f=null}}else f=null;return f}function d(a){var c=b();if(!c)return!1;try{return c.responseType=a,c.responseType===a}catch(a){}return!1}function e(a){return"function"==typeof a}c.fetch=e(a.fetch)&&e(a.ReadableStream),c.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),c.blobConstructor=!0}catch(a){}var f,g=void 0!==a.ArrayBuffer,h=g&&e(a.ArrayBuffer.prototype.slice);c.arraybuffer=c.fetch||g&&d("arraybuffer"),c.msstream=!c.fetch&&h&&d("ms-stream"),c.mozchunkedarraybuffer=!c.fetch&&g&&d("moz-chunked-arraybuffer"),c.overrideMimeType=c.fetch||!!b()&&e(b().overrideMimeType),c.vbArray=e(a.VBArray),f=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],206:[function(a,b,c){(function(c,d,e){function f(a,b){return h.fetch&&b?"fetch":h.mozchunkedarraybuffer?"moz-chunked-arraybuffer":h.msstream?"ms-stream":h.arraybuffer&&a?"arraybuffer":h.vbArray&&a?"text:vbarray":"text"}function g(a){try{var b=a.status;return null!==b&&0!==b}catch(a){return!1}}var h=a("./capability"),i=a("inherits"),j=a("./response"),k=a("readable-stream"),l=a("to-arraybuffer"),m=j.IncomingMessage,n=j.readyStates,o=b.exports=function(a){var b=this;k.Writable.call(b),b._opts=a,b._body=[],b._headers={},a.auth&&b.setHeader("Authorization","Basic "+new e(a.auth).toString("base64")),Object.keys(a.headers).forEach(function(c){b.setHeader(c,a.headers[c])});var c,d=!0;if("disable-fetch"===a.mode||"timeout"in a)d=!1,c=!0;else if("prefer-streaming"===a.mode)c=!1;else if("allow-wrong-content-type"===a.mode)c=!h.overrideMimeType;else{if(a.mode&&"default"!==a.mode&&"prefer-fast"!==a.mode)throw new Error("Invalid value for opts.mode");c=!0}b._mode=f(c,d),b.on("finish",function(){b._onFinish()})};i(o,k.Writable),o.prototype.setHeader=function(a,b){var c=this,d=a.toLowerCase();-1===p.indexOf(d)&&(c._headers[d]={name:a,value:b})},o.prototype.getHeader=function(a){var b=this._headers[a.toLowerCase()];return b?b.value:null},o.prototype.removeHeader=function(a){delete this._headers[a.toLowerCase()]},o.prototype._onFinish=function(){var a=this;if(!a._destroyed){var b=a._opts,f=a._headers,g=null;"GET"!==b.method&&"HEAD"!==b.method&&(g=h.blobConstructor?new d.Blob(a._body.map(function(a){return l(a)}),{type:(f["content-type"]||{}).value||""}):e.concat(a._body).toString());var i=[];if(Object.keys(f).forEach(function(a){var b=f[a].name,c=f[a].value;Array.isArray(c)?c.forEach(function(a){i.push([b,a])}):i.push([b,c])}),"fetch"===a._mode)d.fetch(a._opts.url,{method:a._opts.method,headers:i,body:g||void 0,mode:"cors",credentials:b.withCredentials?"include":"same-origin"}).then(function(b){a._fetchResponse=b,a._connect()},function(b){a.emit("error",b)});else{var j=a._xhr=new d.XMLHttpRequest;try{j.open(a._opts.method,a._opts.url,!0)}catch(b){return void c.nextTick(function(){a.emit("error",b)})}"responseType"in j&&(j.responseType=a._mode.split(":")[0]),"withCredentials"in j&&(j.withCredentials=!!b.withCredentials),"text"===a._mode&&"overrideMimeType"in j&&j.overrideMimeType("text/plain; charset=x-user-defined"),"timeout"in b&&(j.timeout=b.timeout,j.ontimeout=function(){a.emit("timeout")}),i.forEach(function(a){j.setRequestHeader(a[0],a[1])}),a._response=null,j.onreadystatechange=function(){switch(j.readyState){case n.LOADING:case n.DONE:a._onXHRProgress()}},"moz-chunked-arraybuffer"===a._mode&&(j.onprogress=function(){a._onXHRProgress()}),j.onerror=function(){a._destroyed||a.emit("error",new Error("XHR error"))};try{j.send(g)}catch(b){return void c.nextTick(function(){a.emit("error",b)})}}}},o.prototype._onXHRProgress=function(){var a=this;g(a._xhr)&&!a._destroyed&&(a._response||a._connect(),a._response._onXHRProgress())},o.prototype._connect=function(){var a=this;a._destroyed||(a._response=new m(a._xhr,a._fetchResponse,a._mode),a._response.on("error",function(b){a.emit("error",b)}),a.emit("response",a._response))},
o.prototype._write=function(a,b,c){this._body.push(a),c()},o.prototype.abort=o.prototype.destroy=function(){var a=this;a._destroyed=!0,a._response&&(a._response._destroyed=!0),a._xhr&&a._xhr.abort()},o.prototype.end=function(a,b,c){var d=this;"function"==typeof a&&(c=a,a=void 0),k.Writable.prototype.end.call(d,a,b,c)},o.prototype.flushHeaders=function(){},o.prototype.setTimeout=function(){},o.prototype.setNoDelay=function(){},o.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"./capability":205,"./response":207,_process:182,buffer:4,inherits:11,"readable-stream":196,"to-arraybuffer":208}],207:[function(a,b,c){(function(b,d,e){var f=a("./capability"),g=a("inherits"),h=a("readable-stream"),i=c.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},j=c.IncomingMessage=function(a,c,d){function g(){j.read().then(function(a){if(!i._destroyed){if(a.done)return void i.push(null);i.push(new e(a.value)),g()}}).catch(function(a){i.emit("error",a)})}var i=this;if(h.Readable.call(i),i._mode=d,i.headers={},i.rawHeaders=[],i.trailers={},i.rawTrailers=[],i.on("end",function(){b.nextTick(function(){i.emit("close")})}),"fetch"===d){i._fetchResponse=c,i.url=c.url,i.statusCode=c.status,i.statusMessage=c.statusText,c.headers.forEach(function(a,b){i.headers[b.toLowerCase()]=a,i.rawHeaders.push(b,a)});var j=c.body.getReader();g()}else{i._xhr=a,i._pos=0,i.url=a.responseURL,i.statusCode=a.status,i.statusMessage=a.statusText;if(a.getAllResponseHeaders().split(/\r?\n/).forEach(function(a){var b=a.match(/^([^:]+):\s*(.*)/);if(b){var c=b[1].toLowerCase();"set-cookie"===c?(void 0===i.headers[c]&&(i.headers[c]=[]),i.headers[c].push(b[2])):void 0!==i.headers[c]?i.headers[c]+=", "+b[2]:i.headers[c]=b[2],i.rawHeaders.push(b[1],b[2])}}),i._charset="x-user-defined",!f.overrideMimeType){var k=i.rawHeaders["mime-type"];if(k){var l=k.match(/;\s*charset=([^;])(;|$)/);l&&(i._charset=l[1].toLowerCase())}i._charset||(i._charset="utf-8")}}};g(j,h.Readable),j.prototype._read=function(){},j.prototype._onXHRProgress=function(){var a=this,b=a._xhr,c=null;switch(a._mode){case"text:vbarray":if(b.readyState!==i.DONE)break;try{c=new d.VBArray(b.responseBody).toArray()}catch(a){}if(null!==c){a.push(new e(c));break}case"text":try{c=b.responseText}catch(b){a._mode="text:vbarray";break}if(c.length>a._pos){var f=c.substr(a._pos);if("x-user-defined"===a._charset){for(var g=new e(f.length),h=0;h<f.length;h++)g[h]=255&f.charCodeAt(h);a.push(g)}else a.push(f,a._charset);a._pos=c.length}break;case"arraybuffer":if(b.readyState!==i.DONE||!b.response)break;c=b.response,a.push(new e(new Uint8Array(c)));break;case"moz-chunked-arraybuffer":if(c=b.response,b.readyState!==i.LOADING||!c)break;a.push(new e(new Uint8Array(c)));break;case"ms-stream":if(c=b.response,b.readyState!==i.LOADING)break;var j=new d.MSStreamReader;j.onprogress=function(){j.result.byteLength>a._pos&&(a.push(new e(new Uint8Array(j.result.slice(a._pos)))),a._pos=j.result.byteLength)},j.onload=function(){a.push(null)},j.readAsArrayBuffer(c)}a._xhr.readyState===i.DONE&&"ms-stream"!==a._mode&&a.push(null)}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"./capability":205,_process:182,buffer:4,inherits:11,"readable-stream":196}],208:[function(a,b,c){var d=a("buffer").Buffer;b.exports=function(a){if(a instanceof Uint8Array){if(0===a.byteOffset&&a.byteLength===a.buffer.byteLength)return a.buffer;if("function"==typeof a.buffer.slice)return a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)}if(d.isBuffer(a)){for(var b=new Uint8Array(a.length),c=a.length,e=0;e<c;e++)b[e]=a[e];return b.buffer}throw new Error("Argument must be a Buffer")}},{buffer:4}],209:[function(a,b,c){"use strict";function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function e(a,b,c){if(a&&j.isObject(a)&&a instanceof d)return a;var e=new d;return e.parse(a,b,c),e}function f(a){return j.isString(a)&&(a=e(a)),a instanceof d?a.format():d.prototype.format.call(a)}function g(a,b){return e(a,!1,!0).resolve(b)}function h(a,b){return a?e(a,!1,!0).resolveObject(b):b}var i=a("punycode"),j=a("./util");c.parse=e,c.resolve=g,c.resolveObject=h,c.format=f,c.Url=d;var k=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,m=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,n=["<",">",'"',"`"," ","\r","\n","\t"],o=["{","}","|","\\","^","`"].concat(n),p=["'"].concat(o),q=["%","/","?",";","#"].concat(p),r=["/","?","#"],s=/^[+a-z0-9A-Z_-]{0,63}$/,t=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,u={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=a("querystring");d.prototype.parse=function(a,b,c){if(!j.isString(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a.indexOf("?"),e=-1!==d&&d<a.indexOf("#")?"?":"#",f=a.split(e),g=/\\/g;f[0]=f[0].replace(g,"/"),a=f.join(e);var h=a;if(h=h.trim(),!c&&1===a.split("#").length){var l=m.exec(h);if(l)return this.path=h,this.href=h,this.pathname=l[1],l[2]?(this.search=l[2],this.query=b?x.parse(this.search.substr(1)):this.search.substr(1)):b&&(this.search="",this.query={}),this}var n=k.exec(h);if(n){n=n[0];var o=n.toLowerCase();this.protocol=o,h=h.substr(n.length)}if(c||n||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var y="//"===h.substr(0,2);!y||n&&v[n]||(h=h.substr(2),this.slashes=!0)}if(!v[n]&&(y||n&&!w[n])){for(var z=-1,A=0;A<r.length;A++){var B=h.indexOf(r[A]);-1!==B&&(-1===z||B<z)&&(z=B)}var C,D;D=-1===z?h.lastIndexOf("@"):h.lastIndexOf("@",z),-1!==D&&(C=h.slice(0,D),h=h.slice(D+1),this.auth=decodeURIComponent(C)),z=-1;for(var A=0;A<q.length;A++){var B=h.indexOf(q[A]);-1!==B&&(-1===z||B<z)&&(z=B)}-1===z&&(z=h.length),this.host=h.slice(0,z),h=h.slice(z),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var F=this.hostname.split(/\./),A=0,G=F.length;A<G;A++){var H=F[A];if(H&&!H.match(s)){for(var I="",J=0,K=H.length;J<K;J++)H.charCodeAt(J)>127?I+="x":I+=H[J];if(!I.match(s)){var L=F.slice(0,A),M=F.slice(A+1),N=H.match(t);N&&(L.push(N[1]),M.unshift(N[2])),M.length&&(h="/"+M.join(".")+h),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=i.toASCII(this.hostname));var O=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+O,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!u[o])for(var A=0,G=p.length;A<G;A++){var Q=p[A];if(-1!==h.indexOf(Q)){var R=encodeURIComponent(Q);R===Q&&(R=escape(Q)),h=h.split(Q).join(R)}}var S=h.indexOf("#");-1!==S&&(this.hash=h.substr(S),h=h.slice(0,S));var T=h.indexOf("?");if(-1!==T?(this.search=h.substr(T),this.query=h.substr(T+1),b&&(this.query=x.parse(this.query)),h=h.slice(0,T)):b&&(this.search="",this.query={}),h&&(this.pathname=h),w[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var O=this.pathname||"",U=this.search||"";this.path=O+U}return this.href=this.format(),this},d.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&(e=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&j.isObject(this.query)&&Object.keys(this.query).length&&(f=x.stringify(this.query));var g=this.search||f&&"?"+f||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||w[b])&&!1!==e?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e=""),d&&"#"!==d.charAt(0)&&(d="#"+d),g&&"?"!==g.charAt(0)&&(g="?"+g),c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),g=g.replace("#","%23"),b+e+c+g+d},d.prototype.resolve=function(a){return this.resolveObject(e(a,!1,!0)).format()},d.prototype.resolveObject=function(a){if(j.isString(a)){var b=new d;b.parse(a,!1,!0),a=b}for(var c=new d,e=Object.keys(this),f=0;f<e.length;f++){var g=e[f];c[g]=this[g]}if(c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol){for(var h=Object.keys(a),i=0;i<h.length;i++){var k=h[i];"protocol"!==k&&(c[k]=a[k])}return w[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c}if(a.protocol&&a.protocol!==c.protocol){if(!w[a.protocol]){for(var l=Object.keys(a),m=0;m<l.length;m++){var n=l[m];c[n]=a[n]}return c.href=c.format(),c}if(c.protocol=a.protocol,a.host||v[a.protocol])c.pathname=a.pathname;else{for(var o=(a.pathname||"").split("/");o.length&&!(a.host=o.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),c.pathname=o.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var p=c.pathname||"",q=c.search||"";c.path=p+q}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var r=c.pathname&&"/"===c.pathname.charAt(0),s=a.host||a.pathname&&"/"===a.pathname.charAt(0),t=s||r||c.host&&a.pathname,u=t,x=c.pathname&&c.pathname.split("/")||[],o=a.pathname&&a.pathname.split("/")||[],y=c.protocol&&!w[c.protocol];if(y&&(c.hostname="",c.port=null,c.host&&(""===x[0]?x[0]=c.host:x.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===o[0]?o[0]=a.host:o.unshift(a.host)),a.host=null),t=t&&(""===o[0]||""===x[0])),s)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,x=o;else if(o.length)x||(x=[]),x.pop(),x=x.concat(o),c.search=a.search,c.query=a.query;else if(!j.isNullOrUndefined(a.search)){if(y){c.hostname=c.host=x.shift();var z=!!(c.host&&c.host.indexOf("@")>0)&&c.host.split("@");z&&(c.auth=z.shift(),c.host=c.hostname=z.shift())}return c.search=a.search,c.query=a.query,j.isNull(c.pathname)&&j.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!x.length)return c.pathname=null,c.search?c.path="/"+c.search:c.path=null,c.href=c.format(),c;for(var A=x.slice(-1)[0],B=(c.host||a.host||x.length>1)&&("."===A||".."===A)||""===A,C=0,D=x.length;D>=0;D--)A=x[D],"."===A?x.splice(D,1):".."===A?(x.splice(D,1),C++):C&&(x.splice(D,1),C--);if(!t&&!u)for(;C--;C)x.unshift("..");!t||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),B&&"/"!==x.join("/").substr(-1)&&x.push("");var E=""===x[0]||x[0]&&"/"===x[0].charAt(0);if(y){c.hostname=c.host=E?"":x.length?x.shift():"";var z=!!(c.host&&c.host.indexOf("@")>0)&&c.host.split("@");z&&(c.auth=z.shift(),c.host=c.hostname=z.shift())}return t=t||c.host&&x.length,t&&!E&&x.unshift(""),x.length?c.pathname=x.join("/"):(c.pathname=null,c.path=null),j.isNull(c.pathname)&&j.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},d.prototype.parseHost=function(){var a=this.host,b=l.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)}},{"./util":210,punycode:183,querystring:186}],210:[function(a,b,c){"use strict";b.exports={isString:function(a){return"string"==typeof a},isObject:function(a){return"object"==typeof a&&null!==a},isNull:function(a){return null===a},isNullOrUndefined:function(a){return null==a}}},{}],211:[function(a,b,c){(function(a){function c(a,b){function c(){if(!e){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation"),e=!0}return a.apply(this,arguments)}if(d("noDeprecation"))return a;var e=!1;return c}function d(b){try{if(!a.localStorage)return!1}catch(a){return!1}var c=a.localStorage[b];return null!=c&&"true"===String(c).toLowerCase()}b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],212:[function(a,b,c){arguments[4][11][0].apply(c,arguments)},{dup:11}],213:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],214:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){r=" [Function"+(b.name?": "+b.name:"")+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(d<0)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var v;return v=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(v,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;g<h;++g)D(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),D(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0;return a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||void 0===a}function C(a){return Object.prototype.toString.call(a)}function D(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var E=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(E,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(a){return"[Circular]"}default:return a}}),h=d[c];c<f;h=d[++c])q(h)||!x(h)?g+=" "+h:g+=" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation,g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(!0===b.noDeprecation)return a;var g=!1;return f};var F,G={};c.debuglog=function(a){if(v(F)&&(F=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!G[a])if(new RegExp("\\b"+a+"\\b","i").test(F)){b.pid;G[a]=function(){c.format.apply(c,arguments)}}else G[a]=function(){};return G[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");c.log=function(){},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":213,_process:182,inherits:212}],215:[function(a,b,c){function d(){for(var a={},b=0;b<arguments.length;b++){var c=arguments[b];for(var d in c)e.call(c,d)&&(a[d]=c[d])}return a}b.exports=d;var e=Object.prototype.hasOwnProperty},{}],216:[function(a,b,c){var d={WORLD_SIZE:24e3,GRID_ELE_SCALE:.8,GRID_ELE_SIZE:120,GRID_RECT_SPRITE_P_BLOCK:17},e={CONN_STR:"http://172.104.32.148:519",SKIN_DATA:[{Masks:["eagle","owl","fox","human","cartoon","cat","mask"],Tags:["snail","express","snow","doom","trail"]},{Masks:[{eagle:200},{owl:300},{fox:500},{human:500},{cartoon:500},{cat:500},{mask:500}],Tags:[{snail:100},{express:200},{snow:200},{doom:200},{trail:200}]},{Masks:[{eagle:"wild eagle"},{owl:"cool owl"},{fox:"boom fox"},{human:"boom boom"},{cartoon:"boom toon"},{cat:"wild cat"},{mask:"wild mask"}],Tags:[{snail:"Snail"},{express:"Express"},{snow:"Snow"},{doom:"Doom"},{trail:"Trail"}]},{types:{eagle:"mask",owl:"mask",fox:"mask",human:"mask",cartoon:"mask",cat:"mask",mask:"mask",snail:"tag",express:"tag",snow:"tag",doom:"tag",trail:"tag"}}],FILES:["gridele","dotr","dotc","dotg","dotp","doty","pcircle","pcircleo","pcirclefill","pcircleouter","healthbar","bullet","fr","eagle_sb2.56@7","owl_sb2.56@7","fox_sy2.56@7","human_sb2.50@7","cartoon_sb2.52@11","cat_sb3.56@7","mask_sy2.53@18","eyesy_s","eyesb_s"],SKIN_EYES:[],DOT_COL:"g_00ff00,r_ff0000,c_00ffff,y_ffff00,p_5555ff",MOUSE_CLICK_POLL_TIME:500,FILES_PARENT:"images",FILES_SPARENT:"images/skins",FILES_EXT:"png",GRID_SPR_TIMEOUT:1e4,PLA_SP_NORM:170,PLA_SP_FAS:3,LOOP_SLOW_RATE:15,LOOP_FAST_RATE:30,LOOP_PANIC_COUNT:240,SERVER_CODE:-1,PL_PL_COLL_RAD:100,DOTS_HIDE_PIXELS:110,RAND:0,BLOCK_DENS_EXTRA_SPACE:2,RAND_POS_PADDING:100,LOCAL_SERVER_PRIMUS_PATH:"/jsdata/primus.js",PUBLIC_DIR:"public",CONN_STR_LOCAL:"http://localhost:519",LRoomSTR:"_room-",MAX_ROOM_COUNT_CAPTURE_MODE:100,GM_DOM_MAX_CAPACITY:60,GM_DOM_TEAM_MAX_SIZE:20,PLAYER_DIE_MASS:105,GAME_STATUS:{LIVE:0,MAINTAINENCE:1},S_WD:"s.wd",STREAM_USER_DELTA:5,MAX_SCALE_PLAYER:1.8,SERV_CLIE_PLA_SCA_DIFF:0,DEFAULT_MODE:"KNT",DEFAULT_QUALITY:"average",PLAYER_COLL_RECT:90,START_RAD:55,RAD_MASS_R:3,PER_DOT_MASS:1,ON_SOMEONE_ELSE_PARK_HEALTH_MINUS:5,MIN_SPEED:60,SPEED_MASS_FACTOR:50,DEL_SCALE_EAT:.001,DEL_SCALE_PARK:.02,ERR:{MODE_NOT_FOUND:"Mode not found",QUA_NOT_FOUND:"Quality settings not found.",MAINTAINENCE:"Maintainence under progress."},GM_DOM_TEAM:["0xff0000","0x00ff00","0x0000ff"],GM_DOM_TEAM_COLORS:{1:"0xff0000",2:"0x00ff00",3:"0x0000ff"},GM_DOM_TEAM_MAX:3,MODES:["KNT","ESG","DOMINATION","CTF","MONSTER","ASSAULT","LAST_MAN_STANDING","TEAM_BATTLE"],MODE_CUP_CONST:"u.p",MODE_CUP_PACKET:["k","e","d","m","t","c","tb","a"],MODE_DOMINATION_CONF:{TeamSize:10,TeamColors:[16711680,65280]},E_QUALITY:{UGLY:1,AVERAGE:2,GREAT:3},QUA_TO_STR:{1:"UGLY",2:"AVERAGE",3:"GREAT"},citiesMap:[{i:4,si:8,c:.5,r:10,rn:["fsd","wew","vxcvsd","wewe","zooa","virgin islands","boom beach","dooor","aadsd","cvcv"]},{i:7,si:2,c:.9,r:8,rn:["vxcvxc","fdsfd","rewr","cvcxd","fgfh","hrtr","gretr","nbvn"]},{i:6,si:4,c:.2,r:9,rn:["vbf","34fdf","vbvnbr","rrfss","fg4dfg","bvcfdd","nbng","fgfdb","bssfsd"]}],TINT_COLORS_RAINBOW:[{c:"#8800FF"},{c:"#0000FF"},{c:"#00FFFF"},{c:"#00FF00"},{c:"#FFFF00"},{c:"#FF7F00"},{c:"#FF0000"}],TINT_COLORS:[{BlueOrchid:"#1F45FC",c:"#1F45FC"},{RoyaleBlue:"#2B60DE",c:"#2B60DE"},{CobaltBlue:"#0020C2",c:"#0020C2"},{BlueLotus:"#6960EC",c:"#6960EC"},{SilkBlue:"#488AC7",c:"#488AC7"},{AquaBlue:"#00FFFF",c:"#00FFFF"},{ELECTRICBLUE:"#9AFEFF",c:"#9AFEFF"},{TEAL:"#008080",c:"#008080"},{SEA_GREEN:"#4E8975",c:"#4E8975"},{CamoGreen:"#78866B",c:"#78866B"},{MSeaGreen:"#306754",c:"#306754"},{MForestGreen:"#347235",c:"#347235"},{CloverGreen:"#3EA055",c:"#3EA055"},{SpringGreen:"#4AA02C",c:"#4AA02C"},{Green:"#00FF00",c:"#00FF00"},{Yellow:"#FFFF00",c:"#FFFF00"},{CornYellow:"#FFF380",c:"#FFF380"},{BlondeYellow:"#FBF6D9",c:"#FBF6D9"},{DickYellow:"#FFD801",c:"#FFD801"},{GoldenYellow:"#EAC117",c:"#EAC117"},{DeepYellow:"#FFCBA4",c:"#FFCBA4"},{BrassYellow:"#B5A642",c:"#B5A642"},{TigerOrange:"#C88141",c:"#C88141"},{CinnamonOrange:"#C58917",c:"#C58917"},{WoodBrown:"#966F33",c:"#966F33"},{RedDOrange:"#7F5217",c:"#7F5217"},{RustOrange:"#C36241",c:"#C36241"},{ChoclateOrange:"#C85A17",c:"#C85A17"},{DarkOrange:"#F88017",c:"#F88017"},{ValentineRed:"#E55451",c:"#E55451"},{RubeRed:"#F62217",c:"#F62217"},{ChilliRed:"#C11B17",c:"#C11B17"},{WineRed:"#990012",c:"#990012"},{BloodRed:"#7E3517",c:"#7E3517"},{Magenta:"#FF00FF",c:"#FF00FF"},{DeepPink:"#F52887",c:"#F52887"},{LemonPink:"#E4287C",c:"#E4287C"},{VioletRed:"#CA226B",c:"#CA226B"},{PlumPink:"#B93B8F",c:"#B93B8F"},{IrisPurple:"#571B7E",c:"#571B7E"},{HazePurple:"#571B7E",c:"#571B7E"},{CrimsonPink:"#E238EC",c:"#E238EC"},{SeashellYellow:"#FFF5EE",c:"#FFF5EE"},{BlueWhale:"#342D7E",c:"#342D7E"},{JeyGray:"#616D7E",c:"#616D7E"},{SlateGrey:"#25383C",c:"#25383C"},{GooseGray:"#D1D0CE",c:"#D1D0CE"},{MarbleBlue:"#566D7E",c:"#566D7E"},{FerrariRed:"#F70D1A",c:"#F70D1A"},{ChestnutRed:"#C34A2C",c:"#C34A2C"}],DEFAULT_GRID_CLR:"#222222",ROOM_DIV_COUNT:50,GRID_ELE_SCALE:d.GRID_ELE_SCALE,GRID_ELE_SIZE:d.GRID_ELE_SIZE,GRID_RECT_SPRITE_P_BLOCK:d.GRID_RECT_SPRITE_P_BLOCK,TRY_WORLD_SIZE:d.WORLD_SIZE,GRID_SPACE_IN_DIM:100*Math.floor(d.GRID_ELE_SCALE*d.GRID_ELE_SIZE*d.GRID_RECT_SPRITE_P_BLOCK/100),GRID_RGB_REPSPAWN_BASE:10,GRID_RGB_REPSPAWN_DEL:20,GRID_RGB_REPSPAWN_MIN:50,GRID_RGB_REPSPAWN_Y_BASE:15,gridDotSize:40,WORLD_SIZE:function(a,b){var c=b%a,d=a/b;return 0!==c&&(d=Math.ceil(a/b)),d*b}(d.WORLD_SIZE,100*Math.floor(d.GRID_ELE_SCALE*d.GRID_ELE_SIZE*d.GRID_RECT_SPRITE_P_BLOCK/100)),MAX_PORTALS:5,MAX_SIZE:1e3,START_SIZE:100,MAX_BULLETS:50,MAX_BOOM_DOTS:1e4,BULL_SS:30,DOTS_PER_BLOCK:100,DOTS_POS_DELTA:50,COLORS_COUNT_DOTS:4,BULL_DIST:{LOW:20,MED:15,GOOD:10,HIGH:5},BULL_SIZE:{SMALL:20,SM_MED:25,MEDIUM:30,LARGE:35,SUPER_LARGE:40,EPIC:50},BULL_ANGLE:{A0:0,A60:60,A120:120},BULL_SPEED:{LOW:10,MED:15,GOOD:20,HIGH:25},GUNS:{}};e.NO_OF_GRID_BLOCKS=e.WORLD_SIZE/e.GRID_SPACE_IN_DIM,b.exports=e},{}],217:[function(a,b,c){var d=[],e=function(){var a=0;return function(){return a++}}();b.exports.setGameLoop=function(a,b){var c=e();d.push(c),b=b||1e3/30;var f=Date.now(),g=0,h=function(){var e=Date.now();if(g++,f+b<=e){var i=(e-f)/1e3;f=e,a(i),g=0}-1!==d.indexOf(c)&&(Date.now()-f<b-16?setTimeout(h,16):setImmediate(h))};return h(),c},b.exports.clearGameLoop=function(a){d.splice(d.indexOf(a),1)}},{}],218:[function(a,b,c){function d(a,b,c){$(""+b+a).on("click",c)}function e(a){var b;if(window=window||"",""!==window)return function(){b=window.setInterval(function(){a(b)},8e3)}}var f=a("./player.js"),g=(a("pixi-display"),a("./keyboard.js")),h=($=a("jquery"),a("http"),a("./renderer.js")),i=a("./game.js"),j=a("./skinner.js"),k=a("./social.js"),l=a("./gameConf.js"),m=0,n="",o="";o="localhost",m=519,n="http://"+o+":"+m,l.MAIN_CONN=n;var p,q=a("./fastmath.js"),r=new q,s=(a("./events.js"),a("./lz-string.js")),t=a("./tauntm.js"),u=a("./leaderboard.js"),v=a("./reqserver.js"),w=null,x=[],y=0,z=Math.max,A=(Math.min,{NONE:0,WORLD:1,GAME:2}),B=l.EVENTS.S_RU,C=l.EVENTS.S_BP,D=l.EVENTS.S_OPEN,E=l.EVENTS.S_MT,F=(l.EVENTS.S_TK,l.EVENTS.S_WDD),G=l.EVENTS.S_WDT,H=l.EVENTS.S_SMC,I=l.EVENTS.S_ERR,J=Object.keys,K=function(a,b){a[a.length]=b},L=function(){function a(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function b(){var a=O.camera;Q.on("m:lc",function(){if(w){var a=performance.now().toFixed(0);m.send("c.md",{s:a})}}.bind(this)),Q.on("m:rc",function(a){if(w){var b=performance.now().toFixed(0);w.rightClick(a.o),m.send("c.rc",{x:a.x,y:a.y,o:a.o,s:b})}}.bind(this)),Q.on("m:lc_",function(){}.bind(this)),Q.on("m:rc_",function(a){if(w){var b=performance.now().toFixed(0);w.rightClick(a.o),m.send("c.rc",{x:a.x,y:a.y,o:a.o,s:b})}}.bind(this)),Q.on("c:f",function(){if(w){var a=performance.now().toFixed(0),b=Date.now(),c=b-this.lastFireTime;this.fireDelta+=c,this.fireDelta>20&&(m.send("c.f",{s:a}),this.fireDelta=0),this.lastFireTime=b}}.bind(this)),Q.on("bot",function(){m.send("c.tempdead")}.bind(this)),Q.on("split",function(){m.send("c.split")}.bind(this)),Q.on("mouseMove",function(){var b=this,c=a.root;return function(d){if(w&&a){var e=c.position,f=performance.now().toFixed(0),g=Date.now(),h=g-b.lastTime;if(b.timespan+=h,b.timespan>100){var i=w.collectClientInput(d.x-e.x,d.y-e.y,f);d.y,e.y,d.x,e.x;m.send("c.i",{val:Math.round(100*i[0])/100,stamp:f,d:i[1]}),b.timespan=0}b.lastTime=g}}}.bind(this)())}var c,m,o,q,L=!1,N=[],O=null,P=null,Q=null,R="",S=!0,T="",U="",V=l.GRAPHICS[0],W=V;this.isInside=!1,this.activeShopElements={},this.timespan=0,this.xtoken="",this.restart=!1,this.latency=0,this.online=!1,this.uid="",this.pname="",this.fireDelta=0,this.lastTime=Date.now(),this.lastFireTime=Date.now(),this.otherPlayers=[],this.discData=[],this.activeSkinColor="0xFFE5C8",this.otherPlayersKeys=[],this.gd_load=!1,curMode_element=null,lastMode_element=null,this.cur_m_str="",this.reqServer=new v(this),this.skinner=null,this.latency,this.scrollInterval;var X=[];this.getPrimus=function(){return m},this.getTips=function(){return N},this.topScroll=function(a,b){var c=""+b,d=window.innerWidth;if(parseInt(a.css("margin-left"))<=-c){var e=""+d;a.css("margin-left",e+"px")}a.css("margin-left","-=1px")},this.startScrolling=function(){this.scrollInterval&&clearInterval(this.scrollInterval);var a=$(".pl-container"),b=a.width();this.scrollInterval=setInterval(this.topScroll.bind(this),20,a,b),X.push(this.scrollInterval)},this.logout=function(){this.gameSparkServer.logOut()},this.showProfile=function(a){$(".ol-profile-main").show(),$(".ol-profile-closebtn").off("click"),$(".ol-profile-closebtn").on("click",function(){$(".ol-profile-main").hide()})},this.addJQEvents=function(a){var b=a;$(document).ready(function(){window.innerWidth,window.innerHeight;$(window).resize(function(){var a=.35*$(document).width(),c=Math.max(432,.95*a);$(".delTaunt").css("left",c+"px");var d=b.getRenderer().winResize.bind(b.getRenderer())();m.send("c.wr",d)}),$(".mm-profile-btn").off("click").on("click",function(a){a.stopImmediatePropagation(),$("#ol-profile-window").show(),b.showProfile()}),d("areas-header",".",function(){}),d("mm-modes",".",function(){$(".mm-mode-outer").slideToggle("fast")}),$(document).on("contextmenu","#canvas",function(a){return!1}),$(document).on("click",function(a){var b=$(".tn-overlay"),c=$(".tnovout");b.is(a.target)||0!==b.has(a.target).length||c.hide()}),$(document).mouseup(function(a){var b=$(".tauntdialoglmain"),c=$(".tauntdialogmain"),d=$(".ol-signup"),e=$(".taunt-txt i"),f=$(".main-symbols"),g=$(".signinpanel-inner i"),h=$(".mm-modes"),i=$(".tiny-right"),j=$(".setting-tip"),k=$(".mm-mode-outer");d.is(a.target)||0!==d.has(a.target).length||$(".ol-signup-main").hide(),h.is(a.target)||0!==h.has(a.target).length||k.is(a.target)||0!==k.has(a.target).length||k.slideUp("fast"),b.is(a.target)||0!==b.has(a.target).length||e.is(a.target)||0!==e.has(a.target).length||b.parent("#tauntlocaldialog").hide(),c.is(a.target)||0!==c.has(a.target).length||e.is(a.target)||0!==e.has(a.target).length||c.parent("#tauntdialog").hide(),j.is(a.target)||0!==j.has(a.target).length||i.is(a.target)||0!==i.has(a.target).length||(setTimeout(function(){$(".game-controls").hide()},200),$(".user-settings").hide()),g.is(a.target)||f.is(a.target)||0!==f.has(a.target).length||(g.removeClass("glyphicon glyphicon-chevron-up").addClass("glyphicon glyphicon-chevron-down"),f.hide())}),d("back_game_btn","#",function(){b.showInt(),$(this).closest("#back_game").hide()}),d("cityhis-lg-btn","#",function(){var a=$("#location-selector :selected").text().split("(")[0].trim();b.cityHistoryGlobal(a)}),d("moved",".",function(){$(".top-pl").hide(),$(".bbtp").fadeIn("100")}),d("bbtp",".",function(){$(".top-pl").show(),$(this).hide()}),d("soul-lg-btn","#",function(){$(".ol-signup-main").show()}),d("mm-log-btn",".",function(){b.logOutGlobal()}),d("play-btn","#",function(){L?b.addPlayerToGame($(this).text()):alert("please select a region first")}),d("city-detail-btn",".",function(a){b.showCityDetailsModal()}),null!==$&&(String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},$.fn.extend({disableSelection:function(){this.each(function(){void 0!==this.onselectstart?this.onselectstart=function(){return!1}:void 0!==this.style.MozUserSelect?this.style.MozUserSelect="none":this.onmousedown=function(){return!1}})}}),$.extend($.easing,{customEasing:function(a,b,c,d,e){return b/=e,b--,-d*(b*b*b*b-1)+c}})),$("#soulbox .box1").css({top:"0px"}),$("#soulbox .box2").css({top:"0px"}),$("#soulbox .box3").css({top:"0px"})})},this.verf_capt=function(a,b){a&&b&&b()},this.showCapt=function(){"undefined"!=typeof grecaptcha&&grecaptcha.reset(),$(".gcaptcha").show()},this.cleanMem=function(){for(var a=0;a<X.length;a++)clearInterval(X[a]),X[a]=void 0;X=[],this.scrollInterval&&clearInterval(this.scrollInterval);for(var b=window.setTimeout(function(){},0);b--;)window.clearTimeout(b)},this.hideInt=function(){$("#footer").hide(),$("#canvas").show(),$("#overlays").fadeOut("100"),$(".tiny-window").hide(),clearInterval(this.tiploop),$(document).unbind("keyup")},this.hideGameView=function(){$("#footer").hide(),$("#overlays").fadeOut("100"),$(".tiny-window").hide(),$("#back_game").show(),$("#canvas").show()},this.showInt=function(){$("#canvas").fadeOut(1200),setTimeout(function(){$("#footer").fadeIn(1e3),$("#overlays").fadeIn(1e3),$(".tiny-window").fadeIn(1e3)},1e3),this.addKeyUpEvent()
},this.addUITimer=function(){e(this.cityPlayersUI_Update)()},this.cityPlayersUI_Update=function(a){if(o&&o.Running())return void window.clearInterval(a);m?m.send("c.ru"):c&&c.send("c.ru")},this.syncAddTaunts=function(a){P.addMultiTauntSync(a),this.addTauntTemplates()},this.syncTauntCB=function(a){var b=!1,c=this;setTimeout(function(){!1===b&&($(".soulsyncing span").text("Sync Error."),setTimeout(function(){$("#soulsync").hide()},1e3))},4e3),(""+a.tauntslen).length>0&&(b=!0,$(".soulsyncing span").text("Sync Finished"),setTimeout(function(){$("#soulsync").hide()},1e3)),a.error?(b=!0,$(".user-taunts .taunts-header i.tstatus").css("color","yellow"),$(".soulsyncing span").text("Sync Error"),setTimeout(function(){$("#soulsync").hide()},1e3)):$(".user-taunts .taunts-header i.tstatus").css("color","green"),a.ts&&c.syncAddTaunts(a.ts)},this.commonLoggedOut=function(){},this.isOnline=function(a){this.online=a},this.setTagsFromServ=function(a){this.addTauntTemplates(a)},this.GS_fbConnect=function(a,b,d,e){this.uid=d,this.pname=b;var f={name_:b,url_:e};this.loginSucc("fb",f);var g=this.online,h=this,i=l.T_ONLINE_MSG;g?$(".user-taunts .taunts-header").html("Tags").append('<i style="color:green;" data-toggle="tooltip" data-placement="top" class="tstatus glyphicon glyphicon-ok-sign"></i>').append('<i style="color:white;" data-toggle="tooltip" data-placement="top" class="tstatusgear glyphicon glyphicon-cog"></i>'):(i=l.T_OFFLINE_MSG,$(".user-taunts .taunts-header").html("Tags").append('<i data-toggle="tooltip" data-placement="top"  class="tstatus glyphicon  glyphicon-exclamation-sign"></i>')),$(".user-taunts .taunts-header i.tstatus").css("color","yellow"),c.send("c.sls",{pname:b,id:d});var j=P.getLocalTaunts_server();this.rqServ().GS_fbConnect(a,b,d,j,this.setTagsFromServ.bind(h)),$(".user-taunts .taunts-header i.tstatus").prop("title",i),$(".user-taunts .taunts-header i.tstatusgear").off("click").on("click",function(){$("#tauntdialog").show(),$("#taunt-dialog-dsc").off("click").on("click",function(){h.clearTaunts(),$("#tauntdialog").hide()}),$("#taunt-dialog-dcc").off("click").on("click",function(){h.clearTauntsLocal(),$("#tauntdialog").hide(),h.addTauntTemplates()})}),$(".user-taunts .taunts-header i.tstatus").off("click").on("click",function(){$("#soulsync").show(),$(".soulsyncing span").text("Syncing"),setTimeout(function(){$(".soulsyncing span").text("Sync Error."),setTimeout(function(){$("#soulsync").hide()},1e3)},4e3);var a=P.getLocalTaunts_server();h.rqServ().syncTags(h.pname,h.uid,a)})},this.GS_gooConnect=function(a){this.getServer().GS_gooConnect(a)},this.gameSparkInit=function(a,b){},this.playerLoggedOut=function(){$(".secrow").show(),$(".secrow-logged").hide(),$(".user-header-in img").attr("src",""),$(".mm-mode-outer").hide(),$(".user-header-in span.user-heading").text("Guest")},this.cityHistoryGlobal=function(a){$(".ol-cityhis-main").show(),$("#ol-cityhis-title").text(""+a),$(".ol-cityhis-closebtn").off("click").on("click",function(){$(".ol-cityhis-main").hide()})},this.logoutText=function(){$(".mm-log-btn").text("Logout")},this.logOutGlobal=function(){var a=this;social.logOut(this.loginType,function(b,c){if("fb"===b){""!==(c.authResponse||"")&&($(".mm-log-btn").hide(),a.playerLoggedOut())}})},this.updateTopPlayers=function(a){for(var b={topplayers:[]},c=0;c<a.length;c++)b.topplayers.push({name:a[c]});var d=Soulcrashers.Templates.topplayer;$(".pl-container").html(d(b)),this.startScrolling()},this.skinBoxMoveCommon=function(a){},this.showNoContentTabData=function(){},this.skinBoxLRCommon=function(){var a=$(".ol-skins-lists").find(".tab-active").data("tab"),b=".tab-"+a+"-data",c=$(b).width(),d=$(b).find("ul:first").css("margin-left"),e=Math.ceil($(b).find("ul:first li").length/3);return e<=0?($(b).find(".pright").addClass("disableRL"),$(b).find(".pleft").addClass("disableRL"),void this.showNoContentTabData(b)):1===e?($(b).find(".pright").addClass("disableRL"),void $(b).find(".pleft").addClass("disableRL")):void(parseInt(d)>20-c?($(b).find(".pleft").addClass("disableRL"),$(b).find(".pright").removeClass("disableRL")):parseInt(d)<(e-2)*-c?($(b).find(".pleft").removeClass("disableRL"),$(b).find(".pright").addClass("disableRL")):($(b).find(".pright").removeClass("disableRL"),$(b).find(".pleft").removeClass("disableRL")))},this.skinBoxLRCheck=function(a,b){this.skinBoxLRCommon()},this.changeGameMode=function(a){var b=(""+a).trim().toUpperCase().replace(/ /g,"_");U=T,T=b,m?(this.setLoc(T),m.send("c.ed",{m:b,g:V})):c&&(this.setLoc(T),c.send("c.ed",{m:b,g:V}))},this.changeGraphics=function(a){var b=(""+a).toUpperCase().replace(/ /g,"_");W=V,V=b,m?m.send("c.ed",{m:T,g:b}):c&&c.send("c.ed",{m:T,g:b})},this.changeBackSkin=function(a){},this.openShop=function(){},this.isValidTauntResponse=function(a){var b=l.Taunt_CB_VALID;if(a===l.SUCCESS)return!0;for(var c=0;c<b.length;c++)if(b[c]===""+a)return!1;return!0},this.addTaunt=function(a,b){P.addTaunt(a,function(a){b(a)})},this.clearTauntCB=function(a){},this.removeTaunt=function(a,b,c){P.removeTaunt(a,b,c),"online"===c&&this.rqServ().removeTag(this.pname,this.uid,a)},this.clearTaunts=function(){this.gameSparkServer.clearTaunts($this.clearTauntCB)},this.clearTauntsLocal=function(){P.clearTauntsLocal()},this.toggleTaunt_server=function(a,b,c){P.toggleTaunt(a,b,c)},this.setToken=function(a){this.xtoken=a,window.initStoreWindow(this.xtoken.token)},this.addTauntTemplates=function(a){var b={tags:[]},c=l.TAUNT_STATUS,d=a||"",e=a||"",f=Soulcrashers.Templates.taunt,g=[];if(""===d)d=P.getLocalTaunts();else{g=P.getLocalTaunts(),d=[];for(var h=0;h<g.length;h++){var i=g[h],j="tag"+(h+1),k=i.status.toLowerCase();d.push({name:i.name,status:k})}for(var h=0;h<e.length;h++){var i=e[h],j="tag"+(h+1),k=i.status.toLowerCase();d.push({name:i.name,status:k}),P.addIfNotPresent_browser(e)}}for(var h=0;h<d.length;h++){var i=d[h],j="tag"+(h+1),k=i.status.toLowerCase();b.tags.push({name:i.name,tagno:j,tagstate:k,bcolor:c[""+k],color:c[""+k]})}b.tags.length>0?($(".taunts-scroll").html('<span class= "moretaunts"> <i class="glyphicon glyphicon-triangle-bottom"></i></span>'),$(".taunts-scroll").append(f(b))):$(".taunts-scroll").html(' <span class="empty-taunts">No Taunts Found</span>'),$(".mm-taunt-btn").off("click").on("click",function(){var a={},b=l.TAUNT_TOGGLE,c=l.TAUNT_TOGGLE_CLR;return function(){var d=$(this).data("taunt"),e=$(this).children(".mm-btn").text().trim();a[""+d]=""+b[""+e],$(this).css("background-color",l.TAUNT_STATUS[""+b[""+e]]).css("border","2px solid"+c[""+e]).children(".mm-btn").text(b[""+e]);var f=$(this).parent(".tau-div").children("span.taunt-txt").text();f&&f.length>0&&($(".user-taunts .taunts-header i.tstatus").css("color","yellow"),$this.toggleTaunt_server(f,b[""+e],function(a){}))}}()),$(".delTaunt").off("click").on("click",function(){$("#newtaunt").val(""),$(this).hide()});var m=.35*$(document).width();$(".delTaunt").css("left",.95*m+"px");var n=$(".taunts-scroll").height(),o=0;$(".taunts-scroll").children().each(function(){o+=$(this).outerHeight(!0)}),o-=$(".moretaunts").outerHeight(!0),o-n<1&&$(".moretaunts").fadeOut(),$(".taunt-txt i").off("click").on("click",function(){var a=$(this).parent(".taunt-txt").text()||"",b=$(this).closest(".tau-div").find("span.mm-btn").text().trim();a.length>0&&(a=a.trim()),$this.online?$this.showTauntDelPopUp(a,b,"online"):$this.showTauntDelPopUp(a,b,"local")}),$(".moretaunts").off("click").on("click",function(){var a=($(".taunts-scroll").height(),0);$(".taunts-scroll").children().each(function(){a+=$(this).outerHeight(!0)}),a-=$(".moretaunts").outerHeight(!0),$(".moretaunts").fadeOut()})},this.showTauntDelPopUp=function(a,b,c){$("#tauntlocaldialog").show(),$("#taunt-dialog-dno").off("click").on("click",function(){$("#tauntlocaldialog").hide()}),$("#taunt-dialog-dyes").off("click").on("click",function(){$this.removeTaunt(a,b,c),$this.addTauntTemplates(),$("#tauntlocaldialog").hide()})},this.addTauntDialogEvents=function(){$("#taunt-link").off("click").on("click",function(){$("#tauntadd").show(),$("#newtaunt").focus().val(""),$(".delTaunt").hide()}),$(".taunts-scroll").scroll(function(){var a=$(this).scrollTop(),b=$(this).height(),c=0;$(this).children().each(function(){c+=$(this).outerHeight(!0)}),c-=$(".moretaunts").outerHeight(!0);var d=c-b;a*=100/Math.max(1,d),a=Math.min(100,Math.max(0,a)),a<95?$(".moretaunts").fadeIn():$(".moretaunts").fadeOut()}),$("#taunt-box-add").off("click").on("click",function(){var a=$(this).siblings("#newtaunt").val();$this.addTaunt(a,function(a){a&&$this.isValidTauntResponse(a.trim())?($(".user-taunts .taunts-header i.tstatus").css("color","yellow"),$this.addTauntTemplates(),$("#tauntadd").hide()):($(".invalid-dialog-sm").text(""+a).show(),setTimeout(function(){$(".invalid-dialog-sm").fadeOut()},1e3))})}),$("#taunt-box-close").off("click").on("click",function(){$("#tauntadd").hide()}),$("#taunt-dialog-close").off("click").on("click",function(){$("#tauntdialog").hide()}),$("#taunt-dialogl-close").off("click").on("click",function(){$("#tauntlocaldialog").hide()}),$("#newtaunt").on("change paste keyup",function(){$(this).val().length<=0?$(".delTaunt").fadeOut("fast"):$(".delTaunt").fadeIn("fast")}),$("#newtaunt").off("keypress").on("keypress",function(a){var b=l.SplKeyCodes;if(a.which>=48&&a.which<=57||a.which>=65&&a.which<=90||a.which>=97&&a.which<=122)return!0;if(b.indexOf(a.which)>=0)return!0;if(13===a.which){var c=$(this).val();(""+c).length>1&&($this.addTaunt(c),$("#tauntadd").hide())}else a.preventDefault()})},this.addKeyUpEvent=function(){$(document).unbind("keyup"),$(document).off("keyup").on("keyup",function(a){27==a.keyCode&&$("#tauntadd").is(":visible")&&$("#tauntadd").hide(),13==a.keyCode&&($("#play-btn").is(":visible")?L?$this.addPlayerToGame($("#play-btn").text()):alert("please select a region first"):$("#soul-login-play").is(":visible")&&(L?$this.addPlayerToGame($("#soul-login-play").text()):alert("please select a region first")))})},this.setSkinTemplate=function(a){var b=[],c={avatartypes:[]},d=window.store,e=l.AVATAR_CLRS,f={alltabs:[],skcolor:[]},g=Soulcrashers.Templates["avatar-sel"],h=Soulcrashers.Templates.skinsli,i=[],j=l.SKIN_STATE_TEXT,k=l.SKIN_DETAILS,m=0;l.SHOP_ITEM_TYPES=[],a=a||"";var n={};if(""!==a){for(var o=a[0],p=Object.keys(o),q=0;q<e.length;q++)f.skcolor.push({skincolor:e[q]});for(var r=0;r<p.length;r++)l.SHOP_ITEM_TYPES.push(p[r].toLowerCase().substr(0,p[r].length-1)),c.avatartypes.push({type:""+p[r]}),f.alltabs.push({classname:"tab-"+p[r]+"-data",skinsul:[]});for(var q=0;q<p.length;q++)n[""+p[q]]=0,i.push({cname:p[q],c:Math.ceil(o[p[q]].length/3)});for(var r=0;r<p.length;r++)for(var s=""+p[r],t=0;t<o[s].length;t++){var u=o[s][t],v=a[3].types[u];b.push(u);var w,x,y=j.USE,z=l.SKIN_KEY_CLASS.USE,A=d.get(v+"."+u)||"";""!==A&&A===j.USE?(y=A.toUpperCase(),z=l.SKIN_KEY_CLASS[""+y]||l.SKIN_KEY_CLASS.USE):""!==A&&A===j.ACTIVE?n[""+p[r]]>=1?(d.set(v+"."+u,j.USE),y=j.USE,z=l.SKIN_KEY_CLASS.USE):(n[""+p[r]]++,y=A.toUpperCase(),z=l.SKIN_KEY_CLASS[""+y]||l.SKIN_KEY_CLASS.USE,this.activeShopElements[""+v.toLowerCase()]=u):d.set(v+"."+u,j.USE),"mask"==v?(m=Math.ceil(30/k[""+u].scale),w="eyes"+k[""+u].eyes,x="block",f.alltabs[Math.max(0,r)].skinsul.push({distype:x,imgsrc:"/images/skins/"+u+".png",imgeyes:"/images/skins/"+w+".png",imgeyes_s:m,tz:k[""+u].tz,lz:k[""+u].lz,skinbkcolor:"red",skinname:a[2][s][t][""+u],status:y,imgclassname:"mainimg",idname:u,obtype:v,imgcolorclass:"objmaskskin",skincolorclass:z})):(w="undefined",m=0,x="none",f.alltabs[Math.max(0,r)].skinsul.push({distype:x,imgsrc:"/images/skins/"+u+".png",imgeyes:"",imgeyes_s:"",skinbkcolor:"transparent",imgclassname:"genimg",tz:0,lz:0,skinname:a[2][s][t][""+u],status:y,idname:u,obtype:v,imgcolorclass:"objgenskin",skincolorclass:z}))}}return $(".tn-tabs").html(g(c)),$(".tn-tabs-c").html(h(f)),l.SKIN_FILES_SERV=b,i},this.showSkinDialogPage=function(){},this.resetSkinDialog=function(){},this.setSkinData=function(a){var b,c,e=this,f=!1,g=this.setSkinTemplate(a),h=$(".tn-tabs-c");if($(".ol-skins-main").is(":visible")){c=$(".tab-data").width(),$(".tn-tabs-c .friends_spinner").hide(),$(".tn-tabs").children(".skintabs").removeClass("tab-active"),$(".tn-tabs .tn-tab:first").addClass("tab-active"),b=$(".tn-tabs .tab-data:first").text().trim(),h.children(".tab-data:first").show().find("ul:first").css("margin-left","0px"),$(".ol-skins-main").show();for(var i=0;i<g.length;i++)h.children("."+g[i].cname).find("ul:first").width(g[i].c*c+10);$(".ol-skins-closebtn").off("click").on("click",function(){$(".ol-skins-main").hide()}),$(".tn-tabs").children(".skintabs").removeClass("tab-active"),$(".tn-tabs .tn-tab:first").addClass("tab-active"),b=$(".tn-tabs .tab-data:first").text().trim(),h.children(".tab-data").hide(),h.children(".tab-data:first").show(),e.skinBoxLRCheck(1,this)}$("#main_type").off("click"),d("main_type","#",function(a){a.stopPropagation(),c=$(".tab-data").width(),$(".tn-tabs-c .friends_spinner").hide(),$(".tn-tabs").children(".skintabs").removeClass("tab-active"),$(".tn-tabs .tn-tab:first").addClass("tab-active"),b=$(".tn-tabs .tab-data:first").text().trim(),h.children(".tab-data:first").show().find("ul:first").css("margin-left","0px"),$(".ol-skins-main").show();for(var d=0;d<g.length;d++)h.children("."+g[d].cname).find("ul:first").width(g[d].c*c+10);$(".ol-skins-closebtn").off("click"),$(".ol-skins-closebtn").on("click",function(){$(".ol-skins-main").hide()}),$(".tn-tabs").children(".skintabs").removeClass("tab-active"),$(".tn-tabs .tn-tab:first").addClass("tab-active"),b=$(".tn-tabs .tab-data:first").text().trim(),h.children(".tab-data").hide(),h.children(".tab-data:first").show(),e.skinBoxLRCheck(1,this)}),$(".tn-tabs-c span.left-right-c").off("click").on("click",function(){var a=this;c=$(this).parent(".tab-data").width(),"right"!=$(this).data("dir")||$(this).hasClass("disableRL")||f?"left"!=$(this).data("dir")||$(this).hasClass("disableRL")||f||(f=!0,$(this).siblings("ul").animate({marginLeft:"+="+Math.floor(c)+"px"},300,function(){f=!1,e.skinBoxLRCheck(3,a)})):(f=!0,$(this).siblings("ul").animate({marginLeft:"-="+Math.floor(c)+"px"},300,function(){f=!1,e.skinBoxLRCheck(3,a)}))}),$(".color-sel .sk-color").off("click").on("click",function(){var a=$(this).css("background-color");$(".tn-tabs-c img.mainimg").css("background-color",a),e.activeSkinColor=r.rgb2hex(a)}),$(".skintabs").off("click"),d("skintabs",".",function(){b=b||"";var a=$(this).text().trim();if(a!==b||""===b){$(this).toggleClass("tab-active"),$(this).siblings(this).removeClass("tab-active");var c=$(this).data("tab");"Masks"===c?$(".color-sel").show():$(".color-sel").fadeOut();var d=".tab-"+c+"-data";h.children(d).show().siblings(".tab-data").hide(),h.children(d).find("ul:first").css("margin-left","0px"),e.skinBoxLRCheck(2,this)}b=a}),$("#shop-link").off("click").on("click",function(){return $(".ol-shop-closebtn").off("click").on("click",function(){$(".ol-shop-main").hide()}),function(a){a.stopPropagation(),$(".ol-shop-main").show()}}()),$(".skin-buy-btn").off("click").on("click",function(){for(var a,b=e,c=l.SHOP_ITEM_TYPES||[],d=[],f=[],g={},h="",i=0;i<c.length;i++)a=$(".skinOnColor[data-type='"+c[i]+"']")||"",""!==a&&(h=a.data("name")||""),""!==h&&(d.push(a.data("name")),f.push(a)),g[""+c[i]]=i;return function(){var a=$(this).children("span").text().trim(),c="",e=$(this).data("name").trim(),h=$(this).data("type").trim(),i=(""+h).toLowerCase();a===l.SKIN_STATE_TEXT.USE||a===l.SKIN_STATE_TEXT.ACTIVE?(c=l.SKIN_STATES_TOGG[""+a]||"",window.store.set(h+"."+e,""+c),""!==d[g[""+h]]&&""!==f[g[""+h]]&&(window.store.set(h+"."+d[g[""+h]],""+l.SKIN_STATE_TEXT.USE),$(f[g[""+h]]).removeClass("skinOnColor").addClass("skinOffColor"),$(f[g[""+h]]).children("span").text(""+l.SKIN_STATE_TEXT.USE)),$(this).children("span").text(""+c),b.activeShopElements[""+i]=""+e,c===l.SKIN_STATE_TEXT.ACTIVE?$(this).removeClass("skinOffColor").addClass("skinOnColor"):c===l.SKIN_STATE_TEXT.USE&&$(this).removeClass("skinOnColor").addClass("skinOffColor")):($(this).children("span").text(l.SKIN_STATE_TEXT.ACTIVE),$(this).hasClass("skinOffColor")&&$(this).removeClass("skinOffColor").addClass("skinOnColor"),$(this).hasClass("skinOnColor")||$(this).addClass("skinOnColor")),d[g[""+h]]=e,f[g[""+h]]=this}}())},this.toggleSkinStateDialog=function(a){},this.addHomeTemplates=function(a){for(var b={cities:[]},c={symbols:[]},e={gamemodes:[]},f={gamemodes:[]},g={controls:[]},h={backskins:[]},i=[],j="",k=(l.CUST_NAME,l.GAME_CONTROLS),m=["himanshu","ash","nikhil","sy"],n=(""+l.DEF_MODE).trim(),o=this,p=Soulcrashers.Templates.citiestemp,q=Soulcrashers.Templates.gamemodes,r=Soulcrashers.Templates.controls,s=Soulcrashers.Templates.gamemodesmm,t=Soulcrashers.Templates.backskins,u=Soulcrashers.Templates.nicksymbol,v=Soulcrashers.Templates.shopcoins,w=[{itemcat:"popular",coinsValue:222,coinsPercent:30,coinsTotal:333,coinsPrice:55},{itemcat:"value",coinsValue:222,coinsPercent:30,coinsTotal:333,coinsPrice:"$55"},{itemcat:"none",coinsValue:222,coinsPercent:30,coinsTotal:333,coinsPrice:"$55"},{itemcat:"none",coinsValue:222,coinsPercent:30,coinsTotal:333,coinsPrice:"$55"}],x={packages:[]},y=0;y<w.length;y++)x.packages.push({itemcat:w[y].itemcat,coinsvalue:w[y].coinsValue,coinspercent:w[y].coinsPercent,coinstotal:w[y].coinsTotal,coinsprice:w[y].coinsPrice});for(var y=1;y<=7;y++){j+=(""+l["RAWSTR_"+y]).trim()}this.addTauntTemplates(),this.addTauntDialogEvents();for(var z=0;z<j.length;z++)i.push(j.charAt(z));for(var A=0;A<a.g.length;A++){var B=(""+a.g[A]).replace(/_/g," ");e.gamemodes.push({mode:B}),f.gamemodes.push({mode:B})}for(var y=0;y<k.length;y++){var C=k[y].fn,D=k[y].key;g.controls.push({controlfn:C,controlkey:D})}this.updateTopPlayers(m);for(var y=0;y<a.cityData.length;y++)b.cities.push({cityName:a.cityData[y]});for(var y=0;y<i.length;y++)c.symbols.push({symbol:i[y]});$("#backskin-selector").html(t(h)),$(".ol-shop-lists").html(v(x)),$("#mode-selector").html(q(e)),$(".controln").html(r(g)),$(".mm-mode-outer").html(s(f)),$(".main-symbols").html(u(c)),$("#location-selector").html(p(b)),$(".mm-mode").off("click"),$(".setting-tip").off("click"),$(".skins-tip").off("click"),$(".buycoins").off("click").on("click",function(){window=window||"",""!==window&&(window.XPayStationWidget=window.XPayStationWidget||""),""!==window.XPayStationWidget&&window.XPayStationWidget.open()}),o.addKeyUpEvent.call(o),$(".skins-tip").on("click",function(){$(".skin-settings").slideToggle("fast")}),$(".setting-tip").on("click",function(){setTimeout(function(){$(".game-controls").hide()},200),$(".user-settings").slideToggle("fast")}),$(".mm-sett-controls").off("click").on("click",function(){var a=!1;return function(){!1===a?($(this).siblings(".game-controls").slideToggle("fast"),$(this).children(".chev-controls").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")):($(this).siblings(".game-controls").slideToggle("fast"),$(this).children(".chev-controls").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down")),a=!a}}()),$(".control-form").on("keyup",function(a){for(var b={},c=0;c<l.GAME_CONTROLS.length;c++){var d=l.GAME_CONTROLS[c];d&&(b[""+d.key]=l.CTRLS[""+d.key])}return function(a){var c="",d=!0,e=(""+remKeyCode).trim(),f=a.which;e.length>0&&b[e]&&delete b[""+e],13===f&&a.preventDefault(),b[""+l.KEY_VAL[""+f]]?(d=!1,c=l.CTRLS_MSG.ALREADY):c=l.CTRLS_MSG.INVALID,f===parseInt(l.CTRLS.SPACE)&&d?($(this).val(l.CTRLS_NAMES.SPACE),b[l.CTRLS_NAMES.SPACE]=l.CTRLS[""+l.CTRLS_NAMES.SPACE]):f===parseInt(l.CTRLS.ALT)&&d?($(this).val(l.CTRLS_NAMES.ALT),b[l.CTRLS_NAMES.ALT]=l.CTRLS[""+l.CTRLS_NAMES.ALT]):f===parseInt(l.CTRLS.SHIFT)&&d?($(this).val(l.CTRLS_NAMES.SHIFT),b[l.CTRLS_NAMES.SHIFT]=l.CTRLS[""+l.CTRLS_NAMES.SHIFT]):f===parseInt(l.CTRLS.CTRL)&&d?($(this).val(l.CTRLS_NAMES.CTRL),b[l.CTRLS_NAMES.CTRL]=l.CTRLS[""+l.CTRLS_NAMES.CTRL]):f===parseInt(l.CTRLS.H)&&d?($(this).val(l.CTRLS_NAMES.H),b[l.CTRLS_NAMES.H]=l.CTRLS[""+l.CTRLS_NAMES.H]):f===parseInt(l.CTRLS.E)&&d?($(this).val(l.CTRLS_NAMES.E),b[l.CTRLS_NAMES.E]=l.CTRLS[""+l.CTRLS_NAMES.E]):($(this).val(""+c),$(this).addClass("bk-color-lightred")),$(this).blur()}}()),$(".control-form").on("focus",function(a){$(this).removeClass("bk-color-lightred  bk-color-red control-set"),remKeyCode=$(this).val(),$(this).val("")}),$(".control-form").on("blur",function(a){var b=(""+$(this).val()).trim();$(this).addClass("control-set"),""===b&&($(this).addClass("bk-color-red"),$(this).val("INVALID"))}),$(".mm-mode-outer").children().each(function(a,b){$(b).text().trim()==n&&(o.lastMode_element=b,$(b).addClass("mm-mode-active"))}),d("mm-mode",".",function(){o.curMode_element=this;var a=$(this).text().trim();o.curMode_element!==o.lastMode_element&&(o.changeGameMode(a),null!==o.lastMode_element&&$(o.lastMode_element).removeClass("mm-mode-active"),$(this).addClass("mm-mode-active")),setTimeout(function(){$(".mm-mode-outer").slideToggle("fast")},150),o.lastMode_element=this}),$("#mode-selector").on("change",function(a){var b=this.options[a.target.selectedIndex].text.trim();o.changeGameMode(b),$("#mode-selector").blur()}),$("#quality-selector").on("change",function(a){var b=this.options[a.target.selectedIndex].text.trim();o.changeGraphics(b),$("#quality-selector").blur()}),d("backskin-selector","#",function(a){var b=this.options[a.target.selectedIndex].text.trim();o.changeBackSkin(b)}),$(".signinpanel-inner i").on("click",function(){var a=$(".main-symbols");"none"==a.css("display")?($(this).removeClass("glyphicon glyphicon-chevron-down").addClass("glyphicon glyphicon-chevron-up"),a.css("display","block")):($(this).removeClass("glyphicon glyphicon-chevron-up").addClass("glyphicon glyphicon-chevron-down"),a.hide())}),$(".main-symbols").on("click",function(a){a.stopPropagation()}),$(".spsym").on("click",function(){var a=$("#email");a.val().length<12&&a.val(a.val()+$(this).val())})},this.addRoomData=function(a){var b=$(".cityoptions"),c="";$.each(b,function(b,d){c=$(d).text(),a[c]=a[c]||"",""!==a[c]&&a[c]>=0&&$(d).text(c+" ("+a[c]+")")})},this.getCurrMode=function(){return T},this.getCurrQua=function(){return V},this.bpRec=function(a,b){var c=this,d=[],e={};a=(""+a).trim().split(",");for(var f=0;f<a.length;f++)K(d,(""+a[f]).toUpperCase().trim().replace(/_/g," "));social=new k(c),social.init(),this.addJQEvents(c),P=new t(c),e={cityData:a,g:d},c.addHomeTemplates(e),c.addJQEvents_handlebars(),b&&c.addRoomData(b),c.addUITimer(),canvas.width,canvas.height},this.clientLo=function(){},this.req1data=function(a){},this.gLogin=function(a){social.gLogin(a)},this.basicSetup=function(){var a=this;c=Primus.connect(n,{reconnect:{max:1/0,min:500,retries:10}}),c.on("s.conn",function(){!0===S?c.send("c.cnn",1):c.send("c.cnn",2)}),c.on(B,function(b){b.citySizes&&a.addRoomData(b.citySizes)}),c.on(D,function(){a.rqServ().sendReq_tags(),$("#soul-connection").hide();var b=a.getCurrMode;c.send("basesetup",{m:b}),c.on("incoming::ping",function(b){a.latency=Date.now()-b}),c.on("s.store",function(b){a.setToken(b)}),c.on(C,function(b){var c=(""+s.decompressFromBase64(b)).split("^");M.setConfFiles(c),M.setFiles(c[4],c[5],c[2].split(","),c[6],c[7]),M.init(a.bpRec.bind(a,c[0],c[1].split("_"))),M.setSkinData(JSON.parse(c[16]))}),c.on(E,function(){alert("GAME UNDER MAINTAINENCE. TRY AGAIN LATER.")})})},this.setLoc=function(a){if(a=a||"",""!==(a=(""+a).toLowerCase().trim()))if(R!==a&&""!==R)m.send("c.nreg",{newreg:a});else{m=c.channel(""+a),R.length<=1&&(R=a),this.skinner=new j,this.skinner.init(m),this.addSocketEvents();var b=this.getCurrMode(),d=this.getCurrQua();m.send("c.ed",{m:b,g:d})}},this.playerDead=function(){S=!1;for(var a=window.setTimeout(function(){},0);a--;)window.clearTimeout(a);this.resetGame(function(){}),O.resetBlockDots(),this.setLoc(T);var b=this;setTimeout(function(){b.showInt()},3e3)},this.resetGame=function(a){this.otherPlayers=[],this.discData=[],this.otherPlayersKeys=[],this.addUITimer(),$("#soul-login-play").text("Play again"),$("#play-btn").text("Play again as Guest"),w.clearData(a),o.onRender=function(a){},o.onUpdate=function(a){}},this.initClient=function(){null!==o&&(p=O.ctx,Q&&Q.removeEvents(),Q=new g(Math.abs(window.outerHeight-window.innerHeight)),w=new f(l.MAX_SCALE_PLAYER,parseInt(999999*Math.random(),10),window.innerWidth/2,window.innerHeight/2,10,null,null,Q,O,!0),O.setCamera(w),O.setBar(),this.gameUpdate(o,w),this.gameRender(o,w,O,p),m.send("c.rd"))},this.addOtherPlayer=function(a,b){a.otherPlayers[""+b]=new f(l.MAX_SCALE_PLAYER,b,window.innerWidth/2,window.innerHeight/2,10,null,null,null,a.getRenderer())},this.getRenderer=function(){return O},this.gkeyboard=function(){return Q},this.getGame=function(){return o},this.showWelcomeScreen=function(){"none"!=$("#canvas").css("display")&&this.reset()},this.roomSet=function(){this.gd_load=!0,q=A.GAME,this.getGame().startGameLocal(),m.send("c.rfd")},this.remUP=function(){},this.addUP_T=function(){m.on(C_UP,function(a){})},this.addUP_D=function(){},this.addUP_M=function(){},this.getPlayer=function(){return w},this.addUP_E=function(){var a=0,b="",c=[],d="",e=[],f=[],g=0,h=0;m.on(C_UP,function(i){f=s.decompressFromBase64(""+i).split("^"),h=Number(f[5]),c=[],d="",e=[],b=f[2]||"",b.length;var j,k,l,m,n=f[7].split("_"),o=f[3],p=0,q="",r=n.length-1,t=f[0]||"",u=f[1]||"",v="";if(""!==t)for(t=t.split("*"),g=z(0,t.length-1),p=0;p<t.length;p++)v=t[p],w.id===v?w.rotate():$this.otherPlayers[""+v]&&$this.otherPlayers[""+v].rotate();if(""!==u)for(u=u.split("*"),g=z(0,u.length-1),p=0;p<g;p++)v=u[p],w.id===v?w.rotateOff():$this.otherPlayers[""+v]&&$this.otherPlayers[""+v].rotateOff();if(o.length>0){var A=o.split("`");for(p=0,N=A.length-1;p<N;p++)l=A[p].split("@"),m=l[1].split("_"),$this.otherPlayers[l[0]].shootBullet(m)}for(r>0&&O.flushShootBar(),p=0;p<r;p++)m=n[p],w.shootBullet(m);for(q=(""+f[6]).split("*"),p=0,N=q.length-1;p<N;p++)if(item=q[p],"g"===item.charAt(0))c.push(item);else if("q"===item.charAt(0))if(d=item.slice(1),w.id===d)w.underAttack();else{var B=$this.otherPlayers[""+d]||"";""!==B&&B.underAttack()}else if("d"===item.charAt(0))e.push(item);else if("b"===item.charAt(0)){var C=item.slice(1).split("_"),D=C[0].split("."),E=$this.otherPlayers[D[0]]||w;$this.otherPlayers[D[1]];E.removeBulletHit(C[1])}for(j=J($this.otherPlayers),p=0;p<j.length;p++)$this.otherPlayers[j[p]].hideDataWise();var F=(""+f[8]).split("_"),G=F[0].split("*");for(a=Number(f[4]),w.pushStates(G,h,a,!0),x.push({x:++y,y:h}),p=1,N=F.length-1;p<N;p++){var H=F[p].split("*");k=$this.otherPlayers[""+H[0]],k&&k.pushStates(H,h,a,!0)}for(p=0;p<j.length;p++)$this.otherPlayers[j[p]].hideShow();if($this.getRenderer().gridChangeServ(c,e,$this.otherPlayers,w),b.length>0)for(var I=b.split("*"),L="",M="",N=z(0,I.length-1),p=0;p<N;p++){L=I[p].split("_"),id=L[0],M=L[1];var P=$this.otherPlayers[""+id]||"";""!==P&&P.dead&&(K($this.discData,{pid:id,r:M}),$this.getRenderer().resetDeadSprites(P))}})},this.setInitClrs=function(a,b){for(var c=[],d=a.split("."),e={},f=0;f<d.length-1;f+=2)c.push(d[f]),e[""+d[f]]=d[f+1];for(var g=0;g<c.length;g++){var h=$this.otherPlayers[""+c[g]]||"";""!==h&&($this.getRenderer().baseColorSet(h,e[""+c[g]],b),h.setBaseSprites(e[""+c[g]]))}},this.createLB=function(){lb=void 0,lb=new u(O,$this.cur_m_str)},this.addSocketEvents=function(){var a=this;m.on(H,function(b){C_UP=""+l.CUP[b.m]+(""+b.r).trim(),U=U||"",""!==U&&m.off(U),b.m===l.MODE_NAMES.TEAM_BATTLE?a.addUP_T.bind(a)():b.m===l.MODE_NAMES.DOMINATION?a.addUP_D.bind(a)():b.m===l.MODE_NAMES.KNT?a.addUP_E.bind(a)():b.m===l.MODE_NAMES.MONSTER&&a.addUP_M.bind(a)();var c=b.q||"";""!==c&&(V=(""+c).trim())}),m.on(I,function(a){}),m.on("dead",function(){a.playerDead()}),m.on(F,function(c){var d=a.getRenderer(),e=s.decompressFromBase64(c.toString());e=e.split("*");for(var f=-1,g="",h=0;h<e.length;h++)g=e[h],f=g.substr(0,40).split(",")[0].split("_")[2],g.length>1&&d.setWorldDotsDataForABlock_start(g,f);a.hideInt(),Q.setMouseEvents(a.mouseScroll),b.bind(a)(),m.send("c.coll")}),m.on(G,function(b){var c=b.ti;a.getRenderer().setWorldTileData(c)}),m.on("s.wd",function(b){var c=b.ct||Date.now(),d=s.decompressFromBase64(b.sclr);w.id=m.id,w.setPos(b.p),T==l.MODE_NAMES.DOMINATION?a.getRenderer().DOM_initServer(b.rr,b.td):T==l.MODE_NAMES.KNT&&a.getRenderer().initServer(b.rr),a.getRenderer().setGridMain(a.roomSet.bind(a),a.setInitClrs.bind(a,d,c),a.restart)}),m.on("s.rdy",function(b){a.initClient(),w.setColor_skin_name(b.cl.c,b.cl.n,{n:a.activeShopElements.mask,c:a.activeSkinColor}),w.update_eye_fn(),a.createLB(),a.cleanMem()}),m.on("s.msdto",function(b){if(""!==(b=b||"")){a.addOtherPlayer(a,b.sockid);var c=a.otherPlayers[b.sockid]||"";""!==c&&c.setColor_skin_name(b.cl.c,b.cl.n,b.cl.sk)}}),m.on("s.opsd",function(b){for(var c=0;c<b.cls.length;c++){var d=b.cls[c];a.addOtherPlayer(a,d.id),a.otherPlayers[""+d.id].setColor_skin_name(d.clr,d.nm,d.sk)}}),m.on("otherplayerremoved",function(a){a=a||""}),m.on("playeradded",function(b){b.pSize&&b.pSize>0&&(a.playerOn=!0)}),m.on(B,function(b){b.citySizes&&a.addRoomData(b.citySizes)}),m.on("connected",function(){var b=(a.getRenderer().getCanvasData(),{x:canvas.width,y:canvas.height});m.send("c.wr",b),socket=null,L=!0}),m.on("regionleft",function(b){R=b.newreg||"",L=!1,""!==b.newreg&&(a.socketModified=!0,m.end(),m=c.channel(""+R),a.addSocketEvents(),a.socketModified=!1)}),m.on("disconnected",function(){}),m.on("disconnect",function(){}),m.on("online",function(){}),m.on("end",function(){}),m.on("close",function(){}),m.on("offline",function(){}),m.on("heartbeat",function(){})},this.addPlayerToGame=function(a){a=(""+a).toLowerCase();var b=(""+a).indexOf("again"),c="",d={};if(b>=0&&(this.restart=!0),null!==o){var e=window.store.get("prevroom"),f=$("#email").val();f=f.replace(/[^\x00-\x7F]/g,"");var g=0;f=(""+f).substr(0,l.MAX_NAME_LEN);for(var h=f.length-1;h>=0&&" "===f.charAt(h);h--)g++;f=f.substr(0,f.length-g),f.length<=0&&(f=l.UNTITLED_NAME),c=this.activeShopElements.mask,d={a:c,c:this.activeSkinColor},o.setSocketAndAdd(m,e,f,d)}},this.gameRender=function(a,b,c,d){a.onRender=function(a){b&&c.renderWorld(b,this.otherPlayers,a)}.bind(this)},this.worldUpdate=function(a){},this.gameUpdate=function(a,b){var c,d=this,e=0;a.onUpdate=function(a){for(b&&b.update(a),c=J(d.otherPlayers),e=0;e<c.length;e++)d.otherPlayers[c[e]].update(a)}},this.setUniqueId=function(){Math.random().toString(36).substring(3,16),new Date;window.store.set("gameUniqueId",a())},this.addJQEvents_handlebars=function(){var a=T;$this=this,$this.setLoc(a),$("#btn-fb-glo").off("click").on("click",function(){social.fbBtnClicked()}),d("areas-outer ul li",".",function(b){if(null===a||void 0===a);else if(a!=this){self=$(this);$(a)}})},this.mouseScroll=function(a){return!1},this.getServer=function(){return this.gameSparkServer},this.filesLoaded=function(a){o=new i(60,O),a()},this.setConfFiles=function(a){l.MAX_SCALE_PLAYER=Number(a[9]),l.MOUSE_CLICK_POLL_TIME=Number(a[10]),l.CUP_CONST=a[11],l.START_RAD=Number(a[13]),l.RAD_MASS_R=Number(a[14]),l.DEL_SCALE_EAT=Number(a[15]);for(var b=(""+a[12]).split(","),c=0;c<b.length;c++);l.DEF_MODE=a[8];var d=a[0]||"",e=(""+d).split(","),f=[];l.MODES=[],l.CUP={},l.MODE_NAMES={},l.GAME_MODES={};for(var c=0;c<e.length;c++){var g=(""+e[c]).toUpperCase().trim();l.MODE_NAMES[g]=g,l.CUP[g]=(a[11]+"."+b[c]).trim(),l.GAME_MODES[g]=Number(c+1),f.push(g)}l.MODES=f,T=l.DEF_MODE,U=T},this.setFiles=function(a,b,c,d,e){var f,g=c.length||"",h=[],i="",j="",k=[],m={},n=-1;if(""!==g&&g>0)for(var o=0;o<g;o++){if(k=(""+c[o]).split("_"),f=(""+k[1]).slice(1),n=(""+k[1]).indexOf("s")>=0,k.length>1&&n){if(j=k[0],(""+k[1]).length>1){var p=f.split(".")[1].split("@")||[55,7];m[""+j]={eyes:f.charAt(0),scale:f.charAt(1),lz:p[0],tz:p[1]}}i="skins/"}else j=c[o];h[o]=a+"/"+i+j+"."+d,(""+j).indexOf("dot")>=0&&4===j.length&&(l.DOT_FILES.push(a+"/"+j+"."+d),l.DOT_CLRS[a+"/"+j+"."+d]=e[(""+j).charAt(j.length-1)]),l.FILESI[""+j]=parseInt(o)}l.FILES=h.slice(),l.SKIN_DETAILS=m},this.tauntExpand=function(){},this.updateTips=function(){var a=0,b=this,c=b.getTips().length;return function(){var d=a++%c,e=b.getTips()[d];$(".helpingsoul").animate({opacity:0
},600,function(){$(this).text(e),$(".helpingsoul").animate({opacity:1},600,function(){})})}},this.serverError=function(a){if("gs"===a){var b={};b.issue="Cannot connect to server. Try again later.",b.gly1="glyphicon-globe",b.gly2="glyphicon-alert",b.heading="ALERT";var c=Soulcrashers.Templates.blank;$("#blackoverlay").html("").html(c(b))}},this.loginSucc=function(a,b){this.loginType=a,this.logoutText(),$(".mm-log-btn").show(),$(".secrow").hide(),$(".secrow-logged").show(),"fb"===a?($(".user-heading").text(b.name_),$(".user-header-in img").attr("src",b.url_),$(".user-header-in span.user-heading").prop("title",b.name_),$(".ol-signup-main").hide()):"goo"===a&&($(".user-heading").text(b.name_),$(".user-header-in img").attr("src",b.url_),$(".user-header-in span.user-heading").prop("title",b.name_),$(".ol-signup-main").hide())},this.rqServ=function(){return this.reqServer},this.init=function(a){var b=this;N=["1","2","3"],randTime=1e3*(4+parseInt(5*Math.random())),setTimeout(function(){b.tiploop=setInterval(b.updateTips(),5e3),X.push(b.tiploop)},randTime),O=new h(b),O.setupRenderer(this.filesLoaded.bind(this,a))},this.kill=function(){},this.reset=function(){$this=this,$("#canvas").hide(),$("#footer").show(),$("#soulbox").fadeIn("1000"),this.addUITimer()}},M=new L;M.basicSetup(),window.initStoreWindow=function(a){null!==a&&void 0!==a||alert("token not defined");var b={access_token:a,sandbox:!0},c=document.createElement("script");c.type="text/javascript",c.async=!0,c.src="https://static.xsolla.com/embed/paystation/1.0.7/widget.min.js",c.addEventListener("load",function(a){XPayStationWidget.init(b),XPayStationWidget.on("close",function(a){void 0===window&&null===window||window.clientStoreClosed(a)}),XPayStationWidget.on("load",function(a){void 0===window&&null===window||window.clientStoreLoaded(a)})},!1),document.getElementsByTagName("head")[0].appendChild(c)}.bind(window),window.captCallback=function(a){M.verf_capt(!0,function(){grecaptcha.reset()})},window.captECallback=function(a){M.verf_capt(!1)},window.check_username_inp=function(a){void 0!==document.getElementById("usernametaken")&&$("#usernametaken").remove()}.bind(window),function(){if(Date.now||(Date.now=function(){return(new Date).getTime()}),"performance"in window==0&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==0){var a=Date.now();performance.timing&&performance.timing.navigationStart&&(a=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-a}}}()},{"./events.js":221,"./fastmath.js":222,"./game.js":223,"./gameConf.js":224,"./keyboard.js":226,"./leaderboard.js":227,"./lz-string.js":228,"./player.js":229,"./renderer.js":231,"./reqserver.js":232,"./skinner.js":234,"./social.js":235,"./tauntm.js":236,http:204,jquery:15,"pixi-display":20}],219:[function(a,b,c){var d=a("./fastmath.js"),e=a("./gameConf.js"),f=new d,g=Math.max,h=Math.min,i=function(a,b,c){this.x=0,this.sprite=a,this.y=0,this.s=10,this.d=b,this.sid=-1,this.id=-1,this.t=c,this.dead=!1,this.vec=0,this.collider=0};i.prototype.set=function(a,b,c,d,f,i,j,k){worldSize=e.worldSize,this.x=a.x,this.y=a.y,this.sid=k,this.s=10,this.d=b,this.factor=d,this.cb=f,this.id=i,this.sprite.visible=!0,this.t=h(10,g(0,j)),this.ct=0,this.dead=!1},i.prototype.getEmpty=function(){return{}},i.prototype.reset=function(){var a=this.sprite;this.x=0,this.y=0,this.s=0,this.d=0,this.factor=0,this.cb=0,this.id=-2,this.ct=0,a.visible=!1,a.scale.x=1,a.scale.y=1,a.alpha=1,this.dead=!1},i.prototype.shiftId=function(a){this.id=g(0,a)},i.prototype.update=function(a){a/=1e3;var b=this.sprite;this.ct>this.t&&""!==this.cb&&this.id>=0?(this.ct=0,this.cb(this.id)):this.ct>this.t-.1?(b.scale.x=g(0,b.scale.x-5*a),b.scale.y=g(0,b.scale.y-5*a),b.alpha=g(0,b.alpha-5*a)):this.ct>this.t-.15&&(b.scale.x=g(0,b.scale.x+12*a),b.scale.y=g(0,b.scale.y+12*a),b.alpha=g(0,b.alpha-7*a)),this.ct+=a,this.x+=f.cos(this.d)*a*400,this.y-=f.sin(this.d)*a*400,b.x=this.x,b.y=this.y},b.exports=i},{"./fastmath.js":222,"./gameConf.js":224}],220:[function(a,b,c){var d=(Math.min,Math.max,a("pixi.js"),a("pixi-display"),function(a,b,c,d){PIXI.Container.call(this),this.world=a,this.root=new PIXI.Container,this.target=d,this.mask=new PIXI.Graphics,this.viewport=new PIXI.Rectangle(0,0,b,c),this.frustrum=this.viewport.clone(),this.bounded=!1,this._redrawMask(),this.sum=0,this.shaking=!1,this.curP={x:0,y:0},this.lastP={x:0,y:0},this.addChild(this.root),this.addChild(this.mask),this.root.addChild(this.world),this.reset=function(){this.root.removeChild(this.world),this.removeChild(this.root),this.removeChild(this.mask)}});d.prototype=Object.create(PIXI.Container.prototype),d.prototype.updateViewPort=function(a,b){this.viewport.width=a,this.viewport.height=b},d.prototype.shake=function(){},d.prototype.setTarget=function(a){this.target=target},d.prototype.update=function(a){this.curP.x=this.target.x-this.width/2,this.curP.y=this.target.y-this.height/2,this.root.position.set(-this.curP.x,-this.curP.y),this.lastP.x=this.curP.x,this.lastP.y=this.curP.y},d.prototype.setZoom=function(a){this.zoom+=a/10},d.prototype._scaleFrustrum=function(){this.frustrum.width=this.viewport.width/this.zoom,this.frustrum.height=this.viewport.height/this.zoom},d.prototype.getPos=function(){return this.root.position},d.prototype._constrainFrustrum=function(){if(this.bounded){var a=this.frustrum,b=this._bounds;a.x<b.x&&(a.x=b.x),a.y<b.y&&(a.y=b.y),a.x+a.width>b.x+b.width&&(a.x=b.x+b.width-a.width),a.y+a.height>b.y+b.height&&(a.y=b.y+b.height-a.height)}},d.prototype._redrawMask=function(){this.mask.beginFill(),this.mask.drawRect(0,0,this.viewport.width,this.viewport.height),this.mask.endFill()},Object.defineProperties(d.prototype,{width:{get:function(){return this.viewport.width},set:function(a){return this.viewport.width=a,this._scaleFrustrum(),this._constrainFrustrum(),this._redrawMask(),this.viewport.width}},height:{get:function(){return this.viewport.height},set:function(a){return this.viewport.height=a,this._scaleFrustrum(),this._constrainFrustrum(),this._redrawMask(),this.viewport.height}},zoom:{get:function(){return this._zoom},set:function(a){return this._zoom=Math.max(.75,Math.min(1.5,a)),this.root.scale.set(this._zoom),this._scaleFrustrum(),this._constrainFrustrum(),this._zoom}}}),b.exports=d},{"pixi-display":20,"pixi.js":159}],221:[function(a,b,c){b.exports={server_spawnFruit:"server:spawnFruit",server_newRoom:"server:newRoom",server_startRoom:"server:startRoom",server_joinRoom:"server:joinRoom",server_listRooms:"server:listRooms",server_setPlayerKey:"server:setPlayerKey",client_newFruit:"client:newFruit",client_roomJoined:"client:roomJoined",client_roomsList:"client:roomsList",client_playerState:"client:playerState"}},{}],222:[function(a,b,c){var d=Math.abs,e=Math.PI,f=Math.PI/4;Math.PI;!function(a,c){"function"==typeof define&&define.amd?define(function(){return a.FMath=c()}):"object"==typeof b&&b.exports?b.exports=c():a.FMath=c()}(this,function(){function a(b){this.params=a._assign(null,a.DEFAULT_PARAMS,b),a._setDefaultValues(this.params),this.cosTable=new Float32Array(this.params.nbCos),this.cosFactor=this.params.nbCos/c,a._fillCache(this.cosTable,this.cosFactor,Math.cos),this.sinTable=new Float32Array(this.params.nbSin),this.sinFactor=this.params.nbSin/c,a._fillCache(this.sinTable,this.sinFactor,Math.sin),this.atanTable=new Float32Array(this.params.nbAtan),this.atanFactor=this.params.nbAtan/(this.params.maxAtan-this.params.minAtan),a._fillAtanCache(this.atanTable,this.atanFactor,this.params.minAtan)}function b(a){var b=a.toString(16);return 1==b.length?"0"+b:b}var c=2*Math.PI;return a.DEFAULT_PARAMS={resolution:360,minAtan:-40,maxAtan:40},a.prototype.getRandomIntInclusive=function(a,b){return a=Math.ceil(a),b=Math.floor(b),Math.floor(Math.random()*(b-a+1))+a},a.prototype.hex_rgb=function(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null},a.prototype.rgb_hex=function(a,c,d){return"#"+b(a)+b(c)+b(d)},a.prototype.rgb2hex=function(a){function b(a){return("0"+parseInt(a).toString(16)).slice(-2)}return/^#[0-9A-F]{6}$/i.test(a)?a:(a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"0x"+b(a[1])+b(a[2])+b(a[3]))},a.prototype.getRandomInt=function(a,b){return Math.floor(Math.random()*(b-a))+a},a.prototype.getRandomIntBetween=function(a,b){return a=Math.ceil(a),b=Math.floor(b),Math.floor(Math.random()*(b-a))+a},a.prototype.cos=function(a){return a%=c,a<0&&(a+=c),this.cosTable[a*this.cosFactor|0]},a.prototype.round=function(a){return.5+somenum|0},a.prototype.fastAtan2=function(a,b){var c=0,e=0,g=d(a)+1e-10;return b<0?(c=(b+g)/(g-b),e=3*f):(c=(b-g)/(b+g),e=f),e+=(.1963*c*c-.9817)*c,a<0?-e:e},a.prototype.sin=function(a){return a%=c,a<0&&(a+=c),this.sinTable[a*this.sinFactor|0]},a.prototype.atan=function(a){var b=(a-this.params.minAtan)*this.atanFactor|0;return b<0?-e/2:b>=this.params.nbAtan?e/2:this.atanTable[b]},a._setDefaultValues=function(a){for(var b,c=["nbSin","nbCos","nbAtan"],d=c.length-1;d>=0;d--)b=c[d],a[b]=a[b]||a.resolution},a._fillAtanCache=function(a,b,c){for(var d=0;d<a.length;d++){var e=c+d/b;a[d]=Math.atan(e)}},a._fillCache=function(a,b,c){for(var d=a.length,e=0;e<d;e++)a[e]=c(e/b)},a._assign=function(a,b,c,d){return[].reduce.call(arguments,function(a,b){b=b||{};for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},a||{})},a})},{}],223:[function(a,b,c){var d=a("./tick.js"),e=a("../server/gameConf.js"),f=a("../server/gameloop.js");d=d(50);var g=function(a,b,c,d){this.fps=a,this.delay=1e3/this.fps,this.lastTime=0,this.raf=0,this.renderer=b,this.onUpdate=function(a){},this.onUpdateSlow=function(a){},this.onRender=function(){},this.isRunning=!1,this.socket=null,this.servSlow=null,this.servFast=null,this.servLoop=null,this.liveRoom=d,this.timestep=1e3/this.fps,this.name=c,this.loopthis,this.clientOn=!1,this.delta=0,this.inputdel=0};g.prototype.stopServerLoops=function(){void 0!==this.servSlow&&this.servLoop&&this.servLoop.clearGameLoop(this.servSlow),void 0!==this.servFast&&this.servLoop&&this.servLoop.clearGameLoop(this.servFast)},g.prototype.Running=function(){return this.isRunning},g.prototype.clinetPanic=function(){this.delta=0},g.prototype.loop=function(a){this.raf=d(this.loopthis),this.delta=a-this.lastTime,this.lastTime=a,this.onUpdate(this.delta),this.onRender(this.delta)},g.prototype.setSocketAndAdd=function(a,b,c,d){this.socket=a,a.send("c.gs",{prevroomname:b,n:c,sk:d})},g.prototype.switchView=function(a){},g.prototype.allSet=function(){this.servFast=f.setGameLoop(this.onUpdate.bind(this.liveRoom),1e3/e.LOOP_FAST_RATE),this.servSlow=f.setGameLoop(this.onUpdateSlow.bind(this.liveRoom),1e3/e.LOOP_SLOW_RATE)},g.prototype.startGame=function(a){if(this.raf<1)if("undefined"==typeof requestAnimationFrame){var b=this;if(void 0===b.liveRoom)return;this.isRunning=!0}else this.clientOn||(this.isRunning=!0,this.loopthis=this.loop.bind(this),this.loop(0),this.clientOn=!0)},g.prototype.startGameLocal=function(){requestAnimationFrame=requestAnimationFrame||"",""!==requestAnimationFrame&&!1===this.clientOn&&(this.isRunning=!0,this.loopthis=this.loop.bind(this),this.loop(0),this.clientOn=!0)},g.prototype.stop=function(){this.raf>0&&(this.isRunning=!1,cancelAnimationFrame(this.raf),this.raf=0)},b.exports=g},{"../server/gameConf.js":216,"../server/gameloop.js":217,"./tick.js":237}],224:[function(a,b,c){var d={RAND:0,HEALTH_EFF_DEL_COUNT:10,FILES:[],CLIENT_MODE:"development",SKIN_DETAILS:[],FILESI:{},DOT_FILES:[],DOT_CLRS:{},MAX_NAME_LEN:20,GRID_SPR_TIMEOUT:6e4,MOUSE_CLICK_POLL_TIME:0,START_RAD:80,RAD_MASS_R:3,DEL_SCALE_EAT:.001,GRID_SPR_BASE_CLR:"0x222222",P_I_SC:.3,P_I_SKIN:.7,BULL_SCALE:1,worldSize:0,P_O_T:8925,P_O_A:.3,P_A:.5,ZERO_5:.5,DEF_MODE:"",DO_SC:.03,DO_A:.04,DO_SP:4,BO_LA:1,BO_CL:10031377,BO_A:.6,UNTITLED_NAME:"UNKNOWN GAMER",BO_SC:2e-4,BO_LW:5,BO_SZ:4e3,BO_LC:16711680,T_COLORS:{RED:16711680,GREEN:65280,BLUE:255,YELLOW:16776960},EYE_CLR:{b:3355443,y:16776960},SKIN_STATE_TEXT:{ACTIVE:"ACTIVE",USE:"USE"},SHOP_ITEM_TYPES:[],AVATAR_CLRS:["#FFE5C8","#FFDABE","#FFCEB4","#FFC3AA","#F0B8A0","#E1A696","#D2A18C","#C39582","#A57E6E","#87675A","#695046"],SKIN_KEY_CLASS:{ACTIVE:"skinOnColor",USE:"skinOffColor"},SKIN_STATES:["USE","ACTIVE"],SKIN_STATES_TOGG:{USE:"ACTIVE",ACTIVE:"USE"},PNAME_CLRS:[16777215,16755370,16777215,14540253],CTRLS_NAMES:{SPACE:"SPACE",ALT:"ALT",SHIFT:"SHIFT",CTRL:"CTRL",H:"H",E:"E"},KEY_VAL:{32:"SPACE",17:"CTRL",18:"ALT",16:"SHIFT",69:"E",72:"H"},CTRLS_MSG:{ALREADY:"ALREADY SET",INVALID:"INVALID"},CTRLS:{SPACE:"32",ALT:"18",SHIFT:"16",CTRL:"17",H:"72",E:"69"},SUCCESS:"success",Taunt_Max:10,Taunt_CB_RES:{length:"Insufficient Length",alreadyfound:"Already Present",nospace:"No Space Left"},Taunt_CB_VALID:["Insufficient Length","Already Present","No Space Left"],SplKeyCodes:[190,666,32,63,46],SHOOT_REFILL_SIZE:150,Taunt_DEF_STA:"on",TAUNT_STATUS:{on:"#4ed24e",off:"#ff0000"},TAUNT_TOGGLE_CLR:{on:"#ff0000",off:"#4ed24e"},TAUNT_TOGGLE:{on:"off",off:"on"},COLOR_HEX:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},MAX_SCALE_PLAYER:1,CONNECTION:"http://172.104.32.148:519",CONN_STR_LOCAL:"http://localhost:519",CONN_STR_TESTING:"http://localhost:519",MAIN_CONN:"",PLAYER_DATA_URL_STR:"pdata",GRAPHICS:["UGLY","AVERAGE","GREAT"],EVENTS:{S_OPEN:"open",S_BP:"s.bp",S_RU:"s.ru",S_MT:"s.mt",S_TK:"s.tk",S_SMC:"s.smc",S_WDD:"s.wdd",S_WDT:"s.wdt",S_ERR:"s.error"},OUTER_TINT:{RED:16711680,GREEN:65280,CYAN:65535,YELLOW:16776960},BACKGROUND_COLORS:{BLACK:0,WHITE:16777215,NORMAL:1118481},LB_CLR_FALL:.06,LB_CLR_START:.8,T_OFFLINE_MSG:"Tags are stored locally. Login to sync tags.",T_ONLINE_MSG:"Tags Sync is ON.",LB_CLRS:[{Rage:"#ff2424",c:"#ff2424"},{friend:"#FFFF00",c:"#FFFF00"},{sad:"#5fecff",c:"#5fecff"},{Terror:"#66CC66",c:"#66CC66"},{cool:"#4FC3F7",c:"#4FC3F7"},{attack:"#FF9800",c:"#FF9800"},{angry:"#F44336",c:"#F44336"},{meh:"#A1887F",c:"#A1887F"},{boom:"#CCFFFF",c:"#CCFFFF"},{illuminati:"#6666CC",c:"#6666CC"}],LB_CLR:[{BlueOrchid:"#1F45FC",c:"#1F45FC"},{RoyaleBlue:"#2B60DE",c:"#2B60DE"},{CobaltBlue:"#0020C2",c:"#0020C2"},{BlueLotus:"#6960EC",c:"#6960EC"},{SilkBlue:"#488AC7",c:"#488AC7"},{AquaBlue:"#00FFFF",c:"#00FFFF"},{ELECTRICBLUE:"#9AFEFF",c:"#9AFEFF"},{TEAL:"#008080",c:"#008080"},{SEA_GREEN:"#4E8975",c:"#4E8975"},{CamoGreen:"#78866B",c:"#78866B"},{MSeaGreen:"#306754",c:"#306754"},{MForestGreen:"#347235",c:"#347235"},{CloverGreen:"#3EA055",c:"#3EA055"},{SpringGreen:"#4AA02C",c:"#4AA02C"},{Green:"#00FF00",c:"#00FF00"}],TINT_COLORS:[{BlueLotus:"#6960EC"},{BlueOrchid:"#1F45FC"},{RoyaleBlue:"#2B60DE"},{CobaltBlue:"#0020C2"},{SilkBlue:"#488AC7"},{AquaBlue:"#00FFFF"},{ELECTRICBLUE:"#9AFEFF"},{TEAL:"#008080"},{SEA_GREEN:"#4E8975"},{CamoGreen:"#78866B"},{MSeaGreen:"#306754"},{MForestGreen:"#347235"},{CloverGreen:"#3EA055"},{SpringGreen:"#4AA02C"},{Green:"#00FF00"},{Yellow:"#FFFF00"},{CornYellow:"#FFF380"},{BlondeYellow:"#FBF6D9"},{DickYellow:"#FFD801"},{GoldenYellow:"#EAC117"},{DeepYellow:"#FFCBA4"},{BrassYellow:"#B5A642"},{TigerOrange:"#C88141"},{CinnamonOrange:"#C58917"},{WoodBrown:"#966F33"},{RedDOrange:"#7F5217"},{RustOrange:"#C36241"},{ChoclateOrange:"#C85A17"},{DarkOrange:"#F88017"},{ValentineRed:"#E55451"},{RubeRed:"#F62217"},{ChilliRed:"#C11B17"},{WineRed:"#990012"},{BloodRed:"#7E3517"},{Magenta:"#FF00FF"},{DeepPink:"#F52887"},{LemonPink:"#E4287C"},{VioletRed:"#CA226B"},{PlumPink:"#B93B8F"},{IrisPurple:"#571B7E"},{HazePurple:"#571B7E"},{CrimsonPink:"#E238EC"},{SeashellYellow:"#FFF5EE"},{BlueWhale:"#342D7E"},{JeyGray:"#616D7E"},{SlateGrey:"#25383C"},{GooseGray:"#D1D0CE"},{MarbleBlue:"#566D7E"},{FerrariRed:"#F70D1A"},{ChestnutRed:"#C34A2C"}],DEFAULT_GRID_CLR:"#222222",startRadius:25,NO_OF_GRID_BLOCKS:10,GRID_ELE_SCALE:.8,GRID_ELE_SIZE:120,GRID_RECT_SPRITE_P_BLOCK:17,GRID_RGB_REPSPAWN_BASE:10,GRID_RGB_REPSPAWN_DEL:5,GRID_RGB_REPSPAWN_Y_BASE:15,gridDotSize:30,WORLD_SIZE:0,MAX_PORTALS:5,MAX_SIZE:1e3,START_SIZE:100,MAX_BULLETS:100,BULL_SS:30,DOTS_PER_BLOCK:100,DOTS_POS_DELTA:50,COLORS_COUNT_DOTS:4,BULL_TIME:{L0:500,L1:800,L2:900,L3:1e3,L4:1200,L5:1300,L6:1500,L7:2e3,L8:3e3,L9:4e3,L10:5e3},BULL_ANGLE:{A0:0,A60:60,A120:120},BULL_DEL:{L0:2e3,L1:1500,L2:1200,L3:1e3,L4:800,L5:700,L6:650,L7:600,L8:550,L9:500,L10:300},GAME_CONTROLS:[{fn:"Throw",key:"SPACE"},{fn:"Next Taunt",key:"CTRL"},{fn:"Auto Fire",key:"E"},{fn:"Hide Taunt",key:"H"}],RAWSTR_1:"ⒶⒷⒸⒹⒺⒻⒼⒽⒾⒿⓀⓁⓂⓃⓄⓅⓆⓇⓈⓉⓊⓋⓌⓍⓎⓏⓐⓑⓒⓓⓔⓕⓖⓘⓗⓙⓚⓛⓜⓝⓞⓟⓠⓡⓢⓣⓤⓥⓦⓦⓧⓨⓩ",RAWSTR_2:"αв¢∂єƒgнιנкℓмησρqяѕтυνωχуzᗩᗷᑕᗪᗴᖴǤᕼᎥᒎᛕᒪᗰᑎᗝᑭɊᖇᔕ丅ᑌᐯᗯ᙭ƳƵΔβĆĐ€ℱᎶĦƗĴҜŁΜŇØƤΩŘŞŦỮVŴЖ¥Žค๒ς๔єŦỮVŴЖ¥Ž",RAWSTR_3:"ค๒ς๔єŦﻮђเןкl๓ภ๏קợгรtยשฬאץzαвc∂εғgнιנкℓмησρqяsтυvωxүzάвςđέғģħίјķĻмήόρqŕşţùνώxчž",RAWSTR_4:"【】〖〗〘〙〚〛￡￥￦﹫♔♕♖♗♘♙♚♛♜♝♞♟♠♡♢♣♤♥♦♧♨♩♪♬★☆▒▓█▇▆▅▄▃▂▁▶◀▷◁☚☛☜☝☞☟☠☢☮☯☹☺™®©«»ᛋ",RAWSTR_5:"†‡₪Ωℬℛ⛵✊✌✋✨✩✪✫✬✭✮✯✰✦✱✲✳✴✵✶✷✸✹✺✻✼✽✾✿❀❁❂❃❄❮❯❰❱❴❵¢š¤ßɷΞΣѠѲѾ۝۞۩૪ௐ೧ೱൠᖫᖭᘔᘕᴥ⫷⫸ツƸƷȎȏʘܫෆ",RAWSTR_6:"ඏ෴࿂✌࿄࿅࿇࿈࿉࿊◕‿ℂℍℕℙℚℝℤƟƎƧƔИΞΣЯϽᏨᏳᏊᴎ⁅⁆₪♋♏♀♂Ᵽ웃┠┨╠╣▉▊▋▌▍▎▏▐▔▕■▬▀▄◐◑◒◓◧◨◩◪ℛℜɅℇ❶❷❸❹❺❻❼❽❾❿",RAWSTR_7:"➀➁➂➃➄➅➆➇➈➉ⱢⱣƩƐƧƨ☪☭☾☽୧୨≪≫≺≻≼≽≾≿⋜⋝⋞⋟⋐⋑⊂⊃⊏⊐⊑⊒",CUST_NAME:["( ͡° ͜ʖ ͡°)"]};b.exports=d},{}],225:[function(a,b,c){var d=function(){this._localStorageCheck=function(){if(null===window)return!1;try{return window.localStorage.setItem("game","game"),window.localStorage.removeItem("game"),!0}catch(a){return!1}return!1},isMobileCheck=function(){if(/Mobi/.test(navigator.userAgent))return!0}};b.exports=d},{}],226:[function(a,b,c){var d=a("events").EventEmitter,e=a("util"),f=a("./gameConf.js"),g=function(a){var b=f.MOUSE_CLICK_POLL_TIME;this._ONE="66",this._N="78",this.FIRE_KEY="32",this.POR_KEY=this.press="pressed",this.down="down",this.ctrlDown=!1,this.tildaDown=!1,this.qDown=!1,this.devConsoleON=!1;var c,d,e,g=a,h=0,i=0,j=0,k=0,l=!1,m=!1,n=!1;this.lastMouseDown=Date.now(),this.mousedown_EVENT=function(a){1===a?this.emit("m:lc",{x:j,y:k,o:!0}):3===a&&this.emit("m:rc",{x:j,y:k,o:!0})}.bind(this),this.removeEvents=function(){this.removeAllListeners()},this.mouseup_EVENT=function(a){1===a?this.emit("m:lc_",{x:j,y:k,o:!1}):3===a&&this.emit("m:rc_",{x:j,y:k,o:!1})}.bind(this),this.updateWindowSizes=function(a){g=a,e=c.getBoundingClientRect()},this.mouseDown=function(a){var c=this,e=Date.now(),f=e-this.lastMouseDown,g=Number(a.which);1===g?(m=!0,f>b&&(this.mousedown_EVENT(g),this.lastMouseDown=e,d=setInterval(function(){c.mousedown_EVENT(g)},b))):3!==g||m||(n=!0,this.mousedown_EVENT(g))},this.mouseUp=function(a){var b=Number(a.which);m?(m=!1,this.mouseup_EVENT(b),clearInterval(d)):n&&(n=!1,this.mouseup_EVENT(b))},this.mouseMove=function(a){j=Math.floor((a.clientX-e.left)/(e.right-e.left)*c.width),k=Math.floor((a.clientY-e.top)/(e.bottom-e.top)*c.height),j!==h&&k!==i&&this.emit("mouseMove",{x:j,y:k}),h=j,i=k},this.debug=function(){return l},this.setKeyEvents=function(a){l=a},this.toggleDevConsole=function(){this.devConsoleON,this.devConsoleON=!this.devConsoleON},this.setMouseEvents=function(a){void 0===window&&null===window||(c=c||window.document.getElementById("canvas"),e=c.getBoundingClientRect(),null!==c&&(window.addEventListener("mousedown",this.mouseDown.bind(this),!0),c.addEventListener("mousemove",this.mouseMove.bind(this),!0),window.addEventListener("mouseup",this.mouseUp.bind(this),!0)))},function(a){null===window&&void 0===window||(document.onkeydown=a._onKeyDown.bind(a)),document.onkeyup=a._onKeyUp.bind(a)}(this)};e.inherits(g,d),g.prototype._onKeyDown=function(a){a=a||window.event,a.keyCode==this.FIRE_KEY&&this.emit("c:f")},g.prototype._onKeyUp=function(a){a.keyCode==this.CTRL&&(this.ctrlDown=!1),a.keyCode==this.Q&&(this.qDown=!1),a.keyCode==this._N&&this.emit("bot"),67==a.keyCode&&this.emit("split"),a.preventDefault()},g.prototype.events={POWER_UP:"Life:powerup",COLLISION:"Life:collision"},b.exports=g},{"./gameConf.js":224,events:9,util:214}],227:[function(a,b,c){var d=a("./gameConf.js"),e=function(a,b){this.type=b,this.renderer=a,this.lbRect=void 0,this.countsTex=void 0,this.plNames=void 0,this.score=void 0,this.clrs=[];var c=0;this.container=new PIXI.Container;this.createLB_common=function(){++c>1||(this.clrs=this.renderer.initLB_clrs(this.container),this.lbRect=this.renderer.createLB_rect(this.container),this.countsTex=this.renderer.createLB_counting(this.container,this.clrs),this.plNames=this.renderer.createLB_names(this.container,this.clrs),this.score=this.renderer.createLB_scores(this.container,this.clrs),this.cbi=setInterval(this.lbupdate,1e3))},this.lbUpdate=function(){}.bind(this),this.killLB=function(){clearInterval(this.cbi)},this.addRecord=function(){},this.createLB_esg=function(){this.createLB_common()},this.createLB_tb=function(){this.createLB_common()},this.createLB_ass=function(){this.createLB_common()},this.createLB_ctf=function(){this.createLB_common()},this.createLB_knt=function(){this.createLB_common()},this.createLB_dom=function(){this.createLB_common()},this.createLB_lms=function(){this.createLB_common()},this.createLB_monster=function(){this.createLB_common()},b==d.MODE_NAMES.ESG?this.createLB_esg():b==d.MODE_NAMES.TEAM_BATTLE?this.createLB_tb():b==d.MODE_NAMES.ASSAULT?this.createLB_ass():b==d.MODE_NAMES.CTF?this.createLB_ctf():b==d.MODE_NAMES.DOMINATION?this.createLB_dom():b==d.MODE_NAMES.LAST_MAN_STANDING?this.createLB_lms():b==d.MODE_NAMES.MONSTER?this.createLB_monster():b==d.MODE_NAMES.KNT&&this.createLB_knt()};b.exports=e},{"./gameConf.js":224}],228:[function(a,b,c){var d=function(){function a(a,b){if(!e[a]){e[a]={};for(var c=0;c<a.length;c++)e[a][a.charAt(c)]=c}return e[a][b]}var b=String.fromCharCode,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",e={},f={compressToBase64:function(a){if(null==a)return"";var b=f._compress(a,6,function(a){return c.charAt(a)});switch(b.length%4){default:case 0:return b;case 1:return b+"===";case 2:return b+"==";case 3:return b+"="}},decompressFromBase64:function(b){return null==b?"":""==b?null:f._decompress(b.length,32,function(d){return a(c,b.charAt(d))})},compressToUTF16:function(a){return null==a?"":f._compress(a,15,function(a){return b(a+32)})+" "},decompressFromUTF16:function(a){return null==a?"":""==a?null:f._decompress(a.length,16384,function(b){return a.charCodeAt(b)-32})},compressToUint8Array:function(a){for(var b=f.compress(a),c=new Uint8Array(2*b.length),d=0,e=b.length;e>d;d++){var g=b.charCodeAt(d);c[2*d]=g>>>8,c[2*d+1]=g%256}return c},decompressFromUint8Array:function(a){if(null===a||void 0===a)return f.decompress(a);for(var c=new Array(a.length/2),d=0,e=c.length;e>d;d++)c[d]=256*a[2*d]+a[2*d+1];var g=[];return c.forEach(function(a){g.push(b(a))}),f.decompress(g.join(""))},compressToEncodedURIComponent:function(a){return null==a?"":f._compress(a,6,function(a){return d.charAt(a)})},decompressFromEncodedURIComponent:function(b){return null==b?"":""==b?null:(b=b.replace(/ /g,"+"),f._decompress(b.length,32,function(c){return a(d,b.charAt(c))}))},compress:function(a){return f._compress(a,16,function(a){return b(a)})},_compress:function(a,b,c){if(null==a)return"";var d,e,f,g={},h={},i="",j="",k="",l=2,m=3,n=2,o=[],p=0,q=0;for(f=0;f<a.length;f+=1)if(i=a.charAt(f),Object.prototype.hasOwnProperty.call(g,i)||(g[i]=m++,h[i]=!0),j=k+i,Object.prototype.hasOwnProperty.call(g,j))k=j;else{if(Object.prototype.hasOwnProperty.call(h,k)){if(k.charCodeAt(0)<256){for(d=0;n>d;d++)p<<=1,q==b-1?(q=0,o.push(c(p)),p=0):q++;for(e=k.charCodeAt(0),d=0;8>d;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}else{for(e=1,d=0;n>d;d++)p=p<<1|e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e=0;for(e=k.charCodeAt(0),d=0;16>d;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}l--,0==l&&(l=Math.pow(2,n),n++),delete h[k]}else for(e=g[k],d=0;n>d;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1;l--,0==l&&(l=Math.pow(2,n),n++),g[j]=m++,k=String(i)}if(""!==k){if(Object.prototype.hasOwnProperty.call(h,k)){if(k.charCodeAt(0)<256){for(d=0;n>d;d++)p<<=1,q==b-1?(q=0,o.push(c(p)),p=0):q++;for(e=k.charCodeAt(0),d=0;8>d;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}else{for(e=1,d=0;n>d;d++)p=p<<1|e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e=0;for(e=k.charCodeAt(0),d=0;16>d;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}l--,0==l&&(l=Math.pow(2,n),n++),delete h[k]}else for(e=g[k],d=0;n>d;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1;0==--l&&(l=Math.pow(2,n),n++)}for(e=2,d=0;n>d;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1;for(;;){if(p<<=1,q==b-1){o.push(c(p));break}q++}return o.join("")},decompress:function(a){return null==a?"":""==a?null:f._decompress(a.length,32768,function(b){return a.charCodeAt(b)})},_decompress:function(a,c,d){var e,f,g,h,i,j,k,l=[],m=4,n=4,o=3,p="",q=[],r={val:d(0),position:c,index:1};for(e=0;3>e;e+=1)l[e]=e;for(g=0,i=Math.pow(2,2),j=1;j!=i;)h=r.val&r.position,r.position>>=1,0==r.position&&(r.position=c,r.val=d(r.index++)),g|=(h>0?1:0)*j,j<<=1;switch(g){case 0:for(g=0,i=Math.pow(2,8),j=1;j!=i;)h=r.val&r.position,r.position>>=1,0==r.position&&(r.position=c,r.val=d(r.index++)),g|=(h>0?1:0)*j,j<<=1;k=b(g);break;case 1:for(g=0,i=Math.pow(2,16),j=1;j!=i;)h=r.val&r.position,r.position>>=1,0==r.position&&(r.position=c,r.val=d(r.index++)),g|=(h>0?1:0)*j,j<<=1;k=b(g);break;case 2:return""}for(l[3]=k,f=k,q.push(k);;){if(r.index>a)return"";for(g=0,i=Math.pow(2,o),j=1;j!=i;)h=r.val&r.position,r.position>>=1,0==r.position&&(r.position=c,r.val=d(r.index++)),g|=(h>0?1:0)*j,j<<=1;switch(k=g){case 0:for(g=0,i=Math.pow(2,8),j=1;j!=i;)h=r.val&r.position,r.position>>=1,0==r.position&&(r.position=c,r.val=d(r.index++)),g|=(h>0?1:0)*j,j<<=1;l[n++]=b(g),k=n-1,m--;break;case 1:for(g=0,i=Math.pow(2,16),j=1;j!=i;)h=r.val&r.position,r.position>>=1,0==r.position&&(r.position=c,r.val=d(r.index++)),g|=(h>0?1:0)*j,j<<=1;l[n++]=b(g),k=n-1,m--;break;case 2:return q.join("")}if(0==m&&(m=Math.pow(2,o),o++),l[k])p=l[k];else{if(k!==n)return null;p=f+f.charAt(0)}q.push(p),l[n++]=f+p.charAt(0),m--,f=p,0==m&&(m=Math.pow(2,o),o++)}}};return f}();"function"==typeof define&&define.amd?define(function(){return d}):void 0!==b&&null!=b&&(b.exports=d)},{}],229:[function(a,b,c){var d,e={0:!1,1:!0},f=(a("./keyboard.js"),a("./portal.js")),g=a("events").EventEmitter,h=a("util"),i=a("./gameConf.js"),j=(i.RAD_MASS_R,i.DEL_SCALE_EAT),k=a("./bullet.js"),l=a("./fastmath.js"),m=(a("pixi.js"),a("pixi-extra-filters")),n=new l,o=Math.min,p=Math.max,q=i.HEALTH_EFF_DEL_COUNT,r=function(a,b){a[a.length]=b},s=function(a,b){for(var c=0,d=a.length;c!=d;c++)if(a[c]===b)return c;return-1},t=function(a,b){var c=a.length;if(c){for(;b<c;)a[b]=a[b+1],b++;a.length--}};!function(){if("undefined"!=typeof window&&("performance"in window==0&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==0)){var a=Date.now();performance.timing&&performance.timing.navigationStart&&(a=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-a}}}(),Number.prototype.fixed=function(a){return a=a||3,parseFloat(this.toFixed(a))};var u=function(a,b,c,g,h,l,v,w,x,y){var z=null;d=a,this.playerStates=[],this.id=b,this.color="",this.position={x:c,y:g},this.multiplier=0,this.keyboard=w,this.inputQue=[],this.name="",this.skinName="",this.skcolor="",this.angle=0,this.visible=!0,this.renderDelay=0,this.sum=0,this.portals=[],this.percent=0,this.gs={},this.count=0,this.rotationOn=!1,this.outerScale=0,this.startMass=i.RAD_MASS_R*i.START_RAD,this.mass=i.RAD_MASS_R*i.START_RAD,this.soulAdded=!1,this.cb="",this.canDie=!1,this.dead=!1,this.self=y,this.ed=0,this.delScale=0,this.bulletsCache=[],this.fI_BC=[],this.uI_BC=[],this.gridNames={},this.bulletCount=0,this.initPortal=function(){var a={x:20,y:30},b=x.setupPortal();this.portals.push(new f(a.x,a.y,100,b))},this.pushColorSprite=function(a,b){this.gs[""+b]=this.gs[""+b]||[],s(this.gs[""+b],a)<0&&r(this.gs[""+b],a)},this.getAllSprites=function(){return this.gs},this.setBaseSprites=function(a){for(var b,c=a.split("#"),d=c[0].split(","),e=0;e<d.length;e++)b=d[e].split("_"),this.gs[""+b[2]-1]=this.gs[""+b[2]-1]||[],r(this.gs[""+b[2]-1],b[0]+"_"+b[1])},this.removeColorSprite=function(a){var b=(""+a).split("_"),c=this.gs[""+b[2]]||[];if(c.length){var d=s(c,a);d>=0&&t(c,d)}},this.initBulletCache=function(){for(var a,b=0,c=i.MAX_BULLETS;b<c;b++)a=x.setupBullet(),a.x=200,a.y=200,a.visible=!0,this.bulletsCache[this.bulletCount++]=new k(a),r(this.fI_BC,c-1-b)},this.playerStart=function(){this.graphic=x.updatePlayer(this.self)},this.setColor_skin_name=function(a,b,c,d){if(this.color="0x"+(""+a).slice(1),this.name=b,c){var e=i.FILES[i.FILESI[""+c.n]]||"";if(this.skinName=c.n,""!==e){var f=x.getTex(e)||"";f&&(this.graphic[1].getChildAt(0).texture=f)}this.graphic[1].tint=c.c||"0xFFE5C8",this.skcolor=c.c}this.graphic[this.graphic.length-1].text=""+this.name,this.graphic[0].tint=this.color,x.updatePlayerEyes(this.graphic,c,this.skinName)},this.clearData=function(a){x.clearPlContainers(a)},this.shootBullet=function(a){a=(""+a).split("*");var b=this.fI_BC.pop();r(this.uI_BC,b),this.bulletsCache[b].set(this.position,parseFloat(a[0]),10,1,this.removeBullet_time.bind(this),b,parseInt(a[1]),parseInt(a[2]))},this.removeBullet_time=function(a){this.bulletsCache[a].reset(),r(this.fI_BC,a);var b=this.uI_BC.indexOf(a);b>=0&&this.uI_BC.splice(b,1)},this.removeBulletHit=function(a){var b=this.uI_BC,c=this.bulletsCache;a=parseInt(a);for(var d=0;d<this.uI_BC.length;d++)c[b[d]].sid===a&&(this.bulletsCache[b[d]].reset(),r(this.fI_BC,b[d]),this.uI_BC.splice(d,1))},this.hitByBullet=function(){},this.healthEffects=x.setupHealthEffect(q),this.graphic=x.setupPlayer(y),this.outerScale=this.graphic[0].scale.x,this.outerScaler=this.graphic[0],this.updateSkin=function(){},this.scaleAniDone=function(a){this.soulAdded=!1,this.outerScale=a},this.updateScale=function(a){if(!this.canDie){var b=this.graphic,c=1+(a-this.startMass)*j;this.soulAdded=!0,this.delScale=p(1,c),this.mass=a;var d=b[b.length-1],e=b[b.length-2];e.text=""+this.mass,e.scale.x=e.scale.y=d.scale.x=d.scale.y=p(.4,o(2,this.outerScale/2-.4)),this.cb=setTimeout(this.scaleAniDone.bind(this,c),200)}},this.reset=function(){this.renderDelay=0,this.sum=0,this.percent=0},this.collectClientInput=function(a,b,c){var d=0,e=0;return z={x:a-this.position.x,y:-b+this.position.y},e=n.fastAtan2(z.y,z.x),d=Math.sqrt(parseInt(Math.pow(z.x,2)+Math.pow(z.y,2)))/50,this.self&&(this.dist=d,this.angle=e),r(this.inputQue,c,d),[this.angle,this.dist]},this.setPos=function(a){this.position.x=a.x,this.position.y=a.y},this.getColor=function(){return this.color},this.hideShow=function(){this.visible||(this.graphic[0].visible=!1,this.graphic[1].visible=!1,this.playerStates=[],this.position.x=-999999,this.position.y=-999999)},this.hideDataWise=function(){this.visible=!1},this.pushStates=function(a,b,c,d){if(d){var f=e[a[4]];this.graphic[0].visible=!0,this.graphic[1].visible=!0,this.playerStates.length>=50&&t(this.playerStates,0),this.visible=d,r(this.playerStates,{posx:parseFloat(a[1]),posy:parseFloat(a[2]),dt:parseFloat(b),t:c}),this.sum=0,this.updateScale(Number(a[3])),f&&f!==this.canDie&&(this.canDie=f),this.dead=e[a[5]]}},this.initPortal(),this.initBulletCache(),this.eyeUpdate=function(a){},u.prototype.updateGraphicOther=function(a){this.updateCommon(a)},u.prototype.split=function(){},u.prototype.rotate=function(){this.rotationOn=!0},u.prototype.rotateOff=function(){this.rotationOn=!1},u.prototype.discFromServ=function(a){},u.prototype.underAttack=function(){this.shine(this.graphic[1])},u.prototype.shine=function(){for(var a=1,b=0,c=0,d=!1,e=!1,f=[],g=0;g<q;g++)r(f,g);return function(f){if(!d){d=!0,e=!0;var g=f.getChildByName("cover");g.alpha=0,c=0,b=0,a=1,shineInt=setInterval(function(){d&&(b+=.08*a),c++,g.alpha=o(.8,b);c<=6&&g.alpha>=.8?g.alpha=.8:1==a&&c>6&&(a=-1),c>=12&&(g.alpha=0,d=!1,clearInterval(shineInt))},33)}}}(),u.prototype.update_eye_fn=function(){var a,b,c=0,d=this,e=this.graphic,f=e[1].getChildByName("eyes");u.prototype.eyeG_update=function(e){c+=.08,a=o(5,p(-5,(n.cos(d.angle)*d.dist*4).toFixed(2))),b=o(5,p(-5,(n.sin(d.angle)*d.dist*4).toFixed(2))),f.x=a,f.y=-b,this.outerScaler.alpha=.35*(n.sin(c)+1)/2+.5}},
u.prototype.updateCommon=function(a){var b=this.graphic,c=this.outerScale;b[1].x=b[0].x=this.position.x,b[1].y=b[0].y=this.position.y,b[0].rotation=.1*this.count*c,this.count+=.1,b[0].scale.x=c+.023*n.sin(this.count),b[0].scale.y=c+.023*n.cos(this.count),b[1].scale.x=.3+.5*c+.023*n.sin(this.count),b[1].scale.y=.3+.5*c+.023*n.cos(this.count),b[2].y=b[1].y-b[0].height/1.6,b[3].x=b[2].x=b[1].x,b[3].y=b[1].y+b[0].height/1.6,this.soulAdded&&c<this.delScale&&(this.outerScale+=a/1e3,this.outerScale=o(this.delScale,c)),this.rotationOn&&(b[1].rotation+=.5,b[0].rotation=1*this.count*c)},u.prototype.rightClick=function(a){this.rotationOn=a,a?(this.graphic[0].filters=[new m.GlowFilter(15,5,1,this.color,.1)],this.graphic[1].tint=16711680):(this.graphic[0].filters=[],this.graphic[1].tint=this.skcolor)},u.prototype.updateGraphicSelf=function(a){this.updateCommon(a),this.eyeG_update(a)},u.prototype.updateDataCommon=function(a){var b=0,c=this.playerStates,d=c.length,e=0,f={};d>2&&(e=this.percent,b=c[d-1].dt,this.sum+=a,e=this.sum/b,f=this.v_lerp(c[d-2],c[d-1],e),this.position.x=f[0],this.position.y=f[1]);var g=this.bulletsCache,h=this.uI_BC;h.length;if(h.length>0)for(var i=0;i<h.length;i++)g[h[i]].update(a)},u.prototype.updateOther=function(a){this.updateDataCommon(a)},u.prototype.updateSelf=function(a){this.updateDataCommon(a),this.eyeUpdate(a)},y?(this.dist=0,this.angle=0,this.update=u.prototype.updateSelf,this.updateGraphic=u.prototype.updateGraphicSelf):(this.update=u.prototype.updateOther,this.updateGraphic=u.prototype.updateGraphicOther)};h.inherits(u,g),u.prototype.getGraphic=function(){return this.graphic[0]},u.prototype.v_lerp=function(a,b,c){return[this.lerp(a.posx,b.posx,c),this.lerp(a.posy,b.posy,c)]},u.prototype.lerp=function(a,b,c){return c=p(0,o(1,c)),Math.floor(a*(1-c)+b*c)},u.prototype.shootBlobs=function(){},u.prototype.touchedByAThing=function(){this.shootBlobs()},b.exports=u},{"./bullet.js":219,"./fastmath.js":222,"./gameConf.js":224,"./keyboard.js":226,"./portal.js":230,events:9,"pixi-extra-filters":26,"pixi.js":159,util:214}],230:[function(a,b,c){var d=function(a,b,c,d){};d.prototype.setPos=function(a,b){xpos=a,ypos=b},d.prototype.getPos=function(){return{x:xpos,y:ypos}},d.prototype.attacked=function(a){this.health-=a,this.health<=0&&(this.health=0)},b.exports=d},{}],231:[function(a,b,c){var d,e=function(a,b){a[a.length]=b},f=a("jquery"),g=a("./camera.js"),h=a("./fastmath.js"),i=new h,j=a("./gameConf.js"),k=a("pixi-extra-filters"),l={},m=0,n=(PIXI.utils.TextureCache,PIXI.Texture,PIXI.BaseTexture,PIXI.Container),o=(PIXI.Rectangle,PIXI.autoDetectRenderer),p=PIXI.loader,q=PIXI.Sprite,r=PIXI.loader.resources,s=PIXI.Graphics,t=(PIXI.Texture.fromImage,Math.max),u=Math.min,v=j.DO_SC,w=j.DO_A,x=j.DO_SP,y=j.BO_SC,z=j.BO_CL,A=j.BO_A,B=(j.BO_LW,j.BO_SZ),C=j.SHOOT_REFILL_SIZE,D=(j.BO_LC,j.BO_LA,j.T_COLORS.YELLOW,j.T_COLORS.GREEN),E=j.T_COLORS.RED,F=j.T_COLORS.BLUE,G=j.GRID_SPR_BASE_CLR,H=j.DOT_FILES,I=j.DOT_CLRS,J=function(a,b){this.width=C,this.height=C/4,this.x=a,this.y=b,this.count=0,this.graphics=void 0,this.base=void 0,this.container=new n,this.reset=function(){var a=this,b=0,c=a.graphics,d=parseInt((j.MOUSE_CLICK_POLL_TIME-30)/40),e=setInterval(function(){b++,b>=40&&(c.scale.x=2,clearInterval(e)),c.scale.x=Math.min(2,c.scale.x+.05)},d)},this.flush=function(){var a=this,b=0,c=a.graphics,d=setInterval(function(){b++,b>=2&&(c.scale.x=.04,clearInterval(d),a.reset()),c.scale.x=Math.max(0,c.scale.x-.1)},16)},this.set=function(a,b){var c=r[j.FILES[j.FILESI.healthbar]].texture,d=new q(c);d.tint=16711680;var e=new q(c);e.tint=65280,d.anchor.x=e.anchor.x=0,d.anchor.y=e.anchor.y=.5,d.scale.x=d.scale.y=1,e.scale.y=1,e.scale.x=d.scale.x=2,e.x=d.x=this.x-this.width,e.y=d.y=this.y,d.displayGroup=e.displayGroup=b,this.container.addChild(d),this.container.addChild(e),this.graphics=e,a.addChild(this.container)}},K=function(a,b,c,d){this.width=c,this.height=d,this.x=a,this.y=b,this.count=0,this.graphics=void 0,this.lines=void 0,this.container=new n};K.prototype.update=function(a){this.count+=a;var b=this.count;this.lines.alpha=.2*i.sin(b)+.7,this.lines.scale.x=1+i.sin(b)*y,this.lines.scale.y=1+i.cos(b)*y},K.prototype.setBoundary=function(a,b){var c=new s,d=new s,e=B;c.beginFill(z,A),c.drawRect(this.x-e,this.y-e,this.width+e,e),c.drawRect(this.x+this.width,this.y-e,e,this.height+2*e),c.drawRect(this.x-e,this.y-e,e,this.height+e),c.drawRect(this.x-e,this.y+this.height,this.width+e,e),c.displayGroup=b,c.endFill(),d.lineStyle(10,16720384,.7),d.drawRect(this.x,this.y,this.width,1),d.drawRect(this.x+this.width,this.y,1,this.height),d.drawRect(this.x,this.y,1,this.height),d.drawRect(this.x,this.y+this.height,this.width,1),d.endFill(),this.container.addChild(c),this.container.addChild(d),a.addChild(this.container),this.graphics=c,this.lines=d};var L=function(a,b,c,d,e){this.startX=a,this.blockno=e,this.row=d,this.startY=b,this.dim=c,this.container=new n,this.container.pivot.x=.5,this.container.pivot.y=.5,this.gridSprites=[],this.gridDots=[],this.added=!1,this.onDotsCount=0,this.onDotsIds=[],this.onSpriteCount=0};L.prototype.resetDots=function(){this.onDotsIds=[];for(var a=0,b=this.gridDots.length;a<b;a++)this.gridDots[a].disable()},L.prototype.innerCheck=function(a,b){return-1},L.prototype.resetGroundSprites=function(a){for(var b=this.gridSprites,c=0;c<b.length;c++)if(b[c].id===a){b[c].fastReset();break}},L.prototype.stepOnGrid=function(a,b,c){for(var d=this.gridSprites,e=a,f=d.length,g=-1,h=0;h<f;h++)if(d[h].id===e){g=h;break}return g>=0?d[g].setTint(b,.6,c):""},L.prototype.setStartGridClrs=function(a,b){for(var c=this.gridSprites,d=c.length,e=-1,f=0;f<d;f++)if(c[f].id===a){e=f;break}e>=0&&c[e].setTintBasic_start(b,.6)},L.prototype.hideDotFromServ=function(a,b,c){var d=this.gridDots,e=d.length,f=-1,g=0;for(g=0;g<e;g++)if(d[g].id===a){f=g;break}f>=0&&d[f].collision(b,c)},L.prototype.update=function(a,b,c){for(var d,e=this.gridDots,f=e.length,g=Math.abs,h=c[0]/2,i=c[1]/2,j=0;j<f;j++)d=e[j].sprite,g(b.x-d.x)<=h&&g(b.y-d.y)<=i?e[j].update(a):e[j].disableDAni()},L.prototype.isVisible=function(){return this.container.visible},L.prototype.addToOnDots=function(a){for(var b=this.onDotsIds,c=0,d=a.length;c<d;c++){var f=a[c][3];b.indexOf(f)<0&&e(b,f)}},L.prototype.addToOnDotsStart=function(a){for(var b=this.onDotsIds,c=this.gridDots,d=a.length,f=0;f<d;f++)c[f].onFromServ(a[f]),e(b,a[f])},L.prototype.setDots=function(a,b){for(var c=this.container,d=this.gridSprites.length,f=0,g=0;g<d;g+=1){var h=i.getRandomIntInclusive(0,4),j=r[""+H[h]].texture;sprite=new q(j),sprite.scale.x=1,sprite.scale.y=1,sprite.anchor.x=.5,sprite.anchor.y=.5,sprite.y=0,sprite.x=0,f++,e(this.gridDots,new M(sprite,I[H[h]])),sprite.displayGroup=b,c.addChild(sprite),sprite.visible=!1}},L.prototype.remFromOnDots=function(a){for(var b=this.onDotsIds,c=0,d=a.length;c<d;c++){var e=a[c][3],f=b.indexOf(e);f>=0&&b.splice(f,1)}},L.prototype.getSize=function(){return this.dim},L.prototype.getStartX=function(){return this.startX},L.prototype.getStartY=function(){return this.startY},L.prototype.setBlocks=function(a,b,c,f){for(var g=d,h=(this.dim-g*f)/g,i=this.startX,j=this.container,k=this.startY,l=0,m=0;m<g;m+=1)for(var n=0;n<g;n+=1)sprite=new q(c),l++,sprite.scale.x=O,sprite.scale.y=O,sprite.y=k+Math.floor(h*(m+1)+m*f),sprite.x=i+Math.floor(h*(n+1)+n*f),e(this.gridSprites,new N(sprite,sprite.x+"_"+sprite.y,this.blockno)),sprite.displayGroup=b,j.addChild(sprite);j.visible=!1,this.added||a.addChild(this.container)},L.prototype.updateDotsData=function(a,b,c,d){for(var e=d.length,f=0;f<e;f++);},L.prototype.show=function(){this.container.visible=!0},L.prototype.hide=function(){this.container.visible=!1};var M=function(a,b){this.count=0,this.sprite=a,this.color=b,this.enabled=!0,this.cb="",this.id="",this.time=-1,this.state=0,this.ed=0,this.factor=.03+.09*Math.random()};M.prototype.collision=function(a,b){this.time=a[0],this.state=3,this.ed=i.fastAtan2(b.y-this.sprite.y,b.x-this.sprite.x),setTimeout(this.popped.bind(this,a),120)},M.prototype.popped=function(a){this.enabled=!1,this.sprite.visible=!1,this.state=0,this.cb=setTimeout(this.on.bind(this,a[1],a[2]),this.time)},M.prototype.on=function(a,b){var c=this;""!==this.cb&&clearTimeout(this.cb),this.factor=.03+.09*Math.random();var d=this.id.slice(0).split("_"),e=i.getRandomIntInclusive(0,4);this.color=I[H[e]];var f=this.sprite;f.texture=r[""+H[e]].texture,f.scale.x=0,f.alpha=1,f.scale.y=0,f.x=parseInt(d[0]),f.y=parseInt(d[1]),f.x+=parseInt(a),f.y+=parseInt(b),this.enabled=!0,this.show(),this.state=1,setTimeout(function(){c.state=2},150)},M.prototype.onFromServ=function(a){var b=a.split("_");this.sprite.x=parseInt(b[0]),this.sprite.y=parseInt(b[1]),this.id=a,this.show(),this.enabled=!0,this.state=2},M.prototype.show=function(){this.sprite.visible=!0},M.prototype.isVisible=function(){return this.sprite.visible},M.prototype.disable=function(){this.sprite.visible=!1,this.count=0,this.enabled=!1,this.cb="",this.id="",this.time=-1,this.state=0,this.ed=0},M.prototype.update=function(a){if(this.enabled){var b=this.state,c=this.sprite,d=0;c.visible||(c.visible=!0),3===b?(c.scale.x-=v,c.scale.y-=v,c.alpha-=w,c.scale.x<=0&&(c.scale.x=0,c.scale.y=0),c.x+=i.cos(this.ed)*x,c.y+=i.sin(this.ed)*x):1===b?(c.scale.x+=.01,c.scale.y+=.01):2===b&&(this.count+=this.factor,d=this.count,c.x+=i.cos(d)*this.factor*2,c.y+=i.sin(d)*this.factor*2,c.scale.x=1+.05*i.sin(d),c.scale.y=1+.05*i.cos(d))}},M.prototype.disableDAni=function(){this.sprite.visible=!1};var N=function(a,b,c){this.sprite=a,this.filled=!1,this.color="",this.id=b,this.owner="",this.bno=c,this.sprResetInt=[],this.cachedColor="",a.tint=G,this.timerHandler=void 0};N.prototype.setOwner=function(a){this.owner},N.prototype.hex_rgb=function(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null},N.prototype.rgb_hex=function(a,b,c){var d=a<<16|b<<8|c;return function(a){return new Array(7-a.length).join("0")+a}(d.toString(16).toUpperCase())},N.prototype.fastReset=function(){this.sprite.tint="0x222222",this.owner=""},N.prototype.isPossessed=function(){return"0x222222"!==this.sprite.tint},N.prototype.isPossBySelf=function(a){return this.sprite.tint===a},N.prototype.setTintBasic_start=function(a,b){this.sprite.tint=""+a,b&&(this.sprite.alpha=b)},N.prototype.setTint=function(a,b,c){var d=a,e=this.sprite;return e.alpha=.4,e.tint=d,this.owner=c,e.alpha=b||1,e.filters=[new k.GlowFilter(3,1,1,d,.03)],setTimeout(function(){e.filters=[],e.alpha=.8},100),this.owner},N.prototype.getX=function(){return this.sprite.x},N.prototype.getY=function(){return this.sprite.y},N.prototype.getXY=function(){return{x:this.sprite.x,y:this.sprite.y}},N.prototype.getColor=function(){return this.color},N.prototype.isFilled=function(){return this.filled};var O=0,P=0,Q=function(a){var b,c,h,k,v,w,x,y=0,z=j.FILES,A=0,B=a,C=0,G=[],H=[],I=new PIXI.DisplayGroup(0,!1),M=new PIXI.DisplayGroup(7,!1);new PIXI.filters.BlurFilter;this.camera=null,this.lastPatt="",this.winWidth=0,this.winHeight=0,this.gridNames={},this.view=null,this.gridSet=!1,this.player=void 0,this.otherplayers=[],this.plNamesOnGrid=[],this.activeBlocks=[],this.playerColorTable={},this.getPlayerStage=function(){return v},this.setWorldDotsDataForABlock_start=function(a,b){var c=G[t(0,b-1)];a=a.split(","),c.addToOnDotsStart(a)},this.resetBlockDots=function(){for(var a=0;a<G.length;a++)G[a].resetDots()},this.pushPlNameOnGrid=function(a,b,c){},this.setWorldTileData=function(a){},this.changeBackgroundColor=function(a){b.backgroundColor=a},this.getClient=function(){return B},this.initServer=function(a){y=a.ws,m=a.nb,j.worldSize=y,d=a.qq,j.GRID_RECT_SPRITE_P_BLOCK=d,A=y/m,P=a.ge_si,O=a.ge_sc},this.getCanvasData=function(){var a=b.view;return{x:a.width,y:a.height}},this.winResize=function(){var a=t(600,window.innerWidth),c=t(window.innerHeight),d=b.view;return this.winWidth=a,this.winHeight=c,d.width=a*window.devicePixelRatio,d.height=c*window.devicePixelRatio,d.style.width=a+"px",d.style.height=c+"px",b&&(b.resize(d.width,d.height),this.camera&&this.camera.updateViewPort(d.width,d.height)),window.scrollTo(0,0),{x:d.width,y:d.height}},this.blurBackground=function(a){},this.updateSkinDetails=function(a){l=a},this.setupRenderer=function(a){b=new o(null,null,{backgroundColor:j.BACKGROUND_COLORS.NORMAL,antialias:!0}),this.view=b.view,document.body.appendChild(this.view),b.view.id="canvas",c=c||new n,h=h||new n,v=v||new n,k=k||new n,k.pivot.x=.5,k.pivot.y=.5,v.pivot.x=.5,v.pivot.y=.5,c.pivot.x=h.pivot.x=.5,c.pivot.y=h.pivot.y=.5,h.addChild(k),h.addChild(v),f(b.view).attr("id","canvas"),this.winResize();var d=this;this.loadSprites(function(){d.spritesLoaded=!0,a()}),l=j.SKIN_DETAILS},this.setGridMain=function(a,b,c){this.setupGrid(a,b,c)},this.showPlayerBlock=function(){for(var a=this.player.position,b={x:a.x-this.winWidth/2,y:a.y-this.winHeight/2,width:this.winWidth,height:this.winHeight},c=this.getGridBlockFor(b.x,b.y,0),d=this.getGridBlockFor(b.x+b.width,b.y,1),f=this.getGridBlockFor(b.x,b.y+b.height,3),g=c.y*m+c.x,h=d.y*m+d.x,i=f.y-c.y,j=[],k=0;k<=i;k++)for(var l=g;l<=h;l++)e(j,+(l+k*m));for(var n=0;n<j.length;n++)G[j[n]].show()},this.flushShootBar=function(){x.flush()},this.setCamera=function(a){this.reset(),this.player=a;var d=a.getGraphic();null!==this.camera&&void 0!==this.camera||(this.camera=new g(h,b.view.width,b.view.height,d),this.camera.zoom=1,this.winResize(),c.addChild(this.camera))},this.loadImg=function(a,b){p.add(a).load(b)},this.loadM_Img=function(a,b){for(var c=[],d=0,e=0,f=a.length;e<f;e++)a[e].length>0&&(c[d++]=""+a[e]);d=0,p.add(c).load(b)},this.loadSprites=function(a){this.loadImg(z,this.loadSpritesCallback.bind(this,a))},this.loadSpriteImg=function(a,b){this.loadImg([a],this.loadSpritesCallback.bind(this,b))},this.loadSpritesCallback=function(a){a()},this.setupPortal=function(){var a=new s;return a.beginFill(65280),a.lineStyle(4,0,1),a.drawCircle(0,0,20),a.endFill(),a.filter=[],a},this.playerSetCallback=function(){},this.setupBullet=function(){var a=r[j.FILES[j.FILESI.bullet]].texture,b=new q(a);return b.anchor.x=j.P_A,b.anchor.y=j.P_A,b.scale.x=j.BULL_SCALE,b.scale.y=j.BULL_SCALE,b.displayGroup=I,v.addChild(b),b},this.DOM_createAreaZones=function(a){var b=new s;b.beginFill(E,.8),b.lineStyle(5,E,.8),b.drawRect(0,0,a.r.s,a.r.s),b.beginFill(E,.8),b.lineStyle(5,E,.8),b.drawRect(a.r.x,a.r.y,a.r.s,a.r.s),b.beginFill(D,.8),b.lineStyle(5,D,.8),b.drawRect(a.g.x,a.g.y,a.g.s,a.g.s),b.beginFill(F,.8),b.lineStyle(5,F,.8),b.drawRect(a.b.x,a.b.y,a.b.s,a.b.s),b.displayGroup=I,k.addChild(b)},this.setBar=function(){x=new J(.5*this.winWidth,.93*this.winHeight),x.set(c,I)},this.initLB_clrs=function(a){c.addChild(a);for(var b=[j.LB_CLRS[0].c,j.LB_CLRS[1].c,j.LB_CLRS[2].c],d=0;d<7;d++)b.push(j.LB_CLRS[Math.floor(7*Math.random()+3)].c);return b},this.createLB_counting=function(a,b){for(var c=.13*this.winWidth,d=new Array(10),f=j.LB_CLR_FALL,g=j.LB_CLR_START,h=.27*this.winHeight,i=.99*this.winWidth,k=.01*this.winHeight,l=0;l<10;l++){var m="#"+(l+1),n=new PIXI.Text(m,{stroke:0,strokeThickness:1,fill:b[l],fontSize:15});n.anchor.x=0,n.anchor.y=.5,n.alpha=l>=5?g-l*f:g,n.displayGroup=M,n.x=i-c+.05*c,9==l&&(n.x=i-c+.05*c-8),n.y=k+.08*h+.1*h+.08*h*l,a.addChild(n),e(d,n)}return[d,b]},this.createLB_names=function(a,b){for(var c=j.LB_CLR_FALL,d=j.LB_CLR_START,f=.13*this.winWidth,g=new Array(10),h=.27*this.winHeight,i=.99*this.winWidth,k=.01*this.winHeight,l=0;l<10;l++){var m=new PIXI.Text("boomgamer",{stroke:3355443,strokeThickness:2,fill:b[l],fontSize:15});m.anchor.x=0,m.anchor.y=.5,m.alpha=l>=5?d-l*c:d,m.displayGroup=M,m.x=i-f+.2*f,m.y=k+.08*h+.1*h+.08*h*l,a.addChild(m),e(g,m)}return g},this.createLB_scores=function(a,b){for(var c=.13*this.winWidth,d=new Array(10),f=.27*this.winHeight,g=.99*this.winWidth,h=.01*this.winHeight,i=0;i<10;i++){var j=new PIXI.Text("2222",{stroke:3355443,strokeThickness:2,fill:b[i],fontSize:15});j.anchor.x=0,j.anchor.y=.5,j.alpha=i>=5?.8-.08*i:.8,j.displayGroup=M,j.x=g-c+.7*c,j.y=h+.08*f+.1*f+.08*f*i,a.addChild(j),e(d,j)}return d},this.createLB_rect=function(a){var b=r[j.FILES[j.FILESI.fr]].texture,c=new q(b),d=.13*this.winWidth,e=.27*this.winHeight,f=.99*this.winWidth,g=.01*this.winHeight;c.anchor.x=c.anchor.y=0,c.scale.x=c.scale.y=.6,c.x=f-d+3,c.y=g+.06*e,c.alpha=.8,c.rotation=-.25;var h=new s;h.beginFill(3355443,.16),h.lineStyle(1,11184810,.1),h.drawRect(f-d,g,d,e),h.endFill();var i=new PIXI.Text("Leaderboard",{stroke:3355443,strokeThickness:2,fill:16777215,fontSize:22});return i.alpha=.9,i.anchor.x=i.anchor.y=.5,i.displayGroup=M,i.x=f-d/2,i.y=g+.08*e,h.displayGroup=I,a.addChild(h),a.addChild(c),a.addChild(i),[h,i]},this.pushPlName=function(a,b,c){},this.getTex=function(a){var b=(""+a).trim();return r[b].texture},this.updatePlayerEyes=function(a,b,c){var d=r[j.FILES[j.FILESI.pcirclefill]].texture,e=new q(d);e.anchor.y=e.anchor.x=j.P_A,e.tint=16711680,e.alpha=0,e.name="cover";var f=0,g="b",h=j.EYE_CLR[g];b&&l&&c&&(g=l[""+c].eyes||"b",h=j.EYE_CLR[g]);var i=new s;a[1].removeChildAt(2);var k=0,m=0,n=[8.6,1.35,2.4,5],d=r[j.FILES[j.FILESI.pcirclefill]].texture,o=new q(d);o.scale.y=o.scale.x=j.P_I_SKIN,k=o.x+o.width/n[u(n.length-1,f++)]-o.width/2,offset=o.width/n[u(n.length-1,f++)],m=o.y+o.height/n[u(n.length-1,f++)]-o.height/2,i.beginFill(h,.9),i.drawCircle(k,m,n[u(n.length-1,f)]+1),i.drawCircle(k+offset,m,n[u(n.length-1,f)]+1),i.endFill(),i.beginFill("0x000000",0),i.lineStyle(2,0,1),i.drawCircle(k,m,n[u(n.length-1,f)]+2),i.drawCircle(k+offset,m,n[u(n.length-1,f)]+2),i.endFill(),i.beginFill("0x000000",1),i.drawCircle(k,m,n[u(n.length-1,f)]-3),i.drawCircle(k+offset,m,n[u(n.length-1,f)]-3),i.endFill(),i.name="eyes",a[1].addChild(i),a[1].addChild(e)},this.setupHealthEffect=function(a){},this.clearContainer=function(){var a=0;return function(b){for(;b.children.length>0;)a++,this.clearContainer(b.children[0]);a=0,b.parent.removeChild(b),b=void 0}}(),this.reset=function(){this.camera&&(this.camera.reset(),this.camera=void 0,c.removeChild(this.camera))},this.clearPlContainers=function(a){this.clearContainer(v),h.addChild(v),a()},this.setupPlayer=function(){var a,b=r[j.FILES[j.FILESI.pcircle]].texture,c=r[j.FILES[j.FILESI.pcirclefill]].texture,d=r[j.FILES[j.FILESI.pcircleouter]].texture,e=(r[j.FILES[j.FILESI.healthbar]].texture,0),f=0,g=j.PNAME_CLRS[Math.floor(4*Math.random())],h=new s,i=new s,k=new q(b),l=new q(c),m=new q(c),n=[8.6,1.35,2.4,5],o=0,p=new PIXI.Text(" ",{stroke:3355443,strokeThickness:2,fill:g,fontSize:15});p.scale.x=p.scale.y=1,k.alpha=1,m.scale.x=m.scale.y=.9,l.scale.y=l.scale.x=j.P_I_SKIN,e=l.x+l.width/n[u(n.length-1,o++)]-l.width/2,offset=l.width/n[u(n.length-1,o++)],f=l.y+l.height/n[u(n.length-1,o++)]-l.height/2,a=1.5*l.width,h.beginFill(16711680,.9),h.drawCircle(e,f,n[u(n.length-1,o)]),h.drawCircle(e+offset,f,n[u(n.length-1,o)]),h.endFill(),h.name="eyes";var t=new PIXI.Text("",{stroke:1118481,strokeThickness:1,fill:g,fontSize:38});t.scale.x=t.scale.y=1;var w=new q(d),x=new PIXI.Text("",{stroke:1118481,strokeThickness:2,fill:g,fontSize:38});return i.beginFill(16711680,.9),i.drawRect(l.x-a,l.y-l.height/4,2*a,l.height/2),i.drawCircle(e+offset,f,4),i.alpha=.7,i.endFill(),x.anchor.x=x.anchor.y=t.anchor.x=t.anchor.y=m.anchor.x=m.anchor.y=l.anchor.y=l.anchor.x=k.anchor.y=k.anchor.x=j.ZERO_5,t.alpha=.8,t.scale.x=t.scale.y=x.scale.x=x.scale.y=.6,t.interactive=!1,x.interactive=!1,w.anchor.y=w.anchor.x=j.ZERO_5,w.scale.y=w.scale.x=1,w.tint=j.P_O_T,w.alpha=j.P_O_A,l.addChild(m),l.addChild(k),l.addChild(h),k.displayGroup=I,v.addChild(x),v.addChild(w),v.addChild(l),v.addChild(t),[w,l,x,t]},this.resetDeadSprites=function(a){var b=a.gs,c=Object.keys(b),d=0,e={};if(c.length>0)for(var f=0;f<c.length;f++)if(d=b[c[f]]||[],""!==(e=G[t(0,c[f])]||""))for(var g=0;g<d.length;g++)e.resetGroundSprites(d[g])},this.saveAndGetColor=function(a){var b=i.hex_rgb(a);return this.playerColorTable[""+a]=b,b},this.baseColorSet=function(a,b,c){for(var d,e=b.split("#"),f=e[0].split(","),g=0;g<f.length;g++)d=f[g].split("_"),G[d[2]-1].setStartGridClrs(d[0]+"_"+d[1],a.color)},this.gridChangeServ=function(a,b,c,d){var e,f,g=0,h={},i=0,j=0,k="";for(g=0,len=a.length;g<len;g++)f=a[g].slice(1).split("_"),i=f[3],j=Number(f[4]),k=f[0]+"_"+f[1],this.player.id===i?h=this.player||"":c[""+i]&&(h=c[""+i]||""),""!==h&&(e=h.color),this.gridNames[k]=this.gridNames[k]||"",""!==this.gridNames[k]?this.pushPlNameOnGrid(h.name,f[0],f[1]):j>=37&&j%37==0&&this.pushPlNameOnGrid(h.name,f[0],f[1]),h.pushColorSprite(k,f[2]-1),G[t(0,f[2]-1)].stepOnGrid(k,e,h);var l=[],m="",f=[],n="";for(g=0,len=b.length;g<len;g++)l=b[g].slice(1).split("."),m=l[0],f=m.split("_"),n=l[1].split("_"),i=n[3],this.player.id===i?h=this.player||"":c[""+i]&&(h=c[""+i]||""),G[t(0,f[2]-1)].hideDotFromServ(m,n,h.position)},this.changeScaleDelta=function(a){v&&this.camera.setZoom(a)},this.createLeaderboard=function(){},this.setupWorldGridBlocks=function(){for(var a=-y/2,b=-y/2,c=0,d=0,e=0,f=A,g=y/f,h=0;h<g;h++){d=b+h*f,H.push(d);for(var i=0;i<g;i++)c=a+i*f,G.push(new L(c,d,f,h+1,++e))}},this.getGridBlockFor=function(a,b,c){return{x:u(m-1,t(0,Math.floor((a+y/2)/A))),y:u(m-1,t(0,Math.floor((b+y/2)/A)))}},this.setupGrid=function(a,b,c){var d=this;if(!c){this.setupWorldGridBlocks();var e=r[j.FILES[j.FILESI.gridele]].texture;width=P*O;for(var f=G,g=f.length,h=0;h<g;h++)f[h].setBlocks(k,I,e,width),f[h].setDots(k,I)}d.showPlayerBlock.bind(d)(),a(),b(),w=new K(-y/2,-y/2,y,y),w.setBoundary(k,I)},this.cullView=function(){for(var a=this.player.position,b={x:a.x-this.winWidth/2,y:a.y-this.winHeight/2,width:this.winWidth,height:this.winHeight},c=this.getGridBlockFor(b.x,b.y,0),d=this.getGridBlockFor(b.x+b.width,b.y,1),e=this.getGridBlockFor(b.x,b.y+b.height,3),f=c.y*m+c.x,g=d.y*m+d.x,h=e.y-c.y,i="",j=0;j<=h;j++)for(var k=f;k<=g;k++)i+=k+j*m+"_";if(i=i.slice(0,-1),this.lastPatt!==i){for(var l=i.split("_"),n=this.lastPatt.split("_"),o=0;o<l.length;o++)l[o]=+l[o];for(var p=0;p<n.length;p++)n[p]=+n[p];var q=l.slice();l=l.filter(function(a){return-1==n.indexOf(a)}),n=n.filter(function(a){return-1==q.indexOf(a)});for(var r=0;r<l.length;r++)G[l[r]].show();for(var s=0;s<n.length;s++)G[n[s]].hide();this.lastPatt=i}},this.showVisibleBlockCount=function(){for(var a=0,b=0;b<G.length;b++)G[b].isVisible()&&a++},this.renderWorld=function(a,d,e){if(this.camera){var f=Date.now();a.updateGraphic(e);var g=[b.view.width,b.view.height];Object.keys(d).forEach(function(a,b){d[""+a].updateGraphic(e)}),++C%7==0&&(this.cullView(),w.update(e));for(var h=G,i=h.length,j=0;j<i;j++)h[j].isVisible()&&h[j].update(e,a.position,g);this.camera.update(e),b.render(c);Date.now()}}};b.exports=Q},{"./camera.js":220,"./fastmath.js":222,"./gameConf.js":224,jquery:15,"pixi-extra-filters":26}],232:[function(a,b,c){var d=($=a("jquery"),a("./gameConf.js")),e="",f=function(a){e=d.MAIN_CONN,this.app=a,this.init=function(){},this.GS_fbConnect=function(a,b,c,d,e){var f=(""+b).trim(),g=JSON.stringify(d);this.sendReq_login(f,c,g,e)},this.removeTag=function(a,b,c){var d=JSON.stringify(c);this.sendReq_rmvTag(a,b,d)},this.syncTags=function(a,b,c){a=a.replace(/\s/g,"_");var d=(""+a).trim(),e=JSON.stringify(c);this.syncTagReq(d,b,e)},this.syncTagReq=function(a,b,c){var d=e+"/tagsync";$.ajax({type:"GET",headers:{"Access-Control-Request-Headers":"x-requested-with"},url:d,dataType:"json",data:{userid:a,sid:b,tags:c}}).done(function(a){})},this.sendReq_rmvTag=function(a,b,c){var d=e+"/deltag";$.ajax({type:"GET",url:d,headers:{"Access-Control-Request-Headers":"x-requested-with"},dataType:"json",data:{userid:a,sid:b,tags:c}}).done(function(a){})},this.sendReq_login=function(a,b,c,d){var f=e+"/login";$.ajax({type:"GET",url:f,headers:{"Access-Control-Request-Headers":"x-requested-with"},dataType:"json",data:{userid:a,sid:b,tags:c}}).done(function(a){var b=a.data||"";""!==b&&(b=JSON.parse(b),d(b))})},this.sendReq_tags=function(){var a=e+"/"+d.PLAYER_DATA_URL_STR;$.ajax({type:"GET",headers:{"Access-Control-Request-Headers":"x-requested-with"},url:a,dataType:"json"}).done(function(a){})},this.init()};b.exports=f},{"./gameConf.js":224,jquery:15}],233:[function(a,b,c){!function(a,d){"use strict";"function"==typeof define&&define.amd?define(d):"object"==typeof c?b.exports=d():a.SAT=d()}(this,function(){"use strict";function a(a,b){this.x=a||0,this.y=b||0}function b(b,c){this.pos=b||new a,this.r=c||0}function c(b,c){this.pos=b||new a,this.angle=0,this.offset=new a,this.setPoints(c||[])}function d(b,c,d){this.pos=b||new a,this.w=c||0,this.h=d||0}function e(){this.a=null,this.b=null,this.overlapN=new a,this.overlapV=new a,this.clear()}function f(a,b,c){for(var d=Number.MAX_VALUE,e=-Number.MAX_VALUE,f=a.length,g=0;g<f;g++){var h=a[g].dot(b);h<d&&(d=h),h>e&&(e=h)}c[0]=d,c[1]=e}function g(a,b,c,d,e,g){var h=r.pop(),i=r.pop(),j=p.pop().copy(b).sub(a),k=j.dot(e);if(f(c,e,h),f(d,e,i),i[0]+=k,i[1]+=k,h[0]>i[1]||i[0]>h[1])return p.push(j),r.push(h),r.push(i),!0;if(g){var l=0;if(h[0]<i[0])if(g.aInB=!1,h[1]<i[1])l=h[1]-i[0],g.bInA=!1;else{var m=h[1]-i[0],n=i[1]-h[0];l=m<n?m:-n}else if(g.bInA=!1,h[1]>i[1])l=h[0]-i[1],g.aInB=!1;else{var m=h[1]-i[0],n=i[1]-h[0];l=m<n?m:-n}var o=Math.abs(l);o<g.overlap&&(g.overlap=o,g.overlapN.copy(e),l<0&&g.overlapN.reverse())}return p.push(j),r.push(h),r.push(i),!1}function h(a,b){var c=a.len2(),d=b.dot(a);return d<0?u:d>c?w:v}function i(a,b){var c=p.pop().copy(a).sub(b.pos),d=b.r*b.r,e=c.len2();return p.push(c),e<=d}function j(a,b){t.pos.copy(a),s.clear();var c=n(t,b,s);return c&&(c=s.aInB),c}function k(a,b,c){var d=p.pop().copy(b.pos).sub(a.pos),e=a.r+b.r,f=e*e,g=d.len2();if(g>f)return p.push(d),!1;if(c){var h=Math.sqrt(g);c.a=a,c.b=b,c.overlap=e-h,c.overlapN.copy(d.normalize()),c.overlapV.copy(d).scale(c.overlap),c.aInB=a.r<=b.r&&h<=b.r-a.r,c.bInA=b.r<=a.r&&h<=a.r-b.r}return p.push(d),!0}function l(a,b,c){for(var d=p.pop().copy(b.pos).sub(a.pos),e=b.r,f=e*e,g=a.calcPoints,i=g.length,j=p.pop(),k=p.pop(),l=0;l<i;l++){var m=l===i-1?0:l+1,n=0===l?i-1:l-1,o=0,q=null;j.copy(a.edges[l]),k.copy(d).sub(g[l]),c&&k.len2()>f&&(c.aInB=!1);var r=h(j,k);if(r===u){j.copy(a.edges[n]);var s=p.pop().copy(d).sub(g[n]);if((r=h(j,s))===w){var t=k.len();if(t>e)return p.push(d),p.push(j),p.push(k),p.push(s),!1;c&&(c.bInA=!1,q=k.normalize(),o=e-t)}p.push(s)}else if(r===w){if(j.copy(a.edges[m]),k.copy(d).sub(g[m]),(r=h(j,k))===u){var t=k.len();if(t>e)return p.push(d),p.push(j),p.push(k),!1;c&&(c.bInA=!1,q=k.normalize(),o=e-t)}}else{var v=j.perp().normalize(),t=k.dot(v),x=Math.abs(t);if(t>0&&x>e)return p.push(d),p.push(v),p.push(k),!1;c&&(q=v,o=e-t,(t>=0||o<2*e)&&(c.bInA=!1))}q&&c&&Math.abs(o)<Math.abs(c.overlap)&&(c.overlap=o,c.overlapN.copy(q))}return c&&(c.a=a,c.b=b,c.overlapV.copy(c.overlapN).scale(c.overlap)),p.push(d),p.push(j),p.push(k),!0}function m(a,b,c){var d=l(b,a,c);if(d&&c){var e=c.a,f=c.aInB;c.overlapN.reverse(),c.overlapV.reverse(),c.a=c.b,c.b=e,c.aInB=c.bInA,c.bInA=f}return d}function n(a,b,c){for(var d=a.calcPoints,e=d.length,f=b.calcPoints,h=f.length,i=0;i<e;i++)if(g(a.pos,b.pos,d,f,a.normals[i],c))return!1;for(var i=0;i<h;i++)if(g(a.pos,b.pos,d,f,b.normals[i],c))return!1;return c&&(c.a=a,c.b=b,c.overlapV.copy(c.overlapN).scale(c.overlap)),!0}var o={};o.Vector=a,o.V=a,a.prototype.copy=a.prototype.copy=function(a){return this.x=a.x,this.y=a.y,this},a.prototype.clone=a.prototype.clone=function(){return new a(this.x,this.y)},a.prototype.perp=a.prototype.perp=function(){var a=this.x;return this.x=this.y,this.y=-a,this},a.prototype.rotate=a.prototype.rotate=function(a){var b=this.x,c=this.y;return this.x=b*Math.cos(a)-c*Math.sin(a),this.y=b*Math.sin(a)+c*Math.cos(a),this},a.prototype.reverse=a.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},a.prototype.normalize=a.prototype.normalize=function(){var a=this.len();return a>0&&(this.x=this.x/a,this.y=this.y/a),this},a.prototype.add=a.prototype.add=function(a){return this.x+=a.x,this.y+=a.y,this},a.prototype.sub=a.prototype.sub=function(a){return this.x-=a.x,this.y-=a.y,this},a.prototype.scale=a.prototype.scale=function(a,b){return this.x*=a,this.y*=b||a,this},a.prototype.project=a.prototype.project=function(a){var b=this.dot(a)/a.len2();return this.x=b*a.x,this.y=b*a.y,this},a.prototype.projectN=a.prototype.projectN=function(a){var b=this.dot(a);return this.x=b*a.x,this.y=b*a.y,this},a.prototype.reflect=a.prototype.reflect=function(a){var b=this.x,c=this.y;return this.project(a).scale(2),this.x-=b,this.y-=c,this},a.prototype.reflectN=a.prototype.reflectN=function(a){var b=this.x,c=this.y;return this.projectN(a).scale(2),this.x-=b,this.y-=c,this},a.prototype.dot=a.prototype.dot=function(a){return this.x*a.x+this.y*a.y},a.prototype.len2=a.prototype.len2=function(){return this.dot(this)},a.prototype.len=a.prototype.len=function(){return Math.sqrt(this.len2())},o.Circle=b,b.prototype.getAABB=b.prototype.getAABB=function(){var b=this.r;return new d(this.pos.clone().sub(new a(b,b)),2*b,2*b).toPolygon()},o.Polygon=c,c.prototype.setPoints=c.prototype.setPoints=function(b){if(!this.points||this.points.length!==b.length){var c,d=this.calcPoints=[],e=this.edges=[],f=this.normals=[];for(c=0;c<b.length;c++)d.push(new a),e.push(new a),f.push(new a)}return this.points=b,this._recalc(),this},c.prototype.setAngle=c.prototype.setAngle=function(a){return this.angle=a,this._recalc(),this},c.prototype.setOffset=c.prototype.setOffset=function(a){return this.offset=a,this._recalc(),this},c.prototype.rotate=c.prototype.rotate=function(a){for(var b=this.points,c=b.length,d=0;d<c;d++)b[d].rotate(a);return this._recalc(),this},c.prototype.translate=c.prototype.translate=function(a,b){for(var c=this.points,d=c.length,e=0;e<d;e++)c[e].x+=a,c[e].y+=b;return this._recalc(),this},c.prototype._recalc=function(){var a,b=this.calcPoints,c=this.edges,d=this.normals,e=this.points,f=this.offset,g=this.angle,h=e.length;for(a=0;a<h;a++){var i=b[a].copy(e[a]);i.x+=f.x,i.y+=f.y,0!==g&&i.rotate(g)}for(a=0;a<h;a++){var j=b[a],k=a<h-1?b[a+1]:b[0],l=c[a].copy(k).sub(j);d[a].copy(l).perp().normalize()}return this},c.prototype.getAABB=c.prototype.getAABB=function(){for(var b=this.calcPoints,c=b.length,e=b[0].x,f=b[0].y,g=b[0].x,h=b[0].y,i=1;i<c;i++){var j=b[i];j.x<e?e=j.x:j.x>g&&(g=j.x),j.y<f?f=j.y:j.y>h&&(h=j.y)}return new d(this.pos.clone().add(new a(e,f)),g-e,h-f).toPolygon()},o.Box=d,d.prototype.toPolygon=d.prototype.toPolygon=function(){var b=this.pos,d=this.w,e=this.h;return new c(new a(b.x,b.y),[new a,new a(d,0),new a(d,e),new a(0,e)])},o.Response=e,e.prototype.clear=e.prototype.clear=function(){return this.aInB=!0,this.bInA=!0,this.overlap=Number.MAX_VALUE,this};for(var p=[],q=0;q<10;q++)p.push(new a);for(var r=[],q=0;q<5;q++)r.push([]);var s=new e,t=new d(new a,1e-6,1e-6).toPolygon();o.isSeparatingAxis=g;var u=-1,v=0,w=1;return o.pointInCircle=i,o.pointInPolygon=j,o.testCircleCircle=k,o.testPolygonCircle=l,o.testCirclePolygon=m,o.testPolygonPolygon=n,o})},{}],234:[function(a,b,c){var d=(a("./gameConf.js"),function(){this.primus=null,this.unlockSkin=function(a){this.primus&&this.primus.send("c.sk.p",a)},this.init=function(a){this.primus=a}});b.exports=d},{"./gameConf.js":224}],235:[function(a,b,c){var d=function(a){function b(a){var b=this;window.fbAsyncInit=function(){FB.init({appId:"1771754096378256",cookie:!0,xfbml:!0,version:"v2.7"}),FB.getLoginStatus(function(c){a.call(b,c)})},function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk")}function c(a){gapi.load("auth2",function(){auth2=gapi.auth2.init({client_id:"880217176157-4c7va4dmdlau1uov5mh5rdtua2gabs9p.apps.googleusercontent.com",cookiepolicy:"single_host_origin"}),a.gInit(document.getElementById("btn-google-plus-glo"))})}this.app=a,this.gInit=function(a){auth2.attachClickHandler(a,{},this.gResponse.bind(this),this.gResponseErr.bind(this))},this.gLogin=function(a){},this.fbBtnClicked=function(){var a=this,b="";FB.login(function(c){"connected"===c.status?(b=c.authResponse.userID,
FB.api("/me",function(d){FB.api("/me/picture?type=normal",function(e){if(void 0!==a.app){var f=d.name||"Unknown Gamer",g=e.data.url;a.app.loginSucc("fb",{data:{name:f,url:g}}),a.loginFB_Connect(c.authResponse.accessToken,f,b,g)}})})):c.status},{scope:"public_profile,email"})},this.fLogin=function(a){},this.serverConnectSocial=function(a){this.app.connectSocial(a,token)},this.gResponseErr=function(a){},this.gResponse=function(a){this.app.isOnline(!0);var b=a.w3.ig||"Unknown Gamer",c=a.w3.Paa,d=a.Zi.access_token;this.app.loginSucc("goo",{data:{name:b,url:c}}),this.loginGoo_Connect(d)},this.loginFB_Connect=function(a,b,c,d){this.app.GS_fbConnect(a,b,c,d)},this.loginGoo_Connect=function(a){this.app.GS_gooConnect(a)},this.logOut=function(a,b){if("fb"===a)FB.logout(function(c){b(a,c)});else if("google"===a){var c=gapi.auth2.getAuthInstance();c.signOut().then(function(c){b(a,c)})}},this.fResponse=function(a){var b=this;this.app.isOnline(!0);var c="",d=(a.status,"");a.authResponse&&a.authResponse.accessToken&&(c=a.authResponse.accessToken,d=a.authResponse.userID,"connected"===a.status&&FB.api("/me",function(a){FB.api("/me/picture?type=normal",function(e){var f=a.name||"Unknown Gamer",g=e.data.url;b.loginFB_Connect(c,f,d,g)})}))},this.init=function(){c(this),b(this.fResponse.bind(this))}};b.exports=d},{}],236:[function(a,b,c){var d=a("./gameConf.js"),e=d.Taunt_DEF_STA,f=a("./lz-string.js"),g=function(a){if(""===(f.decompressFromBase64(window.store.get("tags"))||"")){var b=f.compressToBase64("0*");window.store.set("tags",b)}this.clearTauntsLocal=function(){if(""!==(f.decompressFromBase64(window.store.get("tags"))||"")){var a=f.compressToBase64("0*");window.store.set("tags",a)}},this.addTagFromOnline=function(a,b){newTaunts=b+"_"+taunt+"@"+e,newTaunts=f.compressToBase64(newTaunts),window.store.set("tags",newTaunts),cb(d.SUCCESS)},this.addIfNotPresent_browser=function(a){if($(".taunts-scroll").children().length>d.Taunt_Max)return void cb(d.Taunt_CB_RES.nospace);var b=f.decompressFromBase64(window.store.get("tags"))||"";if(""!==b){for(var c=0;c<a.length;c++){b.indexOf(a[c].name+"@")<0&&(b=b+"_"+a[c].name+"@"+a[c].status)}b=f.compressToBase64(b),window.store.set("tags",b)}},this.getLocalTaunts=function(){var a=[],b="",c=[],d="",e=f.decompressFromBase64(window.store.get("tags"))||"";if(""===e){var g=f.compressToBase64("0*");return window.store.set("tags",g),a}if(parseInt(e.charAt(0)),b=(e.split("*")||["",""])[1],b.length<=0)return a;c=b.substr(1,b.length-1).split("_"),d="";for(var h=0;h<c.length;h++)d=c[h].split("@"),a.push({name:""+d[0],status:""+d[1]});return a},this.getLocalTaunts_server=function(){var a={},b="",c=[],d="",e=f.decompressFromBase64(window.store.get("tags"))||"";if(""===e){var g=f.compressToBase64("0*");return window.store.set("tags",g),a}if(parseInt(e.charAt(0)),b=(e.split("*")||["",""])[1],b.length<=0)return a;c=b.substr(1,b.length-1).split("_"),d="";for(var h=0;h<c.length;h++)d=c[h].split("@"),a["t"+(h+1)]={tag:""+d[0],status:""+d[1]};return a},this.addMultiTauntSync=function(a){if(!(a.length<1)){var b="",c=f.decompressFromBase64(window.store.get("tags"))||"";if(""===c){var d=f.compressToBase64("0*");window.store.set("tags",d)}b=c;for(var e="",g=0;g<a.length;g++)b.indexOf(a[g].tag+"@")<0&&(e=e+"_"+a[g].tag+"@"+a[g].status);b+=e,b=f.compressToBase64(b),window.store.set("tags",b)}},this.addTaunt=function(a,b){if($(".taunts-scroll").children().length>d.Taunt_Max)return void b(d.Taunt_CB_RES.nospace);if(a=a.trim(),a.length<=1||a.length>41)return void b(d.Taunt_CB_RES.length);var c="",g=f.decompressFromBase64(window.store.get("tags"))||"";if(g.indexOf(a+"@")>=0)return void b(d.Taunt_CB_RES.alreadyfound);if(""===g){var h=f.compressToBase64("0*");window.store.set("tags",h)}c=g+"_"+a+"@"+e,c=f.compressToBase64(c),window.store.set("tags",c),b(d.SUCCESS)},this.toggleTaunt=function(a,b,c){var d="",e=0;a=a.trim();var g=f.decompressFromBase64(window.store.get("tags"))||"";if(!(a.length<0&&a.length>41)&&""!==g){var h=g.indexOf(a+"@");if(-1!==h){var i=h+a.length+1;"on"===b?e=b.length+1:"off"===b&&(e=b.length-1),g=g.substr(0,i)+b+g.substr(i+e),d=f.compressToBase64(g),window.store.set("tags",d)}}},this.removeTaunt=function(a,b,c){a=a.trim(),b=b.trim();var d="",e="",g=0,h=0,i=-1,j=-1,k=-1;a.length<0&&a.length>41||""!==(e=f.decompressFromBase64(window.store.get("tags"))||"")&&-1!==(i=e.indexOf(a+"@"))&&(i>0&&"_"===e.charAt(i-1)&&(h=1),j=i-h,"on"===b?g=3:"off"===b&&(g=4),k=i+a.length+g,k=Math.min(e.length,k),e=e.substr(0,j)+e.substr(k),d=f.compressToBase64(e),window.store.set("tags",d))},this.hasTaunt=function(){},this.checkTaunt=function(){}};b.exports=g},{"./gameConf.js":224,"./lz-string.js":228}],237:[function(a,b,c){var d=function(a){var b,c=a;return b="undefined"==typeof requestAnimationFrame?function(a){return setImmediate(function(){a(c)},c)}:window.requestAnimationFrame,function(a){return b(a)}};b.exports=d},{}],238:[function(a,b,c){var d=a("./gameConf.js"),e=(d.NO_OF_GRID_BLOCKS,PIXI.utils.TextureCache,PIXI.Texture,PIXI.BaseTexture,PIXI.Container),f=(PIXI.Rectangle,PIXI.autoDetectRenderer,PIXI.loader,PIXI.Sprite,PIXI.loader.resources,PIXI.Graphics),g=(PIXI.Texture.fromImage,d.DO_SC,d.DO_A,d.DO_SP,d.BO_SC),h=d.BO_CL,i=d.BO_A,j=d.BO_LW,k=d.BO_SZ,l=d.BO_LC,m=d.BO_LA,n=(d.T_COLORS.YELLOW,d.T_COLORS.GREEN,d.T_COLORS.RED,d.T_COLORS.BLUE,d.GRID_SPR_BASE_CLR,d.DOT_FILES,d.DOT_CLRS,function(a,b,c,d){this.width=c,this.height=d,this.x=a,this.y=b,this.count=0,this.graphics=void 0,this.container=new e});n.prototype.update=function(a){this.count+=a;var b=this.count;this.graphics.scale.x=1+Math.sin(b)*g,this.graphics.scale.y=1+Math.cos(b)*g},n.prototype.setBoundary=function(a,b){var c=new f,d=k;c.beginFill(h,i),c.lineStyle(j,l,m),c.drawRect(this.x-d,this.y-d,this.width+d,d),c.drawRect(this.x+this.width,this.y-d,d,this.height+d),c.drawRect(this.x-d,this.y-d,d,this.height+d),c.drawRect(this.x-d,this.y+this.height,this.width+d,d),c.displayGroup=b,this.container.addChild(c),a.addChild(this.container),this.graphics=c},b.exports=n},{"./gameConf.js":224}]},{},[218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238]);